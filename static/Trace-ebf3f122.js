var hv=Object.defineProperty;var dv=(o,r,i)=>r in o?hv(o,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[r]=i;var U=(o,r,i)=>(dv(o,typeof r!="symbol"?r+"":r,i),i);import{f as pv,ee as mv,o as gv,j as vv,b as Th,d as bv,ef as yv,eg as wv,eh as Ev,r as N,ei as _h,bg as Xt,ej as xv,ek as da,V as M,a7 as Ot,bX as pn,el as uo,ac as nr,em as es,a$ as ts,b0 as ns,aS as fo,aN as Kt,aQ as Mt,aL as Ch,a6 as Zo,en as Sv,eo as po,c5 as kv,cy as Go,aT as Tv,c7 as Mh,ay as nt,aU as Ha,ep as xl,cP as Rf,eq as Sl,bE as _v,bA as Cv,er as Mv,an as ga,es as Ov,et as Oh,eu as Nv,ev as Iv,cf as Dv,az as Rv,aA as Av,aD as Pv,aE as Lv,ew as jv,ex as Fv,bt as Bv,ey as Vv,c1 as $v,ez as zv,ab as Hv,eA as Wv,eB as Uv,ar as kl,eC as Jo,eD as Zv,eE as Gv,eF as Nh,ba as Ih,au as en,bV as Jv,bW as qv,bY as Xv,bZ as Yv,cH as Qv,cI as Kv,eG as eb,cu as Dh,bd as tb,cp as nb,ai as rb,cO as ab,dz as yi,bF as ib,bB as ob,eH as sb,aq as Af,dq as lb,ds as Pf,eI as cb,eJ as ub}from"./index-3a76b207.js";import{f as Ua,C as fb,b as hb,c as db,_ as pb,t as mb,u as gb,a as vb,e as bb}from"./useLandscapeMode-e7a72966.js";import{g as Rh,P as yb,f as Ah,c as wb,T as Lf,E as Eb,D as Ph,L as xb,a as Sb,t as jf}from"./transform-trace-data-def61dd7.js";import{i as kb,g as Tb,P as _b,a as Cb,T as Lh,b as jh,C as Tl}from"./Table-c8993972.js";var Fh=pv(function(r,i){const s=mv("Link",r),{className:c,isExternal:d,...m}=gv(r);return vv.jsx(Th.a,{target:d?"_blank":void 0,rel:d?"noopener":void 0,ref:i,className:bv("chakra-link",c),...m,__css:s})});Fh.displayName="Link";const qo=o=>o?typeof o=="function"?o():o:null,Mb=o=>{const{componentCls:r,popoverColor:i,minWidth:s,fontWeightStrong:c,popoverPadding:d,boxShadowSecondary:m,colorTextHeading:v,borderRadiusLG:w,zIndexPopup:E,marginXS:S,colorBgElevated:O,popoverBg:V}=o;return[{[r]:Object.assign(Object.assign({},Ev(o)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:E,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":O,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${r}-content`]:{position:"relative"},[`${r}-inner`]:{backgroundColor:V,backgroundClip:"padding-box",borderRadius:w,boxShadow:m,padding:d},[`${r}-title`]:{minWidth:s,marginBottom:S,color:v,fontWeight:c},[`${r}-inner-content`]:{color:i}})},Tb(o,{colorBg:"var(--antd-arrow-background-color)"}),{[`${r}-pure`]:{position:"relative",maxWidth:"none",margin:o.sizePopupArrow,display:"inline-block",[`${r}-content`]:{display:"inline-block"}}}]},Ob=o=>{const{componentCls:r}=o;return{[r]:_b.map(i=>{const s=o[`${i}6`];return{[`&${r}-${i}`]:{"--antd-arrow-background-color":s,[`${r}-inner`]:{backgroundColor:s},[`${r}-arrow`]:{background:"transparent"}}}})}},Nb=o=>{const{componentCls:r,lineWidth:i,lineType:s,colorSplit:c,paddingSM:d,controlHeight:m,fontSize:v,lineHeight:w,padding:E}=o,S=m-Math.round(v*w),O=S/2,V=S/2-i,X=E;return{[r]:{[`${r}-inner`]:{padding:0},[`${r}-title`]:{margin:0,padding:`${O}px ${X}px ${V}px`,borderBottom:`${i}px ${s} ${c}`},[`${r}-inner-content`]:{padding:`${d}px ${X}px`}}}},Bh=yv("Popover",o=>{const{colorBgElevated:r,colorText:i,wireframe:s}=o,c=wv(o,{popoverPadding:12,popoverBg:r,popoverColor:i});return[Mb(c),Ob(c),s&&Nb(c),kb(c,"zoom-big")]},o=>({width:177,minWidth:177,zIndexPopup:o.zIndexPopupBase+30}),{deprecatedTokens:[["width","minWidth"]]});var Ib=globalThis&&globalThis.__rest||function(o,r){var i={};for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&r.indexOf(s)<0&&(i[s]=o[s]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,s=Object.getOwnPropertySymbols(o);c<s.length;c++)r.indexOf(s[c])<0&&Object.prototype.propertyIsEnumerable.call(o,s[c])&&(i[s[c]]=o[s[c]]);return i};const Db=(o,r,i)=>{if(!(!r&&!i))return N.createElement(N.Fragment,null,r&&N.createElement("div",{className:`${o}-title`},qo(r)),N.createElement("div",{className:`${o}-inner-content`},qo(i)))};function Rb(o){const{hashId:r,prefixCls:i,className:s,style:c,placement:d="top",title:m,content:v,children:w}=o;return N.createElement("div",{className:Xt(r,i,`${i}-pure`,`${i}-placement-${d}`,s),style:c},N.createElement("div",{className:`${i}-arrow`}),N.createElement(Cb,Object.assign({},o,{className:r,prefixCls:i}),w||Db(i,m,v)))}function Ab(o){const{prefixCls:r}=o,i=Ib(o,["prefixCls"]),{getPrefixCls:s}=N.useContext(_h),c=s("popover",r),[d,m]=Bh(c);return d(N.createElement(Rb,Object.assign({},i,{prefixCls:c,hashId:m})))}var Pb=globalThis&&globalThis.__rest||function(o,r){var i={};for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&r.indexOf(s)<0&&(i[s]=o[s]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,s=Object.getOwnPropertySymbols(o);c<s.length;c++)r.indexOf(s[c])<0&&Object.prototype.propertyIsEnumerable.call(o,s[c])&&(i[s[c]]=o[s[c]]);return i};const Lb=o=>{let{title:r,content:i,prefixCls:s}=o;return N.createElement(N.Fragment,null,r&&N.createElement("div",{className:`${s}-title`},qo(r)),N.createElement("div",{className:`${s}-inner-content`},qo(i)))},Vh=N.forwardRef((o,r)=>{const{prefixCls:i,title:s,content:c,overlayClassName:d,placement:m="top",trigger:v="hover",mouseEnterDelay:w=.1,mouseLeaveDelay:E=.1,overlayStyle:S={}}=o,O=Pb(o,["prefixCls","title","content","overlayClassName","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),{getPrefixCls:V}=N.useContext(_h),X=V("popover",i),[q,Q]=Bh(X),H=V(),$=Xt(d,Q);return q(N.createElement(Lh,Object.assign({placement:m,trigger:v,mouseEnterDelay:w,mouseLeaveDelay:E,overlayStyle:S},O,{prefixCls:X,overlayClassName:$,ref:r,overlay:s||c?N.createElement(Lb,{prefixCls:X,title:s,content:c}):null,transitionName:xv(H,"zoom-big",O.transitionName),"data-popover-inject":!0})))});Vh._InternalPanelDoNotUseOrYouWillBeFired=Ab;const $h=Vh,jb=.8,Fb=2,Bb=200,Ff=10,Bf=60,Vb=6;function $b(o,r,i,s,c="#fff"){const d=new Map,m=r.length<Bf?Bf:Math.min(r.length,Bb),v=window.innerWidth*2;o.width=v,o.height=m;const w=Math.min(Vb,Math.max(Fb,m/r.length)),E=m/r.length,S=o.getContext("2d",{alpha:!1});S.fillStyle=c,S.fillRect(0,0,v,m);for(let O=0;O<r.length;O++){const{valueWidth:V,valueOffset:X,serviceName:q}=r[O],Q=X/i*v;let H=V/i*v;H<Ff&&(H=Ff);let $=d.get(q);$||($=`rgba(${s(q).concat(jb).join()})`,d.set(q,$)),S.fillStyle=$,S.fillRect(Q,O*E,H,w)}}const zb=o=>da.getRgbColorByKey(o);class Hb extends N.PureComponent{constructor(i){super(i);U(this,"_canvasElm");U(this,"_setCanvasRef",i=>{this._canvasElm=i});this._canvasElm=void 0}componentDidMount(){this._draw()}componentDidUpdate(){this._draw()}_draw(){if(this._canvasElm){const{valueWidth:i,items:s,bg:c}=this.props;$b(this._canvasElm,s,i,zb,c)}}render(){return N.createElement("canvas",{className:"CanvasSpanGraph",ref:this._setCanvasRef,style:{height:"60px",position:"absolute",width:"100%"}})}}function Wb(o){const{numTicks:r,duration:i}=o,s=[];for(let c=0;c<r+1;c++){const d=c/r,m={color:"#717171",fontSize:"0.7rem",position:"absolute",userSelect:"none"};d===1?m.right="0%":m.left=`${d*100}%`,s.push(M.createElement("div",{key:d,className:"TickLabels--label",style:m,"data-test":"tick"},Ua(i*d)))}return M.createElement("div",{className:"TickLabels",style:{height:"1rem",position:"relative"}},s)}function Ub(o){const{numTicks:r}=o,i=[];for(let s=1;s<r;s++){const c=`${s/r*100}%`;i.push(M.createElement("line",{className:"GraphTick",x1:c,y1:"0%",x2:c,y2:"100%",key:s/r,style:{stroke:Ot(pn.borderColor.light,pn.borderColor.dark),strokeWidth:"1px"}}))}return M.createElement("g",{"data-test":"ticks","aria-hidden":"true"},i)}function Vf({isDragging:o,onMouseDown:r,onMouseEnter:i,onMouseLeave:s,position:c}){const d=`${c*100}%`,m=Xt("Scrubber",{isDragging:o});return M.createElement("g",{className:m},M.createElement("g",{className:"Scrubber--handles",onMouseDown:r,onMouseEnter:i,onMouseLeave:s},M.createElement("rect",{x:d,className:"Scrubber--handleExpansion",style:{transform:"translate(-4.5px)"},width:"9",height:"20"}),M.createElement("rect",{x:d,className:"Scrubber--handle",style:{transform:"translate(-1.5px)"},width:"3",height:"20"})),M.createElement("line",{className:"Scrubber--line",y2:"100%",x1:d,x2:d}))}var $r=(o=>(o.DragEnd="DragEnd",o.DragMove="DragMove",o.DragStart="DragStart",o.MouseEnter="MouseEnter",o.MouseLeave="MouseLeave",o.MouseMove="MouseMove",o))($r||{});const $f=0;class co{constructor({getBounds:r,tag:i,resetBoundsOnResize:s=!0,...c}){U(this,"_bounds");U(this,"_isDragging");U(this,"_onMouseEnter");U(this,"_onMouseLeave");U(this,"_onMouseMove");U(this,"_onDragStart");U(this,"_onDragMove");U(this,"_onDragEnd");U(this,"_resetBoundsOnResize");U(this,"getBounds");U(this,"tag");U(this,"handleMouseEnter");U(this,"handleMouseMove");U(this,"handleMouseLeave");U(this,"handleMouseDown");U(this,"resetBounds",()=>{this._bounds=void 0});U(this,"_handleMinorMouseEvent",r=>{const{button:i,clientX:s,type:c}=r;if(this._isDragging||i!==$f)return;let d=null,m;if(c==="mouseenter")d=$r.MouseEnter,m=this._onMouseEnter;else if(c==="mouseleave")d=$r.MouseLeave,m=this._onMouseLeave;else if(c==="mousemove")d=$r.MouseMove,m=this._onMouseMove;else throw new Error(`invalid event type: ${c}`);if(!m)return;const{value:v,x:w}=this._getPosition(s);m({event:r,type:d,value:v,x:w,manager:this,tag:this.tag})});U(this,"_handleDragEvent",r=>{const{button:i,clientX:s,type:c}=r;let d=null,m;if(c==="mousedown"){if(this._isDragging||i!==$f)return;window.addEventListener("mousemove",this._handleDragEvent),window.addEventListener("mouseup",this._handleDragEvent);const E=uo(document,"body.style");E&&(E.userSelect="none"),this._isDragging=!0,d=$r.DragStart,m=this._onDragStart}else if(c==="mousemove"){if(!this._isDragging)return;d=$r.DragMove,m=this._onDragMove}else if(c==="mouseup"){if(!this._isDragging)return;this._stopDragging(),d=$r.DragEnd,m=this._onDragEnd}else throw new Error(`invalid event type: ${c}`);if(!m)return;const{value:v,x:w}=this._getPosition(s);m({event:r,type:d,value:v,x:w,manager:this,tag:this.tag})});this.handleMouseDown=this._handleDragEvent,this.handleMouseEnter=this._handleMinorMouseEvent,this.handleMouseMove=this._handleMinorMouseEvent,this.handleMouseLeave=this._handleMinorMouseEvent,this.getBounds=r,this.tag=i,this._isDragging=!1,this._bounds=void 0,this._resetBoundsOnResize=!!s,this._resetBoundsOnResize&&window.addEventListener("resize",this.resetBounds),this._onMouseEnter=c.onMouseEnter,this._onMouseLeave=c.onMouseLeave,this._onMouseMove=c.onMouseMove,this._onDragStart=c.onDragStart,this._onDragMove=c.onDragMove,this._onDragEnd=c.onDragEnd}_getBounds(){return this._bounds||(this._bounds=this.getBounds(this.tag)),this._bounds}_getPosition(r){const{clientXLeft:i,maxValue:s,minValue:c,width:d}=this._getBounds();let m=r-i,v=m/d;return c!=null&&v<c?(v=c,m=c*d):s!=null&&v>s&&(v=s,m=s*d),{value:v,x:m}}_stopDragging(){window.removeEventListener("mousemove",this._handleDragEvent),window.removeEventListener("mouseup",this._handleDragEvent);const r=uo(document,"body.style");r&&(r.userSelect=null),this._isDragging=!1}isDragging(){return this._isDragging}dispose(){this._isDragging&&this._stopDragging(),this._resetBoundsOnResize&&window.removeEventListener("resize",this.resetBounds),this._bounds=void 0,this._onMouseEnter=void 0,this._onMouseLeave=void 0,this._onMouseMove=void 0,this._onDragStart=void 0,this._onDragMove=void 0,this._onDragEnd=void 0}}const Vr={SHIFT_END:"SHIFT_END",SHIFT_START:"SHIFT_START",REFRAME:"REFRAME"};function Zb(o,r){const[i,s]=o<r?[o,r]:[r,o];return{x:`${i*100}%`,width:`${(s-i)*100}%`,leadingX:`${r*100}%`}}class Gb extends N.PureComponent{constructor(i){super(i);U(this,"state");U(this,"_root");U(this,"_draggerReframe");U(this,"_draggerStart");U(this,"_draggerEnd");U(this,"_setRoot",i=>{this._root=i});U(this,"_getDraggingBounds",i=>{if(!this._root)throw new Error("invalid state");const{left:s,width:c}=this._root.getBoundingClientRect(),[d,m]=this.props.viewRange.time.current;let v=1,w=0;return i===Vr.SHIFT_START?v=m:i===Vr.SHIFT_END&&(w=d),{clientXLeft:s,maxValue:v,minValue:w,width:c}});U(this,"_handleReframeMouseMove",({value:i})=>{this.props.updateNextViewRangeTime({cursor:i})});U(this,"_handleReframeMouseLeave",()=>{this.props.updateNextViewRangeTime({cursor:null})});U(this,"_handleReframeDragUpdate",({value:i})=>{const s=i,{time:c}=this.props.viewRange,m={reframe:{anchor:c.reframe?c.reframe.anchor:s,shift:s}};this.props.updateNextViewRangeTime(m)});U(this,"_handleReframeDragEnd",({manager:i,value:s})=>{const{time:c}=this.props.viewRange,d=c.reframe?c.reframe.anchor:s,[m,v]=s<d?[s,d]:[d,s];i.resetBounds(),this.props.updateViewRangeTime(m,v,"minimap")});U(this,"_handleScrubberEnterLeave",({type:i})=>{const s=i===$r.MouseEnter;this.setState({preventCursorLine:s})});U(this,"_handleScrubberDragUpdate",({event:i,tag:s,type:c,value:d})=>{c===$r.DragStart&&i.stopPropagation(),s===Vr.SHIFT_START?this.props.updateNextViewRangeTime({shiftStart:d}):s===Vr.SHIFT_END&&this.props.updateNextViewRangeTime({shiftEnd:d})});U(this,"_handleScrubberDragEnd",({manager:i,tag:s,value:c})=>{const[d,m]=this.props.viewRange.time.current;let v;if(s===Vr.SHIFT_START)v=[c,m];else if(s===Vr.SHIFT_END)v=[d,c];else throw new Error("bad state");i.resetBounds(),this.setState({preventCursorLine:!1}),this.props.updateViewRangeTime(v[0],v[1],"minimap")});U(this,"_resetTimeZoomClickHandler",()=>{this.props.updateViewRangeTime(0,1)});this._draggerReframe=new co({getBounds:this._getDraggingBounds,onDragEnd:this._handleReframeDragEnd,onDragMove:this._handleReframeDragUpdate,onDragStart:this._handleReframeDragUpdate,onMouseMove:this._handleReframeMouseMove,onMouseLeave:this._handleReframeMouseLeave,tag:Vr.REFRAME}),this._draggerStart=new co({getBounds:this._getDraggingBounds,onDragEnd:this._handleScrubberDragEnd,onDragMove:this._handleScrubberDragUpdate,onDragStart:this._handleScrubberDragUpdate,onMouseEnter:this._handleScrubberEnterLeave,onMouseLeave:this._handleScrubberEnterLeave,tag:Vr.SHIFT_START}),this._draggerEnd=new co({getBounds:this._getDraggingBounds,onDragEnd:this._handleScrubberDragEnd,onDragMove:this._handleScrubberDragUpdate,onDragStart:this._handleScrubberDragUpdate,onMouseEnter:this._handleScrubberEnterLeave,onMouseLeave:this._handleScrubberEnterLeave,tag:Vr.SHIFT_END}),this._root=void 0,this.state={preventCursorLine:!1}}componentWillUnmount(){this._draggerReframe.dispose(),this._draggerEnd.dispose(),this._draggerStart.dispose()}_getMarkers(i,s,c){const d=Zb(i,s),m=Xt({isShiftDrag:c,isReframeDrag:!c});return[N.createElement("rect",{key:"fill",className:`ViewingLayer--draggedShift ${m}`,x:d.x,y:"0",width:d.width,height:this.props.height-2}),N.createElement("rect",{key:"edge",className:`ViewingLayer--draggedEdge ${m}`,x:d.leadingX,y:"0",width:"1",height:this.props.height-2})]}render(){const{height:i,viewRange:s,numTicks:c}=this.props,{preventCursorLine:d}=this.state,{current:m,cursor:v,shiftStart:w,shiftEnd:E,reframe:S}=s.time,O=w!=null||E!=null||S!=null,[V,X]=m;let q=0;V&&(q=V*100);let Q=100;X&&(Q=100-X*100);let H;return!O&&v!=null&&!d&&(H=`${v*100}%`),N.createElement("div",{"aria-hidden":!0,className:"ViewingLayer",style:{height:i}},(V!==0||X!==1)&&N.createElement(nr,{size:"sm",onClick:this._resetTimeZoomClickHandler,className:"ViewingLayer--resetZoom",position:"absolute"},"Reset Selection"),N.createElement("svg",{height:i,className:"ViewingLayer--graph bordered-bottom",ref:this._setRoot,onMouseDown:this._draggerReframe.handleMouseDown,onMouseLeave:this._draggerReframe.handleMouseLeave,onMouseMove:this._draggerReframe.handleMouseMove},q>0&&N.createElement("rect",{x:0,y:0,height:"100%",width:`${q}%`,className:"ViewingLayer--inactive"}),Q>0&&N.createElement("rect",{x:`${100-Q}%`,y:0,height:"100%",width:`${Q}%`,className:"ViewingLayer--inactive"}),N.createElement(Ub,{numTicks:c}),H&&N.createElement("line",{className:"ViewingLayer--cursorGuide",x1:H,y1:"0",x2:H,y2:i-2,strokeWidth:"1"}),w!=null&&this._getMarkers(V,w,!0),E!=null&&this._getMarkers(X,E,!0),N.createElement(Vf,{isDragging:w!=null,onMouseDown:this._draggerStart.handleMouseDown,onMouseEnter:this._draggerStart.handleMouseEnter,onMouseLeave:this._draggerStart.handleMouseLeave,position:V||0}),N.createElement(Vf,{isDragging:E!=null,position:X||1,onMouseDown:this._draggerEnd.handleMouseDown,onMouseEnter:this._draggerEnd.handleMouseEnter,onMouseLeave:this._draggerEnd.handleMouseLeave}),S!=null&&this._getMarkers(S.anchor,S.shift,!1)),O&&N.createElement("div",{className:"ViewingLayer--fullOverlay"}))}}const Jb=60,zf=4;function qb(o){return{valueOffset:o.relativeStartTime,valueWidth:o.duration,serviceName:o.process.serviceName}}function Xb(o){return o.spans.map(qb)}const Yb=es(Xb),Qb=o=>{const{height:r,trace:i,viewRange:s,updateNextViewRangeTime:c,updateViewRangeTime:d}=o;if(!i)return N.createElement("div",null);const m=Yb(i);return N.createElement("div",{className:"ub-pb2 ub-px2"},N.createElement(Wb,{numTicks:zf,duration:i.duration}),N.createElement("div",{className:"ub-relative"},N.createElement(Hb,{valueWidth:i.duration,items:m,bg:Ot(pn.bodyBg.light,pn.bodyBg.dark)}),N.createElement(Gb,{viewRange:s,numTicks:zf,height:r??Jb,updateViewRangeTime:d,updateNextViewRangeTime:c})))};var qt=(o=>(o.TraceTimelineViewer="TimelineViewer",o.TraceGraph="NodeGraph",o.TraceStatistics="Statistics",o.TraceSpansView="SpansView",o.TraceFlamegraph="FlameGraph",o.TraceJSON="JSON",o))(qt||{});const Hf=[{label:"Timeline",value:qt.TraceTimelineViewer},{label:"FlameGraph",value:qt.TraceFlamegraph},{label:"NodeGraph",value:qt.TraceGraph},{label:"Spans",value:qt.TraceSpansView},{label:"Statistics",value:qt.TraceStatistics},{label:"JSON",value:qt.TraceJSON}],Kb=({trace:o,viewRange:r,updateNextViewRangeTime:i,updateViewRangeTime:s,collapsed:c,onGraphCollapsed:d,searchCount:m,prevResult:v,nextResult:w,viewType:E,onViewTypeChange:S,search:O})=>{const[V,X]=N.useState(O),q=$=>{X($),Mh({search:$})},[Q]=ts(ns),H="sm";return M.createElement(M.Fragment,null,M.createElement(fo,{justifyContent:"space-between",alignItems:"center"},M.createElement(Kt,null,M.createElement(fb,{collapsed:c,onClick:d,opacity:"0.5",fontSize:H}),M.createElement(fo,{flexDir:Q?"row":"column",alignItems:Q?"center":"start",gap:Q?2:0},M.createElement(Mt,{fontSize:Q?H:"xs",noOfLines:1},o.traceName),Q&&M.createElement(Mt,{textStyle:"annotation"},o.traceID.slice(0,7)))),M.createElement(Kt,{spacing:1},E==qt.TraceJSON?M.createElement(Mt,{fontSize:H,layerStyle:"gradientText",mr:"20px"},"Click code area and Press Command+F to search "):E!=qt.TraceFlamegraph&&E!=qt.TraceSpansView&&M.createElement(Kt,{spacing:0},M.createElement(Kt,{spacing:0,position:"relative"},M.createElement(Ch,{width:Q?"240px":"120px",size:H,placeholder:"Search..",value:V,onChange:$=>q($.currentTarget.value)}),M.createElement(Mt,{textStyle:"annotation",width:"30px",position:"absolute",right:"0",mt:"2px"},m)),E==qt.TraceTimelineViewer&&M.createElement(M.Fragment,null,M.createElement(Zo,{size:H,onClick:v,isDisabled:O=="",fontSize:"1rem"},M.createElement(Sv,null)),M.createElement(Zo,{size:H,onClick:w,isDisabled:O=="",fontSize:"1rem"},M.createElement(po,null)))),Q?M.createElement(kv,{size:"sm",theme:"brand",fontSize:"0.85rem",spacing:0,value:E,onChange:$=>S($),options:Hf}):M.createElement(Go,{options:Hf,value:E,onChange:$=>S($)}))),M.createElement(Kt,{className:"label-bg",px:"2",py:Q?"4px":"1px",fontSize:"0.9rem",spacing:4},M.createElement(Kt,null,M.createElement(Mt,{opacity:"0.8"},"Start time"),M.createElement(Mt,null,Tv(o.startTime/1e3))),M.createElement(Kt,null,M.createElement(Mt,{opacity:"0.8"},"Duration"),M.createElement(Mt,null,Ua(o.duration))),M.createElement(Kt,null,M.createElement(Mt,{opacity:"0.8"},"Services"),M.createElement(Mt,null,o.services.length)),M.createElement(Kt,null,M.createElement(Mt,{opacity:"0.8"},"Depth"),M.createElement(Mt,null,Math.max(...o.spans.map($=>$.depth))+1)),M.createElement(Kt,null,M.createElement(Mt,{opacity:"0.8"},"Spans"),M.createElement(Mt,null,o.spans.length)),M.createElement(Kt,null,M.createElement(Mt,{opacity:"0.8"},"Errors"),M.createElement(Mt,null,o.errorsCount))),!c&&M.createElement(Qb,{trace:o,viewRange:r,updateNextViewRangeTime:i,updateViewRangeTime:s}))};function rr(o){const{children:r,className:i="",...s}=o;return N.createElement("div",{className:`${i}`,style:{display:"flex",flex:"0 1 auto",flexDirection:"row"},...s},r)}rr.defaultProps={className:""};function zh(o){const{children:r,className:i="",width:s,style:c,...d}=o,m=`${s*100}%`,v={...c,flexBasis:m,maxWidth:m},[w]=ts(ns);return N.createElement(nt,{position:"relative",className:`${i}`,style:v,...d,fontSize:w?"0.8rem":"0.7rem"},r)}zh.defaultProps={className:"",style:{}};rr.Cell=zh;const ey=({onExpandAll:o,onExpandOne:r,onCollapseAll:i,onCollapseOne:s})=>M.createElement(Kt,{spacing:"6px"},M.createElement(Ha,{label:"Expand +1"},M.createElement(nt,null,M.createElement(po,{cursor:"pointer",onClick:r}))),M.createElement(Ha,{label:"Collapse +1"},M.createElement(nt,null,M.createElement(xl,{cursor:"pointer",onClick:s}))),M.createElement(Ha,{label:"Expand All"},M.createElement(nt,null,M.createElement(Rf,{cursor:"pointer",style:{transform:"rotate(90deg)"},onClick:o}))),M.createElement(Ha,{label:"Collapse All"},M.createElement(nt,null,M.createElement(Rf,{cursor:"pointer",onClick:i,className:"TimelineCollapser--btn"}))));function _l(o){const{endTime:r,numTicks:i,showLabels:s,startTime:c}=o;let d;if(s){d=[];const v=(r||0)-(c||0);for(let w=0;w<i;w++){const E=(c||0)+w/(i-1)*v;d.push(Ua(E))}}const m=[];for(let v=0;v<i;v++){const w=v/(i-1);m.push(N.createElement(nt,{key:w,className:"Ticks--tick",style:{left:`${w*100}%`},position:"absolute",height:"100%",width:"1px",bg:Ot(pn.borderColor.light,pn.borderColor.dark)},d&&N.createElement("span",{className:`Ticks--tickLabel ${w>=1?"isEndAnchor":""}`,style:{left:"0.25rem",position:"absolute",whiteSpace:"nowrap"}},d[v])))}return N.createElement(nt,{className:"Ticks",pointerEvents:"none",sx:{".Ticks--tick:last-child":{width:0},".Ticks--tickLabel.isEndAnchor":{left:"initial",right:"0.25rem"}}},m)}_l.defaultProps={endTime:null,showLabels:null,startTime:null};class ty extends M.PureComponent{constructor(i){super(i);U(this,"state");U(this,"_dragManager");U(this,"_rootElm");U(this,"_setRootElm",i=>{this._rootElm=i});U(this,"_getDraggingBounds",()=>{if(!this._rootElm)throw new Error("invalid state");const{left:i,width:s}=this._rootElm.getBoundingClientRect(),{rightSide:c}=this.props;let{min:d,max:m}=this.props;return c&&([d,m]=[1-m,1-d]),{clientXLeft:i,width:s,maxValue:m,minValue:d}});U(this,"_handleDragUpdate",({value:i})=>{const s=this.props.rightSide?1-i:i;this.setState({dragPosition:s})});U(this,"_handleDragEnd",({manager:i,value:s})=>{i.resetBounds(),this.setState({dragPosition:null});const c=this.props.rightSide?1-s:s;this.props.onChange(c)});this._dragManager=new co({getBounds:this._getDraggingBounds,onDragEnd:this._handleDragEnd,onDragMove:this._handleDragUpdate,onDragStart:this._handleDragUpdate}),this._rootElm=void 0,this.state={dragPosition:null}}componentWillUnmount(){this._dragManager.dispose()}render(){let i,s,c="";const{position:d,rightSide:m}=this.props,{dragPosition:v}=this.state;i=`${d*100}%`;const w={left:i};if(this._dragManager.isDragging()&&this._rootElm&&v!=null){c=Xt({isDraggingLeft:v<d,isDraggingRight:v>d}),i=`${v*100}%`;const E=`${Math.min(d,v)*100}%`,S=`calc(${(1-Math.max(d,v))*100}% - 1px)`;s={left:E,right:S}}else s=w;return M.createElement(nt,null,M.createElement("div",{className:`VerticalResizer ${c} ${m?"is-flipped":""}`,ref:this._setRootElm},M.createElement("div",{className:"VerticalResizer--gripIcon",style:w}),M.createElement("div",{"aria-hidden":!0,className:"VerticalResizer--dragger",onMouseDown:this._dragManager.handleMouseDown,style:s})))}}function ny(o){return Reflect.has(o,"isOutOfView")}function Wf(o,r,i){return o+i*(r-o)}function ml(o,r,i){return(i-o)/(r-o)}function ry(o,r){let[i,s]=o<r?[o,r]:[r,o];return i>=1||s<=0?{isOutOfView:!0}:(i<0&&(i=0),s>1&&(s=1),{isDraggingLeft:o>r,left:`${i*100}%`,width:`${(s-i)*100}%`})}function ol(o,r,i,s,c){const d=ml(o,r,i),m=ml(o,r,s),v=ry(d,m);if(ny(v))return null;const{isDraggingLeft:w,left:E,width:S}=v,O=Xt({isDraggingLeft:w,isDraggingRight:!w,isReframeDrag:!c,isShiftDrag:c});return N.createElement("div",{className:`TimelineViewingLayer--dragged ${O}`,style:{left:E,width:S}})}class ay extends N.PureComponent{constructor(i){super(i);U(this,"_draggerReframe");U(this,"_root");U(this,"_getDraggingBounds",()=>{const i=this._root.current;if(!i)throw new Error("Component must be mounted in order to determine DraggableBounds");const{left:s,width:c}=i.getBoundingClientRect();return{clientXLeft:s,width:c}});U(this,"_handleReframeMouseMove",({value:i})=>{const[s,c]=this.props.viewRangeTime.current,d=Wf(s,c,i);this.props.updateNextViewRangeTime({cursor:d})});U(this,"_handleReframeMouseLeave",()=>{this.props.updateNextViewRangeTime({cursor:void 0})});U(this,"_getAnchorAndShift",i=>{const{current:s,reframe:c}=this.props.viewRangeTime,[d,m]=s,v=Wf(d,m,i);return{anchor:c?c.anchor:v,shift:v}});U(this,"_handleReframeDragUpdate",({value:i})=>{const{anchor:s,shift:c}=this._getAnchorAndShift(i),d={reframe:{anchor:s,shift:c}};this.props.updateNextViewRangeTime(d)});U(this,"_handleReframeDragEnd",({manager:i,value:s})=>{const{anchor:c,shift:d}=this._getAnchorAndShift(s),[m,v]=d<c?[d,c]:[c,d];i.resetBounds(),this.props.updateViewRangeTime(m,v,"timeline-header")});this._draggerReframe=new co({getBounds:this._getDraggingBounds,onDragEnd:this._handleReframeDragEnd,onDragMove:this._handleReframeDragUpdate,onDragStart:this._handleReframeDragUpdate,onMouseLeave:this._handleReframeMouseLeave,onMouseMove:this._handleReframeMouseMove}),this._root=N.createRef()}componentDidUpdate(i){const{boundsInvalidator:s}=this.props;i.boundsInvalidator!==s&&this._draggerReframe.resetBounds()}componentWillUnmount(){this._draggerReframe.dispose()}render(){const{viewRangeTime:i}=this.props,{current:s,cursor:c,reframe:d,shiftEnd:m,shiftStart:v}=i,[w,E]=s,S=d!=null||m!=null||v!=null;let O;return!S&&c!=null&&c>=w&&c<=E&&(O=`${ml(w,E,c)*100}%`),N.createElement("div",{"aria-hidden":!0,className:"TimelineViewingLayer",ref:this._root,onMouseDown:this._draggerReframe.handleMouseDown,onMouseLeave:this._draggerReframe.handleMouseLeave,onMouseMove:this._draggerReframe.handleMouseMove},O!=null&&N.createElement("div",{className:"TimelineViewingLayer--cursorGuide",style:{left:O}}),d!=null&&ol(w,E,d.anchor,d.shift,!1),m!=null&&ol(w,E,E,m,!0),v!=null&&ol(w,E,w,v,!0))}}const iy=5,oy=({duration:o,nameColumnWidth:r,onCollapseAll:i,onCollapseOne:s,onColummWidthChange:c,onExpandAll:d,onExpandOne:m,updateNextViewRangeTime:v,updateViewRangeTime:w,viewRangeTime:E})=>{const[S,O]=E.current,[V]=ts(ns);return M.createElement(rr,{className:"TimelineHeaderRow bordered-bottom"},M.createElement(rr.Cell,{className:"ub-flex ub-px2",width:r,style:{display:"flex",paddingLeft:"0.5rem",paddingRight:"1.5rem"}},M.createElement(Mt,{fontSize:V?"md":"xs",mr:"2"},"Service & Operation"),M.createElement(ey,{onCollapseAll:i,onExpandAll:d,onCollapseOne:s,onExpandOne:m})),M.createElement(rr.Cell,{width:1-r},M.createElement(ay,{boundsInvalidator:r,updateNextViewRangeTime:v,updateViewRangeTime:w,viewRangeTime:E}),M.createElement(_l,{numTicks:iy,startTime:S*o,endTime:O*o,showLabels:!0})),M.createElement(ty,{position:r,onChange:c,min:.15,max:.85}))};class wr{constructor(r){U(this,"isTagsOpen");U(this,"isProcessOpen");U(this,"logs");U(this,"isWarningsOpen");U(this,"isReferencesOpen");const{isTagsOpen:i,isProcessOpen:s,isReferencesOpen:c,isWarningsOpen:d,logs:m}=r||{};this.isTagsOpen=!!i,this.isProcessOpen=!!s,this.isReferencesOpen=!!c,this.isWarningsOpen=!!d,this.logs={isOpen:!!(m&&m.isOpen),openedItems:m&&m.openedItems?new Set(m.openedItems):new Set}}toggleTags(){const r=new wr(this);return r.isTagsOpen=!this.isTagsOpen,r}toggleProcess(){const r=new wr(this);return r.isProcessOpen=!this.isProcessOpen,r}toggleReferences(){const r=new wr(this);return r.isReferencesOpen=!this.isReferencesOpen,r}toggleWarnings(){const r=new wr(this);return r.isWarningsOpen=!this.isWarningsOpen,r}toggleLogs(){const r=new wr(this);return r.logs.isOpen=!this.logs.isOpen,r}toggleLogItem(r){const i=new wr(this);return i.logs.openedItems.has(r)?i.logs.openedItems.delete(r):i.logs.openedItems.add(r),i}}var sy=Sl,ly=_v,cy=Cv;function uy(o){return function(r,i,s){var c=Object(r);if(!ly(r)){var d=sy(i);r=cy(r),i=function(v){return d(c[v],v,c)}}var m=o(r,i,s);return m>-1?c[d?r[m]:m]:void 0}}var fy=uy;function hy(o,r,i,s){for(var c=o.length,d=i+(s?1:-1);s?d--:++d<c;)if(r(o[d],d,o))return d;return-1}var Hh=hy,dy=Hh,py=Sl,my=Mv,gy=Math.max;function vy(o,r,i){var s=o==null?0:o.length;if(!s)return-1;var c=i==null?0:my(i);return c<0&&(c=gy(s+c,0)),dy(o,py(r),c)}var by=vy,yy=fy,wy=by,Ey=yy(wy),xy=Ey;const Sy=ga(xy);function ky(o){const{min:r,max:i,viewStart:s,viewEnd:c}=o,d=i-r,m=r+s*d,w=i-(1-c)*d-m;return(E,S)=>({start:(E-m)/w,end:(S-m)/w})}function rs(o,r,i){return!Array.isArray(i.tags)||!i.tags.length?!1:i.tags.some(s=>s.key===o&&s.value===r)}const Ty=rs.bind(null,"span.kind","client"),_y=rs.bind(null,"span.kind","server"),Cy=rs.bind(null,"error",!0),My=rs.bind(null,"error","true"),Wh=o=>Cy(o)||My(o);function Oy(o,r){const{depth:i}=o[r];let s=r+1;for(;s<o.length&&o[s].depth>i;s++)if(Wh(o[s]))return!0;return!1}function Ny(o){if(o.length<=1||!Ty(o[0]))return!1;const i=o[0].depth+1;let s=1;for(;s<o.length&&o[s].depth===i;){if(_y(o[s]))return o[s];s++}return null}const Iy=o=>o.tags.some(({key:r,value:i})=>r==="span.kind"&&i==="client");function Uf(o){return uo(Sy(o.references,({span:r,refType:i})=>r&&r.spanID&&(i==="CHILD_OF"||i==="FOLLOWS_FROM")),"span")}function Uh(o){const r=[];if(!o)return r;let i=Uf(o);for(;i;)r.push(i.spanID),i=Uf(i);return r}class Dy{constructor(r){U(this,"bufferLen");U(this,"dataLen");U(this,"heights");U(this,"lastI");U(this,"ys");this.ys=[],this.heights=[],this.bufferLen=r,this.dataLen=-1,this.lastI=-1}profileData(r){r!==this.dataLen&&(this.dataLen=r,this.ys.length=r,this.heights.length=r,this.lastI>=r&&(this.lastI=r-1))}calcHeights(r,i,s){s!=null&&(this.lastI=s);let c=r+this.bufferLen;if(c<=this.lastI)return;c>=this.heights.length&&(c=this.heights.length-1);let d=this.lastI;for(this.lastI===-1&&(d=0,this.ys[0]=0);d<=c;){const m=this.heights[d]=i(d);this.ys[d+1]=this.ys[d]+m,d++}this.lastI=c}calcYs(r,i){for(;(this.ys[this.lastI]==null||r>this.ys[this.lastI])&&this.lastI<this.dataLen-1;)this.calcHeights(this.lastI,i)}confirmHeight(r,i){let s=r;if(s>this.lastI){this.calcHeights(s,i);return}const c=i(s);if(c===this.heights[s])return;const d=c-this.heights[s];for(this.heights[s]=c;++s<=this.lastI;)this.ys[s]+=d;this.ys[this.lastI+1]!=null&&(this.ys[this.lastI+1]+=d)}findFloorIndex(r,i){this.calcYs(r,i);let s=0,c=this.lastI;if(this.ys.length<2||r<this.ys[1])return 0;if(r>this.ys[c])return c;let d;for(;s<c;)if(d=s+.5*(c-s)|0,r>this.ys[d]){if(r<=this.ys[d+1])return d;s=d}else if(r<this.ys[d]){if(r>=this.ys[d-1])return d-1;c=d}else return d;throw new Error(`unable to find floor index for y=${r}`)}getRowPosition(r,i){return this.confirmHeight(r,i),{height:this.heights[r],y:this.ys[r]}}getEstimatedHeight(){const r=this.ys[this.lastI]+this.heights[this.lastI];return this.lastI>=this.dataLen-1?r|0:r/(this.lastI+1)*this.heights.length|0}}const Zf=300;class Zh extends N.Component{constructor(i){super(i);U(this,"_yPositions");U(this,"_knownHeights");U(this,"_startIndexDrawn");U(this,"_endIndexDrawn");U(this,"_startIndex");U(this,"_endIndex");U(this,"_viewHeight");U(this,"_scrollTop");U(this,"_isScrolledOrResized");U(this,"_htmlTopOffset");U(this,"_windowScrollListenerAdded");U(this,"_htmlElm");U(this,"_wrapperElm");U(this,"_itemHolderElm");U(this,"getViewHeight",()=>this._viewHeight);U(this,"getBottomVisibleIndex",()=>{const i=this._scrollTop+this._viewHeight;return this._yPositions.findFloorIndex(i,this._getHeight)});U(this,"getTopVisibleIndex",()=>this._yPositions.findFloorIndex(this._scrollTop,this._getHeight));U(this,"getRowPosition",i=>this._yPositions.getRowPosition(i,this._getHeight));U(this,"_onScroll",()=>{this._isScrolledOrResized||(this._isScrolledOrResized=!0,window.requestAnimationFrame(this._positionList))});U(this,"_positionList",()=>{if(this._isScrolledOrResized=!1,!this._wrapperElm)return;this._calcViewIndexes();const i=this.props.viewBufferMin>this._startIndex?0:this._startIndex-this.props.viewBufferMin,s=this.props.viewBufferMin<this.props.dataLength-this._endIndex?this._endIndex+this.props.viewBufferMin:this.props.dataLength-1;(i<this._startIndexDrawn||s>this._endIndexDrawn)&&this.forceUpdate()});U(this,"_initWrapper",i=>{this._wrapperElm=i,!this.props.windowScroller&&i&&(this._viewHeight=i.clientHeight)});U(this,"_initItemHolder",i=>{this._itemHolderElm=i,this._scanItemHeights()});U(this,"_scanItemHeights",()=>{const i=this.props.getIndexFromKey;if(!this._itemHolderElm)return;let s=null,c=null,d=!1;const m=this._itemHolderElm.childNodes,v=m.length;for(let w=0;w<v;w++){const E=m[w],S=E.getAttribute("data-item-key");if(!S){console.warn("itemKey not found");continue}const V=(E.firstElementChild||E).clientHeight,X=this._knownHeights.get(S);V!==X&&(this._knownHeights.set(S,V),d?c=S:(d=!0,s=c=S))}if(s!=null&&c!=null){const w=i(s),E=c===s?w:i(c);this._yPositions.calcHeights(E,this._getHeight,w),this.forceUpdate()}});U(this,"_getHeight",i=>{const s=this.props.getKeyFromIndex(i),c=this._knownHeights.get(s);return c!=null&&c===c?c:this.props.itemHeightGetter(i,s)});this._yPositions=new Dy(200),this._knownHeights=new Map,this._startIndexDrawn=2**20,this._endIndexDrawn=-(2**20),this._startIndex=0,this._endIndex=0,this._viewHeight=-1,this._scrollTop=-1,this._isScrolledOrResized=!1,this._htmlTopOffset=-1,this._windowScrollListenerAdded=!1,this._htmlElm=document.documentElement,this._wrapperElm=void 0,this._itemHolderElm=void 0}componentDidMount(){if(this.props.windowScroller){if(this._wrapperElm){const{top:i}=this._wrapperElm.getBoundingClientRect();this._htmlTopOffset=i+this._htmlElm.scrollTop}window.addEventListener("scroll",this._onScroll),this._windowScrollListenerAdded=!0}}componentDidUpdate(){this._itemHolderElm&&this._scanItemHeights()}componentWillUnmount(){this._windowScrollListenerAdded&&window.removeEventListener("scroll",this._onScroll)}_isViewChanged(){if(!this._wrapperElm)return!1;const i=this.props.windowScroller,s=i?this._htmlElm.clientHeight:this._wrapperElm.clientHeight,c=i?this._htmlElm.scrollTop:this._wrapperElm.scrollTop;return s!==this._viewHeight||c!==this._scrollTop}_calcViewIndexes(){if(this.props.windowScroller)this._viewHeight=window.innerHeight-this._htmlTopOffset,this._scrollTop=window.scrollY;else{if(!this._wrapperElm){this._viewHeight=-1,this._startIndex=0,this._endIndex=0;return}this._viewHeight=this._wrapperElm.clientHeight,this._scrollTop=this._wrapperElm.scrollTop}const s=this._scrollTop,c=this._scrollTop+this._viewHeight;this._startIndex=this._yPositions.findFloorIndex(s,this._getHeight),this._endIndex=this._yPositions.findFloorIndex(c,this._getHeight)}render(){const{dataLength:i,getKeyFromIndex:s,initialDraw:c=Zf,itemRenderer:d,viewBuffer:m,viewBufferMin:v}=this.props,w=this._getHeight,E=[];let S,O;if(this._yPositions.profileData(i),!this._wrapperElm)S=0,O=(c<i?c:i)-1;else{this._isViewChanged()&&this._calcViewIndexes();const q=v>this._startIndex?0:this._startIndex-v,Q=v<i-this._endIndex?this._endIndex+v:i-1;q<this._startIndexDrawn||Q>this._endIndexDrawn?(S=m>this._startIndex?0:this._startIndex-m,O=this._endIndex+m,O>=i&&(O=i-1)):(S=this._startIndexDrawn,O=this._endIndexDrawn>i-1?i-1:this._endIndexDrawn)}this._yPositions.calcHeights(O,w,S||-1),this._startIndexDrawn=S,this._endIndexDrawn=O,E.length=O-S+1;for(let q=S;q<=O;q++){const{y:Q,height:H}=this._yPositions.getRowPosition(q,w),$={height:H,top:Q-q,position:"absolute"},pe=s(q),C={"data-item-key":pe};E.push(d(pe,$,q,C))}const V={style:{position:"relative"},ref:this._initWrapper};this.props.windowScroller||(V.onScroll=this._onScroll,V.style.height="100%",V.style.overflowY="auto");const X={position:"relative",height:this._yPositions.getEstimatedHeight()-(O-S)};return N.createElement("div",{...V},N.createElement("div",{style:X},N.createElement("div",{style:{position:"absolute",top:0,margin:0,padding:0},className:this.props.itemsWrapperClassName,ref:this._initItemHolder},E)))}}U(Zh,"defaultProps",{initialDraw:Zf,itemsWrapperClassName:"",windowScroller:!1});function Ry(o){return o!==o}var Ay=Ry;function Py(o,r,i){for(var s=i-1,c=o.length;++s<c;)if(o[s]===r)return s;return-1}var Ly=Py,jy=Hh,Fy=Ay,By=Ly;function Vy(o,r,i){return r===r?By(o,r,i):jy(o,Fy,i)}var $y=Vy,zy=$y;function Hy(o,r){var i=o==null?0:o.length;return!!i&&zy(o,r,0)>-1}var Wy=Hy;function Uy(o,r,i){for(var s=-1,c=o==null?0:o.length;++s<c;)if(i(r,o[s]))return!0;return!1}var Zy=Uy;function Gy(){}var Jy=Gy,sl=Ov,qy=Jy,Xy=Oh,Yy=1/0,Qy=sl&&1/Xy(new sl([,-0]))[1]==Yy?function(o){return new sl(o)}:qy,Ky=Qy,e2=Nv,t2=Wy,n2=Zy,r2=Iv,a2=Ky,i2=Oh,o2=200;function s2(o,r,i){var s=-1,c=t2,d=o.length,m=!0,v=[],w=v;if(i)m=!1,c=n2;else if(d>=o2){var E=r?null:a2(o);if(E)return i2(E);m=!1,c=r2,w=new e2}else w=r?[]:v;e:for(;++s<d;){var S=o[s],O=r?r(S):S;if(S=i||S!==0?S:0,m&&O===O){for(var V=w.length;V--;)if(w[V]===O)continue e;r&&w.push(O),v.push(S)}else c(w,O,i)||(w!==v&&w.push(O),v.push(S))}return v}var l2=s2,c2=l2;function u2(o){return o&&o.length?c2(o):[]}var f2=u2;const h2=ga(f2);var Gf=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)};function d2(o,r){function i(s,c){if(o(s,c))return!0;if(Array.isArray(s))return!(!Array.isArray(c)||s.length!==c.length||!s.every(function(S,O){return i(S,c[O])}));if(Array.isArray(c))return!1;if(typeof s=="object"){if(typeof c!="object")return!1;var d=s===null,m=c===null;if(d||m)return d===m;var v=Object.keys(s),w=Object.keys(c);if(v.length!==w.length)return!1;var E=r?i:o;return!!v.every(function(S){return Gf(s,S)&&Gf(c,S)&&E(s[S],c[S])})}return!1}return i}var p2=function(r,i){for(var s=0;s<r.length;s++)if(i(r[s]))return s;return-1};function m2(o,r){var i=[];function s(d){var m=p2(i,function(w){return r(d,w.key)});if(m>-1){var v=i[m];return m>0&&(i.splice(m,1),i.unshift(v)),v.value}}function c(d,m){s(d)||(i.unshift({key:d,value:m}),i.length>o&&i.pop())}return{get:s,put:c}}function g2(o){var r;return{get:function(s){if(r&&o(s,r.key))return r.value},put:function(s,c){r={key:s,value:c}}}}function v2(o,r){return o===1?g2(r):m2(o,r)}function b2(o,r){var i=r?d2(o,r):o;return function(s,c){if(s.length!==c.length)return!1;for(var d=0;d<s.length;d+=1)if(!i(s[d],c[d]))return!1;return!0}}function as(){for(var o=1,r=function(w,E){return w===E},i=!1,s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];typeof c[0]=="number"&&(o=c.shift()),typeof c[0]=="function"?r=c.shift():typeof c[0]>"u"&&c.shift(),typeof c[0]=="boolean"&&(i=c[0]);var m=v2(o,b2(r,i));return function(v){return function(){for(var w=arguments.length,E=new Array(w),S=0;S<w;S++)E[S]=arguments[S];var O=m.get(E);return O===void 0&&(O=v.apply(v,E),m.put(E,O)),O}}}const Gh=/#\{([^{}]*)\}/g;function y2(o,r,i){return o.replace(Gh,(s,c)=>{const d=i[c],m=d!=null&&r?r(d):d;return m==null?"":`${m}`})}function w2(o){const r=new Set;return o.replace(Gh,(i,s)=>(r.add(s),i)),Array.from(r)}function E2(o){const r=o.references?o.references.find(i=>i.refType==="CHILD_OF"):null;return r?r.span:null}function Jf(o,r){if(typeof o!="string"){if(o&&Array.isArray(o.parameters)&&typeof o.template=="function")return o;throw new Error("Invalid template")}return{parameters:w2(o),template:y2.bind(null,o,r)}}function ll(o){if(typeof o=="string")return r=>r===o;if(Array.isArray(o))return r=>o.indexOf(r)>-1;if(o instanceof RegExp)return r=>o.test(r);if(typeof o=="function")return o;if(o==null)return()=>!0;throw new Error(`Invalid value: ${o}`)}const x2=o=>o;function S2(o){try{const r=Jf(o.url,encodeURIComponent),i=Jf(o.text,x2);return{object:o,type:ll(o.type),key:ll(o.key),value:ll(o.value),url:r,text:i,parameters:h2(r.parameters.concat(i.parameters))}}catch(r){return console.error(`Ignoring invalid link pattern: ${r}`,o),null}}function gl(o,r){if(r)return r.find(i=>i.key===o)}function k2(o,r){let i=r;for(;i;){const s=gl(o,i.tags)||gl(o,i.process.tags);if(s)return s;i=E2(i)}}const T2=as(10)(o=>Object.keys(o).filter(i=>typeof o[i]=="string"||typeof o[i]=="number"));function Jh(o,r){if(r){const i=T2(r),s=o;if(i.includes(s))return{key:s,value:r[s]}}}function Xo(o,r){return o.template(r)}function _2(o,r){const i=[];return o.filter(s=>s.type("traces")).forEach(s=>{const c={};s.parameters.every(m=>{const v=Jh(m,r);return v?(c[m]=v.value,!0):!1})&&i.push({url:Xo(s.url,c),text:Xo(s.text,c)})}),i}function C2(o,r,i,s,c){const d=i[s];let m="logs";const v=r.process.tags===i;v&&(m="process"),r.tags===i&&(m="tags");const E=[];return o.forEach(S=>{if(S.type(m)&&S.key(d.key)&&S.value(d.value)){const O={};S.parameters.every(X=>{let q;return X.startsWith("trace.")?q=Jh(X.split("trace.")[1],c):(q=gl(X,i),!q&&!v&&(q=k2(X,r))),q?(O[X]=q.value,!0):(console.warn(`Skipping link pattern, missing parameter ${X} for key ${d.key} in ${m}.`,S.object),!1)})&&E.push({url:Xo(S.url,O),text:Xo(S.text,O)})}}),E}function M2(o,r){return(i,s,c,d)=>{if(o.length===0)return[];const m=s[c];let v=r.get(m);return v||(v=C2(o,i,s,c,d),r.set(m,v)),v}}const qh=(Rh("linkPatterns")||[]).map(S2).filter(Boolean);as(10)(o=>{const r=[];return o?_2(qh,o):r});const O2=M2(qh,new WeakMap);let Xh;typeof window<"u"&&(Xh=`${window.location.origin}/`);const N2=Xh;let Yh;typeof window<"u"&&(Yh=window.location.origin);function I2(o,r){const i=o==null?"":o.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),s=r??"",c=new RegExp(`^${i}|/$`,"ig");return s.replace(c,"")}const D2=I2(Yh,N2);function R2(o){const r=o==null?"":String(o);return`${D2}${r}`}function A2(o,r){const i=R2(`/trace/${o}`);return r?`${i}?${Dv.stringify({uiFind:r})}`:i}function Qh(o){const{reference:r,children:i,className:s,focusSpan:c,...d}=o;return delete d.onClick,r.span?M.createElement("a",{role:"button",onClick:()=>c(r.spanID),className:s,...d},i):M.createElement("a",{href:A2(r.traceID,r.spanID),target:"_blank",rel:"noopener noreferrer",className:s,...d},i)}class qf extends M.PureComponent{render(){const{references:r,children:i,tooltipText:s,focusSpan:c}=this.props;return M.createElement(Rv,null,M.createElement(Av,{as:nr},i),M.createElement(Pv,null,r.map(d=>{const{span:m,spanID:v}=d;return M.createElement(Lv,{key:`${v}`},M.createElement(Qh,{reference:d,focusSpan:this.props.focusSpan,className:"ReferencesButton--TraceRefLink"},m?`${m.process.serviceName}:${m.operationName} - ${d.spanID}`:`(another trace) - ${d.spanID}`,!m&&M.createElement(jv,null)))})))}}const Kh=o=>{const{hoverIndentIds:r,childrenVisible:i=!1,onClick:s=void 0,showChildrenIcon:c=!0,span:d,addHoverIndentId:m,removeHoverIndentId:v}=o,w=N.useMemo(()=>{const Q=Uh(o.span);return Q.push("root"),Q.reverse(),Q},[o.span]),E=(Q,H)=>{(!(Q.relatedTarget instanceof HTMLSpanElement)||uo(Q,"relatedTarget.dataset.ancestorId")!==H)&&v(H)},S=(Q,H)=>{(!(Q.relatedTarget instanceof HTMLSpanElement)||uo(Q,"relatedTarget.dataset.ancestorId")!==H)&&m(H)},{hasChildren:O,spanID:V}=d,X=O?{onClick:s,role:"switch","aria-checked":i}:null,q=c&&O&&(i?M.createElement(hb,null):M.createElement(db,null));return M.createElement(Th.span,{className:`SpanTreeOffset ${O?"is-parent":""}`,sx:{".SpanTreeOffset--indentGuide:before":{content:'""',paddingLeft:"1px",backgroundColor:Ot("lightgrey","#555")}},...X},w.map(Q=>M.createElement("span",{key:Q,className:Xt("SpanTreeOffset--indentGuide",{"is-active":r.has(Q)}),"data-ancestor-id":Q,onMouseEnter:H=>S(H,Q),onMouseLeave:H=>E(H,Q)})),q&&M.createElement("span",{className:"SpanTreeOffset--iconWrapper",style:{color:Ot("#888","#aaa")},onMouseEnter:Q=>S(Q,V),onMouseLeave:Q=>E(Q,V)},q))};function P2(o,r,i,s){for(var c=-1,d=o==null?0:o.length;++c<d;){var m=o[c];r(s,m,i(m),o)}return s}var L2=P2,j2=Fv;function F2(o,r,i,s){return j2(o,function(c,d,m){r(s,c,i(c),m)}),s}var B2=F2,V2=L2,$2=B2,z2=Sl,H2=Bv;function W2(o,r){return function(i,s){var c=H2(i)?V2:$2,d=r?r():{};return c(i,o,z2(s),d)}}var U2=W2,Z2=pb,G2=U2,J2=Object.prototype,q2=J2.hasOwnProperty,X2=G2(function(o,r,i){q2.call(o,i)?o[i].push(r):Z2(o,i,[r])}),Y2=X2;const Q2=ga(Y2);function Yo(){return Yo=Object.assign?Object.assign.bind():function(o){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(o[s]=i[s])}return o},Yo.apply(this,arguments)}var K2=Object.prototype.hasOwnProperty;function Xf(o,r){return o===r?o!==0||r!==0||1/o===1/r:o!==o&&r!==r}function ew(o,r){if(Xf(o,r))return!0;if(typeof o!="object"||o===null||typeof r!="object"||r===null)return!1;var i=Object.keys(o),s=Object.keys(r);if(i.length!==s.length)return!1;for(var c=0;c<i.length;c++)if(!K2.call(r,i[c])||!Xf(o[i[c]],r[i[c]]))return!1;return!0}var tw=ew;const nw=ga(tw);function vl(o,r){return vl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,c){return s.__proto__=c,s},vl(o,r)}function ed(o,r){o.prototype=Object.create(r.prototype),o.prototype.constructor=o,vl(o,r)}var td={};Object.defineProperty(td,"__esModule",{value:!0});td.createChangeEmitter=function(){var r=[],i=r;function s(){i===r&&(i=r.slice())}function c(m){if(typeof m!="function")throw new Error("Expected listener to be a function.");var v=!0;return s(),i.push(m),function(){if(v){v=!1,s();var w=i.indexOf(m);i.splice(w,1)}}}function d(){r=i;for(var m=r,v=0;v<m.length;v++)m[v].apply(m,arguments)}return{listen:c,emit:d}};function rw(o){var r,i=o.Symbol;return typeof i=="function"?i.observable?r=i.observable:(r=i("observable"),i.observable=r):r="@@observable",r}var gi;typeof self<"u"?gi=self:typeof window<"u"?gi=window:typeof global<"u"?gi=global:typeof module<"u"?gi=module:gi=Function("return this")();rw(gi);var aw=function(r){return function(i){var s=N.createFactory(i),c=function(m){return s(r(m))};return c}},iw=function(r){var i=aw(function(s){return Yo({},s,typeof r=="function"?r(s):r)});return i},Yf=function(r,i){for(var s={},c=0;c<i.length;c++){var d=i[c];r.hasOwnProperty(d)&&(s[d]=r[d])}return s},ow=function(r,i,s){return function(c){var d=N.createFactory(c),m=function(v){ed(w,v);function w(){for(var S,O=arguments.length,V=new Array(O),X=0;X<O;X++)V[X]=arguments[X];return S=v.call.apply(v,[this].concat(V))||this,S.state={stateValue:typeof s=="function"?s(S.props):s},S.updateStateValue=function(q,Q){return S.setState(function(H){var $=H.stateValue;return{stateValue:typeof q=="function"?q($):q}},Q)},S}var E=w.prototype;return E.render=function(){var O;return d(Yo({},this.props,(O={},O[r]=this.state.stateValue,O[i]=this.updateStateValue,O)))},w}(N.Component);return m}},sw=function(r){return function(i){var s=N.createFactory(i),c=function(d){ed(m,d);function m(){return d.apply(this,arguments)||this}var v=m.prototype;return v.shouldComponentUpdate=function(E){return r(this.props,E)},v.render=function(){return s(this.props)},m}(N.Component);return c}},lw=function(r){var i=sw(function(s,c){return!nw(Yf(c,r),Yf(s,r))});return i},cw=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.reduce(function(c,d){return function(){return c(d.apply(void 0,arguments))}},function(c){return c})};const uw="label",Qf="    ";function fw(o){if(o===null)return"null";if(Array.isArray(o))return"array";if(typeof o=="string"&&/^https?:/.test(o))try{const r=new URL(o);return"link"}catch{return"string"}return typeof o}function Kf(o){return o.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function hw(o,r){var i="";function s(m){return'class="'+m+'"'}var c=function(m,v,w,E){if(!m.length)return v+" "+w;var S=v+`
`;return i+=Qf,m.forEach(function(O,V){S+=i+E(O)+(V<m.length-1?",":"")+`
`}),i=i.slice(0,-Qf.length),S+i+w};function d(m){if(m===void 0)return"";switch(fw(m)){case"boolean":return"<span "+s("json-markup-bool")+">"+m+"</span>";case"number":return"<span "+s("json-markup-number")+">"+m+"</span>";case"null":return"<span "+s("json-markup-null")+">null</span>";case"string":return"<span "+s("json-markup-string")+'>"'+Kf(m.replace(/\n/g,`
`+i))+'"</span>';case"link":let w=new URL(m);return"<span "+s("json-markup-string")+'>"<a href="'+w.href+'">'+w.href+'</a>"</span>';case"array":return c(m,"[","]",d);case"object":var v=Object.keys(m).filter(function(E){return m[E]!==void 0});return c(v,"{","}",function(E){return"<span "+s("json-markup-key")+'>"'+Kf(E)+'":</span> '+d(m[E])})}return""}return"<div "+s("json-markup")+">"+d(o)+"</div>"}const dw=/^(\[|\{)/;function pw(o){try{return dw.test(o)?JSON.parse(o):o}catch{return o}}function mw(o){return o.startsWith("http.request.header.")||o.startsWith("http.response.header.")}const gw=o=>N.createElement("div",{className:"json-markup"},o.map((r,i)=>N.createElement(N.Fragment,null,i>0&&", ",N.createElement("span",{className:"json-markup-string"},r)))),vw=o=>N.createElement("div",{className:"json-markup"},N.createElement("span",{className:"json-markup-string"},o));function bw(o){const r={__html:hw(o)};return N.createElement("div",{dangerouslySetInnerHTML:r})}function yw(o,r){let i,s=r;return typeof r=="string"&&(s=pw(r)),typeof s=="string"?i=vw(s):Array.isArray(s)&&mw(o)?i=gw(s):i=bw(s),N.createElement("div",{style:{display:"inline-block"},className:"ub-inline-block"},i)}const nd=o=>N.createElement("a",{href:o.href,title:o.title,target:"_blank",rel:"noopener noreferrer"},o.children," ",N.createElement(Vv,{className:"KeyValueTable--linkIcon"}));nd.defaultProps={title:""};function ww(o){const{data:r,linksGetter:i}=o;return N.createElement(nt,{className:"KeyValueTable u-simple-scrollbars bordered",sx:{".KeyValueTable--row:nth-child(2n) > td":{background:Ot("#f5f5f5",pn.hoverBg.dark)}}},N.createElement("table",{className:"u-width-100",style:{width:"100%"}},N.createElement("tbody",{className:"KeyValueTable--body"},r.map((s,c)=>{const d=yw(s.key,s.value),m=i?i(r,c):null;let v;return m&&m.length===1?v=N.createElement("div",null,N.createElement(nd,{href:m[0].url,title:m[0].text},d)):m&&m.length>1?v=N.createElement("div",null,"links todo"):v=d,N.createElement("tr",{className:"KeyValueTable--row",key:`${s.key}-${c}`},N.createElement("td",{className:"KeyValueTable--keyColumn",style:{padding:"6px 8px",fontSize:"0.9rem"}},s.key),N.createElement("td",{style:{padding:"6px 8px"}},v))}))))}function rd(o){const{data:r}=o;return!Array.isArray(r)||!r.length?null:N.createElement($v,{spacingY:0,spacingX:2},r.map((i,s)=>N.createElement(zv,{key:`${i.key}-${s}`},N.createElement("span",{className:"AccordianKeyValues--summaryLabel"},i.key),N.createElement("span",{className:"AccordianKeyValues--summaryDelim"},"="),String(i.value))))}rd.defaultProps={data:null};function Qo(o){const{className:r,data:i,highContrast:s,interactive:c,isOpen:d,label:m,linksGetter:v,onToggle:w}=o,E=!Array.isArray(i)||!i.length,S=Xt("u-align-icon",{"AccordianKeyValues--emptyIcon":E});let O=null,V=null;return c&&(O=d?N.createElement(po,{className:S}):N.createElement(xl,{className:S}),V={"aria-checked":d,onClick:E?null:w,role:"switch"}),N.createElement(nt,{className:Xt(r,"u-tx-ellipsis"),sx:{".AccordianKeyValues--header.is-high-contrast:not(.is-empty):hover":{background:Ot(pn.hoverBg.light,pn.hoverBg.dark)}}},!E&&N.createElement(nt,{className:Xt("AccordianKeyValues--header",{"is-empty":E,"is-high-contrast":s}),sx:{svg:{display:"inline-block !important",marginBottom:"-2px",marginRight:"5px",opacity:.6}},...V},O,N.createElement("strong",{"data-test":uw,style:{fontSize:"0.85rem"}},m,d||":"),!d&&N.createElement(rd,{data:i})),d&&N.createElement(ww,{data:i,linksGetter:v}))}Qo.defaultProps={className:null,highContrast:!1,interactive:!0,onToggle:null};function Cl(o){const{interactive:r,isOpen:i,linksGetter:s,logs:c,openedItems:d,onItemToggle:m,onToggle:v,timestamp:w}=o;let E=null,S="span",O=null;return r&&(E=i?N.createElement(po,{opacity:"0.6",className:"u-align-icon"}):N.createElement(xl,{opacity:"0.6",className:"u-align-icon"}),S="a",O={"aria-checked":i,onClick:v,role:"switch"}),N.createElement(nt,{className:"AccordianLogs",sx:{".AccordianLogs--header svg":{display:"inline-block !important",marginBottom:"-2px",marginRight:"5px"}}},N.createElement(S,{className:Xt("AccordianLogs--header",{"is-open":i}),...O},E," ",N.createElement("strong",{style:{marginLeft:"-2px"}},"Logs")," (",c.length,")"),i&&N.createElement(Hv,{alignItems:"left",spacing:1,className:"AccordianLogs--content bordered-top"},Wv(c,"timestamp").map((V,X)=>N.createElement(Qo,{key:`${V.timestamp}-${X}`,className:X<c.length-1?"ub-mb1":null,data:V.fields||[],highContrast:!0,interactive:r,isOpen:d?d.has(V):!1,label:`${Ua(V.timestamp-w)}`,linksGetter:s,onToggle:r&&m?()=>m(V):null})),N.createElement("small",{className:"AccordianLogs--footer"},"Log timestamps are relative to the start time of the full trace.")))}Cl.defaultProps={interactive:!0,linksGetter:void 0,onItemToggle:void 0,onToggle:void 0,openedItems:void 0};function so(o){return`${(o*100).toFixed(1)}%`}function Ew(o){const{viewEnd:r,viewStart:i,getViewedBounds:s,color:c,label:d,hintSide:m,onClick:v,setLongLabel:w,setShortLabel:E,rpc:S,traceStartTime:O,span:V}=o,X=Q2(V.logs,q=>{const Q=s(q.timestamp,q.timestamp).start;return so(Math.round(Q*500)/500)});return M.createElement("div",{className:"SpanBar--wrapper",onClick:v,onMouseOut:E,onMouseOver:w,"aria-hidden":!0},M.createElement("div",{"aria-label":d,className:"SpanBar--bar",style:{background:c,left:so(i),width:so(r-i)}},M.createElement("div",{className:`SpanBar--label is-${m}`},d)),M.createElement("div",null,Object.keys(X).map(q=>M.createElement($h,{key:q,arrow:{pointAtCenter:!0},overlayClassName:"SpanBar--logHint",content:M.createElement(Cl,{interactive:!1,isOpen:!0,logs:X[q],timestamp:O})},M.createElement(nt,{width:"20px",display:"inline-block",position:"absolute",height:"60%",top:"20%",left:`calc(${q} - 11px)`,textAlign:"center",onClick:Q=>{Q.stopPropagation(),Q.preventDefault()}},M.createElement(nt,{className:"SpanBar--logMarker",display:"inline-block",_hover:{bg:"orange"},bg:Ot("rgba(0, 0, 0, 0.25)","brand.400"),cursor:"pointer",height:"100%",width:"1.5px"}))))),S&&M.createElement("div",{className:"SpanBar--rpc",style:{background:S.color,left:so(S.viewStart),width:so(S.viewEnd-S.viewStart)}}))}const xw=cw(ow("label","setLabel",o=>o.shortLabel),iw(({setLabel:o,shortLabel:r,longLabel:i})=>({setLongLabel:()=>o(i),setShortLabel:()=>o(r)})),lw(["label","rpc","viewStart","viewEnd"]))(Ew);function Sw(o){return Uv({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 80c-8.66 0-16.58 7.36-16 16l8 216a8 8 0 008 8h0a8 8 0 008-8l8-216c.58-8.64-7.34-16-16-16z"}},{tag:"circle",attr:{cx:"256",cy:"416",r:"16",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}}]})(o)}const kw=o=>{const{colorMode:r}=kl(),{className:i="",color:s,columnDivision:c,isChildrenExpanded:d,isDetailExpanded:m,isMatchingFilter:v,numTicks:w,rpc:E,noInstrumentedServer:S,showErrorIcon:O,getViewedBounds:V,traceStartTime:X,span:q,focusSpan:Q,hoverIndentIds:H,addHoverIndentId:$,removeHoverIndentId:pe,onDetailToggled:C,onChildrenToggled:p}=o,W=()=>{C(q.spanID)},Z=()=>{p(q.spanID)},{duration:te,hasChildren:ae,operationName:z,process:{serviceName:ie}}=q,J=Ua(te),ue=V(q.startTime,q.startTime+q.duration),ve=ue.start,T=ue.end,R=`${ie}::${z}`;let A,L;ve>1-T?(A=`${R} | ${J}`,L="left"):(A=`${J} | ${R}`,L="right");const j="#fffce9",_="rgb(22, 43, 50)";return N.createElement(nt,{sx:{".span-row:hover .span-name-wrapper":{backgroundColor:Ot("#f8f8f8","gray.700"),background:r=="light"?"linear-gradient(90deg, #fafafa, #f8f8f8 50%, #eee)":null},".span-row:hover .span-view":{backgroundColor:Ot("#f5f5f5","gray.700"),outline:r=="light"?"1px solid #ddd":null},".span-row.is-expanded .SpanBar--label,.span-row:hover .SpanBar--label, .span-name .endpoint-name":{color:Ot("#000","#aaa")},".span-row.is-expanded .span-name-wrapper":{background:Ot("#f8f8f8","gray.700")},".span-row.is-expanded .span-view":{background:Ot("#f8f8f8","gray.700")}," .span-row.is-matching-filter":{},".span-name-wrapper.is-matching-filter":{backgroundColor:Ot(j,_),color:Ot("#000","#fff")},".span-row.is-expanded .span-name-wrapper.is-matching-filter":{background:Ot(j,_)},".span-row.is-expanded.is-matching-filter .span-view":{background:Ot(j,_)},".span-row.is-matching-filter:hover .span-name-wrapper":{background:Ot(j,_)},".span-row.is-matching-filter:hover .span-view":{backgroundColor:Ot(j,_)},".span-row.is-expanded.is-matching-filter:hover .span-view":{}}},N.createElement(rr,{className:`
          span-row
          ${i||""}
          ${m?"is-expanded":""}
          ${v?"is-matching-filter":""}
        `},N.createElement(rr.Cell,{className:"span-name-column",width:c},N.createElement(nt,{className:`span-name-wrapper ${v?"is-matching-filter":""}`,bg:Ot("#f8f8f8",pn.bodyBg.dark)},N.createElement(Kh,{childrenVisible:d,span:q,onClick:ae?Z:void 0,hoverIndentIds:H,addHoverIndentId:$,removeHoverIndentId:pe}),N.createElement("a",{className:`span-name ${m?"is-detail-expanded":""}`,"aria-checked":m,onClick:W,role:"switch",style:{borderColor:s},tabIndex:0},N.createElement("span",{className:`span-svc-name ${ae&&!d?"is-children-collapsed":""}`},O&&N.createElement(Sw,{style:{display:"inline-block",marginBottom:"-2px"},className:"SpanBarRow--errorIcon"}),ie," ",E&&N.createElement("span",null,N.createElement(Jo,{style:{display:"inline-block",marginBottom:"-2px"}})," ",N.createElement("i",{className:"SpanBarRow--rpcColorMarker",style:{background:E.color}}),E.serviceName),S&&N.createElement("span",null,N.createElement(Jo,null)," ",N.createElement("i",{className:"SpanBarRow--rpcColorMarker",style:{background:S.color}}),S.serviceName)),N.createElement("small",{className:"endpoint-name"},E?E.operationName:z)),q.references&&q.references.length>1&&N.createElement(qf,{references:q.references,tooltipText:"Contains multiple references",focusSpan:Q},N.createElement(Zv,null)),q.subsidiarilyReferencedBy&&q.subsidiarilyReferencedBy.length>0&&N.createElement(qf,{references:q.subsidiarilyReferencedBy,tooltipText:`This span is referenced by ${q.subsidiarilyReferencedBy.length===1?"another span":"multiple other spans"}`,focusSpan:Q},N.createElement(Gv,null)))),N.createElement(rr.Cell,{className:"span-view",style:{cursor:"pointer"},width:1-c,onClick:W},N.createElement(_l,{numTicks:w}),N.createElement(xw,{rpc:E,viewStart:ve,viewEnd:T,getViewedBounds:V,color:s,shortLabel:J,longLabel:A,hintSide:L,traceStartTime:X,span:q}))))};function Tw(o){const{data:r,focusSpan:i}=o;return N.createElement("div",{className:"ReferencesList u-simple-scrollbars"},N.createElement("ul",{className:"ReferencesList--List"},r.map(s=>N.createElement("li",{className:"ReferencesList--Item",key:`${s.spanID}`},N.createElement(Qh,{reference:s,focusSpan:i},N.createElement("span",{className:"ReferencesList--itemContent"},s.span?N.createElement("span",null,N.createElement("span",{className:"span-svc-name"},s.span.process.serviceName),N.createElement("small",{className:"endpoint-name"},s.span.operationName)):N.createElement("span",{className:"span-svc-name"},"< span in another trace >"),N.createElement("small",{className:"SpanReference--debugInfo"},N.createElement("span",{className:"SpanReference--debugLabel","data-label":"Reference Type:"},s.refType),N.createElement("span",{className:"SpanReference--debugLabel","data-label":"SpanID:"},s.spanID))))))))}class ad extends N.PureComponent{render(){const{data:r,highContrast:i,interactive:s,isOpen:c,onToggle:d,focusSpan:m}=this.props,v=!Array.isArray(r)||!r.length,w=Xt("u-align-icon",{"AccordianKReferences--emptyIcon":v});let E=null,S=null;return s&&(E=c?N.createElement(Nh,{className:w}):N.createElement(Jo,{className:w}),S={"aria-checked":c,onClick:v?null:d,role:"switch"}),N.createElement("div",{className:"AccordianReferences"},N.createElement("div",{className:Xt("AccordianReferences--header","AccordianReferences--header",{"is-empty":v,"is-high-contrast":i,"is-open":c}),...S},E,N.createElement("strong",null,N.createElement("span",{className:"AccordianReferences--label"},"References"))," ","(",r.length,")"),c&&N.createElement(Tw,{data:r,focusSpan:m}))}}U(ad,"defaultProps",{highContrast:!1,interactive:!0,onToggle:null});function _w(o){const{data:r}=o;return N.createElement("div",{className:"TextList u-simple-scrollbars"},N.createElement("ul",{className:"TextList--List "},r.map((i,s)=>N.createElement("li",{key:`${s}`},i))))}function id(o){const{className:r,data:i,headerClassName:s,highContrast:c,interactive:d,isOpen:m,label:v,onToggle:w}=o,E=!Array.isArray(i)||!i.length,S=Xt("u-align-icon",{"AccordianKeyValues--emptyIcon":E});let O=null,V=null;return d&&(O=m?N.createElement(Nh,{className:S}):N.createElement(Jo,{className:S}),V={"aria-checked":m,onClick:E?null:w,role:"switch"}),N.createElement("div",{className:r||""},N.createElement(nt,{className:Xt("AccordianText--header",s,{"is-empty":E,"is-high-contrast":c,"is-open":m}),style:{cursor:"pointer",overflow:"hidden",padding:"0.25em 0.1em",textOverflow:"ellipsis",whiteSpace:"nowrap"},_hover:{background:"#e8e8e8"},...V},O," ",N.createElement("strong",null,v)," (",i.length,")"),m&&N.createElement(_w,{data:i}))}id.defaultProps={className:null,highContrast:!1,interactive:!0,onToggle:null};function Cw(o){const{className:r,dividerClassName:i,items:s}=o;return M.createElement(Kt,{spacing:1,className:`LabeledList ${r||""}`,style:{listStyle:"none",margin:0,padding:0}},s.map(({key:c,label:d,value:m},v)=>{const w=v<s.length-1&&M.createElement("li",{className:"LabeledList--item",key:`${c}--divider`,style:{display:"inline-block"}},M.createElement(Ih,{className:i,orientation:"vertical"}));return[M.createElement("li",{className:"LabeledList--item",style:{display:"inline-block"},key:c},M.createElement("span",{className:"LabeledList--label",style:{marginRight:"0.25rem",opacity:.8}},d),M.createElement("strong",null,m)),w]}))}function Mw(o){const{detailState:r,linksGetter:i,logItemToggle:s,logsToggle:c,processToggle:d,span:m,tagsToggle:v,traceStartTime:w,warningsToggle:E,referencesToggle:S,focusSpan:O}=o,{isTagsOpen:V,isProcessOpen:X,logs:q,isWarningsOpen:Q,isReferencesOpen:H}=r,{operationName:$,process:pe,duration:C,relativeStartTime:p,spanID:W,logs:Z,tags:te,warnings:ae,references:z}=m,ie=[{key:"svc",label:"Service:",value:pe.serviceName},{key:"duration",label:"Duration:",value:Ua(C)},{key:"start",label:"Relative start time:",value:Ua(p)}];return M.createElement("div",null,M.createElement(fo,{justifyContent:"space-between",alignItems:"center",pt:"0",pb:"2"},M.createElement(Kt,null,M.createElement(Mt,{textStyle:"subTitle"},$),M.createElement(Mt,{opacity:"0.7",mb:"-2px"},W)),M.createElement(Cw,{dividerClassName:"SpanDetail--divider",items:ie})),M.createElement(Ih,{className:"SpanDetail--divider"}),M.createElement(nt,{mt:"3"},M.createElement("div",null,M.createElement(Qo,{data:te,label:"Tags",linksGetter:i,isOpen:V,onToggle:()=>v(W)}),pe.tags&&M.createElement(Qo,{className:"ub-mb1",data:pe.tags,label:"Process",linksGetter:i,isOpen:X,onToggle:()=>d(W)})),Z&&Z.length>0&&M.createElement(Cl,{linksGetter:i,logs:Z,isOpen:q.isOpen,openedItems:q.openedItems,onToggle:()=>c(W),onItemToggle:J=>s(W,J),timestamp:w}),ae&&ae.length>0&&M.createElement(id,{className:"AccordianWarnings",headerClassName:"AccordianWarnings--header",label:M.createElement("span",{className:"AccordianWarnings--label"},"Warnings"),data:ae,isOpen:Q,onToggle:()=>E(W)}),z&&z.length>0&&(z.length>1||z[0].refType!=="CHILD_OF")&&M.createElement(ad,{data:z,isOpen:H,onToggle:()=>S(W),focusSpan:O})))}const Ow=o=>{const{colorMode:r}=kl(),i=()=>{o.onDetailToggled(o.span.spanID)},s=(C,p)=>{const{linksGetter:W,span:Z}=o;return W(Z,C,p)},{color:c,columnDivision:d,detailState:m,logItemToggle:v,logsToggle:w,processToggle:E,referencesToggle:S,warningsToggle:O,span:V,tagsToggle:X,traceStartTime:q,focusSpan:Q,hoverIndentIds:H,addHoverIndentId:$,removeHoverIndentId:pe}=o;return M.createElement(rr,{className:"detail-row"},M.createElement(rr.Cell,{width:d},M.createElement(Kh,{span:V,showChildrenIcon:!1,hoverIndentIds:H,addHoverIndentId:$,removeHoverIndentId:pe}),M.createElement("span",null,M.createElement("span",{className:"detail-row-expanded-accent","aria-checked":"true",onClick:i,role:"switch",style:{borderColor:c}}))),M.createElement(rr.Cell,{width:1-d},M.createElement(nt,{sx:{".detail-info-wrapper":{background:Ot("#fff",pn.bodyBg.dark),border:r=="light"?"1px solid #d3d3d3":null,borderTop:"3px solid",padding:"0.75rem"}}},M.createElement("div",{className:"detail-info-wrapper",style:{borderTopColor:c}},M.createElement(Mw,{detailState:m,linksGetter:s,logItemToggle:v,logsToggle:w,processToggle:E,referencesToggle:S,warningsToggle:O,span:V,tagsToggle:X,traceStartTime:q,focusSpan:Q})))))},Nw=es(jw),Iw=es(ky,en.isEqual),Dw=es(Fw,en.isEqual),Rw=N.memo(o=>(console.log("here333333:span rows renders"),M.createElement(Aw,{...o})));class Aw extends M.Component{constructor(i){super(i);U(this,"listView");U(this,"state");U(this,"clearShouldScrollToFirstUiFindMatch",()=>{this.setState({...this.state,shouldScrollToFirstUiFindMatch:!1})});U(this,"addHoverIndentId",i=>{const s=new Set;s.add(i),this.setState({...this.state,hoverIndentGuideIds:s})});U(this,"removeHoverIndentId",i=>{const s=new Set(this.state.hoverIndentGuideIds);s.delete(i),this.setState({...this.state,hoverIndentGuideIds:s})});U(this,"childrenToggle",i=>{const s=new Set(this.props.childrenHiddenIDs);s.has(i)?s.delete(i):s.add(i),this.props.onChildrenToggle(s)});U(this,"detailToggle",i=>{const s=new Map(this.state.detailStates);s.has(i)?s.delete(i):s.set(i,new wr),this.setState({...this.state,detailStates:s})});U(this,"detailLogItemToggle",(i,s)=>{const c=this.state.detailStates.get(i);if(!c)return;const d=c.toggleLogItem(s),m=new Map(this.state.detailStates);m.set(i,d),this.setState({...this.state,detailStates:m})});U(this,"commonDetailToggle",(i,s)=>{const c=this.state.detailStates.get(s);if(!c)return;let d=new wr(c);i==="tags"?d.isTagsOpen=!c.isTagsOpen:i==="process"?d.isProcessOpen=!c.isProcessOpen:i==="warnings"?d.isWarningsOpen=!c.isWarningsOpen:i==="references"?d.isReferencesOpen=!c.isReferencesOpen:d.logs.isOpen=!c.logs.isOpen;const m=new Map(this.state.detailStates);m.set(s,d),this.setState({...this.state,detailStates:m})});U(this,"getRowStates",()=>Nw(this.props.trace,this.props.childrenHiddenIDs,this.state.detailStates));U(this,"getClippingCssClasses",()=>{const{currentViewRangeTime:i}=this.props;return Dw(i)});U(this,"getViewedBounds",()=>{const{currentViewRangeTime:i,trace:s}=this.props,[c,d]=i;return Iw({min:s.startTime,max:s.endTime,viewStart:c,viewEnd:d})});U(this,"focusSpan",i=>{});U(this,"getAccessors",()=>{const i=this.listView;if(!i)throw new Error("ListView unavailable");return{getViewRange:this.getViewRange,getSearchedSpanIDs:this.getSearchedSpanIDs,getCollapsedChildren:this.getCollapsedChildren,getViewHeight:i.getViewHeight,getBottomRowIndexVisible:i.getBottomVisibleIndex,getTopRowIndexVisible:i.getTopVisibleIndex,getRowPosition:i.getRowPosition,mapRowIndexToSpanIndex:this.mapRowIndexToSpanIndex,mapSpanIndexToRowIndex:this.mapSpanIndexToRowIndex}});U(this,"getViewRange",()=>this.props.currentViewRangeTime);U(this,"getSearchedSpanIDs",()=>this.props.findMatchesIDs);U(this,"getCollapsedChildren",()=>this.props.childrenHiddenIDs);U(this,"mapRowIndexToSpanIndex",i=>this.getRowStates()[i].spanIndex);U(this,"mapSpanIndexToRowIndex",i=>{const s=this.getRowStates().length;for(let c=0;c<s;c++){const{spanIndex:d}=this.getRowStates()[c];if(d===i)return c}throw new Error(`unable to find row for span index: ${i}`)});U(this,"setListView",i=>{const s=this.listView!==i;this.listView=i,i&&s&&this.props.registerAccessors(this.getAccessors())});U(this,"getKeyFromIndex",i=>{const{isDetail:s,span:c}=this.getRowStates()[i];return`${c.spanID}--${s?"detail":"bar"}`});U(this,"getIndexFromKey",i=>{const s=i.split("--"),c=s[0],d=s[1]==="detail",m=this.getRowStates().length;for(let v=0;v<m;v++){const{span:w,isDetail:E}=this.getRowStates()[v];if(w.spanID===c&&E===d)return v}return-1});U(this,"getRowHeight",i=>{const{span:s,isDetail:c}=this.getRowStates()[i];return c?Array.isArray(s.logs)&&s.logs.length?cl.detailWithLogs:cl.detail:cl.bar});U(this,"linksGetter",(i,s,c)=>{const{trace:d}=this.props;return O2(i,s,c,d)});U(this,"renderRow",(i,s,c,d)=>{const{isDetail:m,span:v,spanIndex:w}=this.getRowStates()[c];return m?this.renderSpanDetailRow(v,i,s,d):this.renderSpanBarRow(v,w,i,s,d)});U(this,"renderSpanBarRow",(i,s,c,d,m)=>{const{spanID:v}=i,{serviceName:w}=i.process,{findMatchesIDs:E,spanNameWidth:S,trace:O,childrenHiddenIDs:V}=this.props,{detailStates:X}=this.state;if(!O)return null;const q=da.getColorByKey(w),Q=V.has(v),H=X.has(v),$=E?E.has(v):!1,pe=Wh(i)||Q&&Oy(O.spans,s);let C=null;if(Q){const Z=Ny(O.spans.slice(s));if(Z){const te=this.getViewedBounds()(Z.startTime,Z.startTime+Z.duration);C={color:da.getColorByKey(Z.process.serviceName),operationName:Z.operationName,serviceName:Z.process.serviceName,viewEnd:te.end,viewStart:te.start}}}const p=i.tags.find(Z=>Z.key===yb);let W=null;return!i.hasChildren&&p&&Iy(i)&&(W={serviceName:p.value,color:da.getColorByKey(p.value)}),M.createElement(nt,{className:"VirtualizedTraceView--row",width:"100%",key:c,style:d,...m},M.createElement(kw,{className:this.getClippingCssClasses(),color:q,columnDivision:S,isChildrenExpanded:!Q,isDetailExpanded:H,isMatchingFilter:$,numTicks:Pw,onDetailToggled:this.detailToggle,onChildrenToggled:this.childrenToggle,rpc:C,noInstrumentedServer:W,showErrorIcon:pe,getViewedBounds:this.getViewedBounds(),traceStartTime:O.startTime,span:i,focusSpan:this.focusSpan,hoverIndentIds:this.state.hoverIndentGuideIds,addHoverIndentId:this.addHoverIndentId,removeHoverIndentId:this.removeHoverIndentId}))});U(this,"renderSpanDetailRow",(i,s,c,d)=>{const{spanID:m}=i,{serviceName:v}=i.process,{spanNameWidth:w,trace:E}=this.props,{detailStates:S}=this.state,O=S.get(m);if(!E||!O)return null;const V=da.getColorByKey(v);return M.createElement(nt,{className:"VirtualizedTraceView--row",width:"100%",key:s,style:{...c,zIndex:1},...d},M.createElement(Ow,{color:V,columnDivision:w,onDetailToggled:this.detailToggle,detailState:O,linksGetter:this.linksGetter,logItemToggle:this.detailLogItemToggle,logsToggle:X=>this.commonDetailToggle("logs",X),processToggle:X=>this.commonDetailToggle("process",X),referencesToggle:X=>this.commonDetailToggle("references",X),warningsToggle:X=>this.commonDetailToggle("warnings",X),tagsToggle:X=>this.commonDetailToggle("tags",X),span:i,traceStartTime:E.startTime,focusSpan:this.focusSpan,hoverIndentIds:this.state.hoverIndentGuideIds,addHoverIndentId:this.addHoverIndentId,removeHoverIndentId:this.removeHoverIndentId}))});const{trace:s,search:c}=i;if(en.isEmpty(c))this.state={detailStates:new Map,hoverIndentGuideIds:new Set,shouldScrollToFirstUiFindMatch:!1};else{const{childrenHiddenIDs:d,detailStates:m,shouldScrollToFirstUiFindMatch:v}=Bw(c,s.spans);this.state={hoverIndentGuideIds:new Set,detailStates:m,shouldScrollToFirstUiFindMatch:v},i.onChildrenToggle(d)}}shouldComponentUpdate(i,s){for(const[d,m]of Object.entries(s))if(m!==this.state[d]){if(d=="shouldScrollToFirstUiFindMatch")return!!m}else return!0;const c=Object.keys(i);for(let d=0;d<c.length;d+=1)if(i[c[d]]!==this.props[c[d]])return!0;return!1}componentDidUpdate(i){const{registerAccessors:s}=i,{scrollToFirstVisibleSpan:c,registerAccessors:d}=this.props;this.listView&&s!==d&&d(this.getAccessors()),this.state.shouldScrollToFirstUiFindMatch&&(c(),this.clearShouldScrollToFirstUiFindMatch())}render(){return M.createElement(nt,{className:"VirtualizedTraceView--spans",pt:"38px",width:"100%",sx:{".VirtualizedTraceView--rowsWrapper":{width:"100%"}}},M.createElement(Zh,{ref:this.setListView,dataLength:this.getRowStates().length,itemHeightGetter:this.getRowHeight,itemRenderer:this.renderRow,viewBuffer:300,viewBufferMin:100,itemsWrapperClassName:"VirtualizedTraceView--rowsWrapper",getKeyFromIndex:this.getKeyFromIndex,getIndexFromKey:this.getIndexFromKey,windowScroller:!0}))}}const cl={bar:28,detail:161,detailWithLogs:197},Pw=5;function Lw(o,r,i){if(!o)return[];let s=null;const c=[];for(let d=0;d<o.length;d++){const m=o[d],{spanID:v,depth:w}=m;let E=!1;s!=null&&(w>=s?E=!0:s=null),!E&&(r.has(v)&&(s=w+1),c.push({span:m,isDetail:!1,spanIndex:d}),i.has(v)&&c.push({span:m,isDetail:!0,spanIndex:d}))}return c}function jw(o,r,i){return o?Lw(o.spans,r,i):[]}function Fw(o){const[r,i]=o;return Xt({"clipping-left":r>0,"clipping-right":i<1})}const Bw=(o,r,i=!0)=>{const s=new Map,c=new Set,d=new Map;let m=!1;r.forEach(w=>{s.set(w.spanID,w),i&&c.add(w.spanID)});const v=Ah(o,r);return v&&v.size&&(v.forEach(w=>{const E=s.get(w);d.set(w,new wr),Uh(E).forEach(S=>c.delete(S))}),m=!0),{childrenHiddenIDs:c,detailStates:d,shouldScrollToFirstUiFindMatch:m}},Vw=({trace:o,updateNextViewRangeTime:r,updateViewRangeTime:i,viewRange:s,registerAccessors:c,scrollToFirstVisibleSpan:d,findMatchesIDs:m,search:v})=>{const[w,E]=N.useState(.3),[S,O]=N.useState(new Set),V=()=>{if(eh(o.spans,S))return;const $=o.spans.reduce((pe,C)=>(C.hasChildren&&pe.add(C.spanID),pe),new Set);O($)},X=()=>{if(eh(o.spans,S))return;let $;const pe=o.spans.reduce((C,p)=>($&&p.depth<=$.depth?(C.add($.spanID),p.hasChildren&&($=p)):p.hasChildren&&!C.has(p.spanID)&&($=p),C),new Set(S));$&&pe.add($.spanID),O(pe)},q=()=>{O(new Set)},Q=()=>{if(S.size===0)return;let $=-1,pe=!0;const C=o.spans.reduce((p,W)=>(W.depth<=$&&(pe=!0),pe&&p.has(W.spanID)&&(p.delete(W.spanID),pe=!1,$=W.depth),p),new Set(S));O(C)},H=N.useCallback($=>{O($)},[]);return M.createElement(M.Fragment,null,M.createElement(nt,{sx:{".TimelineHeaderRow":{background:Ot("#fff",pn.bodyBg.dark)}}},M.createElement(oy,{duration:o.duration,nameColumnWidth:w,onCollapseAll:V,onCollapseOne:X,onColummWidthChange:E,onExpandAll:q,onExpandOne:Q,viewRangeTime:s.time,updateNextViewRangeTime:r,updateViewRangeTime:i})),M.createElement(Rw,{trace:o,registerAccessors:c,scrollToFirstVisibleSpan:d,findMatchesIDs:m,currentViewRangeTime:s.time.current,spanNameWidth:w,search:v,childrenHiddenIDs:S,onChildrenToggle:H}))};function eh(o,r){return o.filter(s=>s.hasChildren).length===r.size}class Er{constructor(r,i){this.low=r,this.high=i,this.length=1+i-r}overlaps(r){return r.low<=this.high&&this.low<=r.high}touches(r){return r.low<=this.high+1&&this.low-1<=r.high}covers(r){return this.low<=r.low&&r.high<=this.high}isInside(r){return r.low<this.low&&this.high<r.high}isBefore(r){return this.high<r.low}add(r){return new Er(Math.min(this.low,r.low),Math.max(this.high,r.high))}subtract(r){return r.covers(this)?[]:r.isInside(this)?[new Er(this.low,r.low-1),new Er(r.high+1,this.high)]:r.low<=this.low?[new Er(r.high+1,this.high)]:[new Er(this.low,r.low-1)]}toString(){return this.low==this.high?this.low.toString():this.low+"-"+this.high}}class vi{constructor(r,i){this.ranges=[],this.length=0,r!=null&&this.add(r,i)}_update_length(){this.length=this.ranges.reduce((r,i)=>r+i.length,0)}add(r,i){const s=c=>{let d=0;for(;d<this.ranges.length&&!c.touches(this.ranges[d])&&this.ranges[d].isBefore(c);)d++;const m=this.ranges.slice(0,d);for(;d<this.ranges.length&&c.touches(this.ranges[d]);)c=c.add(this.ranges[d]),d++;m.push(c),this.ranges=m.concat(this.ranges.slice(d)),this._update_length()};return r instanceof vi?r.ranges.forEach(s):(i==null&&(i=r),s(new Er(r,i))),this}subtract(r,i){const s=c=>{let d=0;for(;d<this.ranges.length&&!c.overlaps(this.ranges[d]);)d++;let m=this.ranges.slice(0,d);for(;d<this.ranges.length&&c.overlaps(this.ranges[d]);)m=m.concat(this.ranges[d].subtract(c)),d++;this.ranges=m.concat(this.ranges.slice(d)),this._update_length()};return r instanceof vi?r.ranges.forEach(s):(i==null&&(i=r),s(new Er(r,i))),this}intersect(r,i){const s=[],c=d=>{let m=0;for(;m<this.ranges.length&&!d.overlaps(this.ranges[m]);)m++;for(;m<this.ranges.length&&d.overlaps(this.ranges[m]);){let v=Math.max(this.ranges[m].low,d.low),w=Math.min(this.ranges[m].high,d.high);s.push(new Er(v,w)),m++}};return r instanceof vi?r.ranges.forEach(c):(i==null&&(i=r),c(new Er(r,i))),this.ranges=s,this._update_length(),this}index(r){let i=0;for(;i<this.ranges.length&&this.ranges[i].length<=r;)r-=this.ranges[i].length,i++;return this.ranges[i].low+r}toString(){return"[ "+this.ranges.join(", ")+" ]"}clone(){return new vi(this)}numbers(){return this.ranges.reduce((r,i)=>{let s=i.low;for(;s<=i.high;)r.push(s),s++;return r},[])}subranges(){return this.ranges.map(r=>({low:r.low,high:r.high,length:1+r.high-r.low}))}}var $w=vi;const od=ga($w);let di;function zw(o){if(o){const r=o.find(i=>i.key==="error");if(r)return r.value}return!1}function Hw(o,r){return o.map(i=>{let s=!0;return typeof i.to=="number"&&(s=r[i.to].members.some(d=>d.span.references&&d.span.references.some(m=>m.refType==="CHILD_OF"))),{...i,followsFrom:!s}})}function Ww(o,r){return di||(di={},r.spans.forEach(i=>{i.references&&i.references.filter(c=>c.refType==="CHILD_OF").map(c=>c.spanID).forEach(c=>{di[c]=di[c]||[],di[c].push(i)})})),di[o]||[]}function Uw(o,r){const i=new od;return Ww(o,r).forEach(s=>{i.add(s.startTime,s.startTime+(s.duration<=0?0:s.duration-1))}),i}function Zw(o){const r=Lf.newFromTrace(o),i=new Lf;return r.nodesMap.forEach(s=>{const c=s.members.reduce((w,E)=>w+E.span.duration,0),d=s.members.reduce((w,E)=>w+zw(E.span.tags)?1:0,0),m=s.members.reduce((w,E)=>{const S=new od(E.span.startTime,E.span.startTime+E.span.duration).intersect(Uw(E.span.spanID,o));return w+S.length},0),v=c-m;i.addNode(s.id,s.parentID,{...s,count:s.members.length,errors:d,time:c,percent:100/o.duration*c,selfTime:v,percentSelfTime:100/c*v})}),i}function Gw(o){const r=Zw(o),i=[...r.nodesMap.values()],s=wb(r.nodesMap),c=Hw(s.edges,i);return{...s,edges:c}}function th(){const o=new Map;return function(i,s){const c=o.get(i);return c||(o.set(i,s),s)}}const nh=Object.assign(th(),{makeScope:th});const rh="service",bl="time",Wo="selftime",Jw=N.createElement("table",{className:"OpNode OpNode--legendNode"},N.createElement("tbody",null,N.createElement("tr",null,N.createElement("td",{className:"OpNode--metricCell"},"Count / Error"),N.createElement("td",{className:"OpNode--labelCell"},N.createElement("strong",null,"Service")),N.createElement("td",{className:"OpNode--metricCell"},"Avg")),N.createElement("tr",null,N.createElement("td",{className:"OpNode--metricCell"},"Duration"),N.createElement("td",{className:"OpNode--labelCell"},"Operation"),N.createElement("td",{className:"OpNode--metricCell"},"Self time"))));function ul(o){return Math.round(o*100)/100}const qw=o=>{const{count:r,errors:i,time:s,percent:c,selfTime:d,percentSelfTime:m,operation:v,service:w,mode:E}=o;let S;return E===bl?S=[255,0,0,Math.min(c/20,1)].join():E===Wo?S=[255,0,0,m/100].join():S=da.getRgbColorByKey(w).concat(.6).join(),N.createElement(Jv,{trigger:"hover",placement:"auto"},N.createElement(qv,null,N.createElement(nt,null,N.createElement(ah,{...o,backgroundColor:S}))),N.createElement(Xv,null,N.createElement(Yv,{minW:"fit-content"},N.createElement(Qv,null),N.createElement(Kv,null,N.createElement(nt,{className:"OpNode--popoverContent"}," ",N.createElement(ah,{...o,backgroundColor:S,simple:!1}))))))},ah=o=>{const{count:r,errors:i,time:s,percent:c,selfTime:d,percentSelfTime:m,operation:v,service:w,mode:E,backgroundColor:S,simple:O=!0}=o;return N.createElement("table",{className:`OpNode OpNode--mode-${E}`,cellSpacing:"0",style:{fontSize:O?"1.5rem":"1rem",background:Ot(pn.bodyBg.light,pn.bodyBg.dark)}},N.createElement("tbody",{className:"OpNode--body",style:{background:`rgba(${S})`}},N.createElement("tr",null,N.createElement("td",{className:"OpNode--metricCell OpNode--count"},O?`${r} / ${i}`:N.createElement(nt,null,N.createElement(Mt,null,"Total spans: ",r),N.createElement(Mt,null,"Error spans: ",i))),N.createElement("td",{className:"OpNode--labelCell OpNode--service"},N.createElement("strong",null,w)),N.createElement("td",{className:"OpNode--metricCell OpNode--avg"},O?N.createElement(N.Fragment,null):N.createElement(Mt,null,"Average span duraiton:"),ul(s/1e3/r)," ms")),N.createElement("tr",null,N.createElement("td",{className:"OpNode--metricCell OpNode--time"},O?N.createElement(N.Fragment,null):N.createElement(Mt,null,"Total spans duration:"),s/1e3," ms (",ul(c)," %)"),N.createElement("td",{className:"OpNode--labelCell OpNode--op"},v),N.createElement("td",{className:"OpNode--metricCell OpNode--selfTime"},O?null:N.createElement(Mt,null,"Self duration"),d/1e3," ms (",ul(m)," %)"))))};function Xw(o){return function(i){return N.createElement(qw,{...i.data,mode:o})}}function Yw(o){return function(i){return!o||!o.has(i.vertex.key)?null:N.createElement(Eb,{height:i.height,width:i.width})}}function Qw(o){return N.createElement("rect",{className:"OpNode--vectorBorder",vectorEffect:"non-scaling-stroke",width:o.width,height:o.height})}const Kw=o=>{const{shadowed:r,bg:i=Ot("transparent","transparent"),...s}=o;return M.createElement(nt,{bg:i,borderRadius:".5rem",borderWidth:"0px",p:[2,2,4,4],boxShadow:r?"0 1px 1px 0 rgb(0 0 0 / 5%)":null,height:"fit-content",...s})},{classNameIsSmall:e5,scaleOpacity:t5,scaleStrokeOpacity:ih}=Ph.propsFactories;function n5(o){return o.followsFrom?{strokeDasharray:4}:{}}const r5=M.createElement("div",{className:"TraceGraph--help-content"},Jw,M.createElement("div",null,M.createElement("table",null,M.createElement("tbody",null,M.createElement("tr",null,M.createElement("td",null,M.createElement(Zo,{size:"sm"},"S")),M.createElement("td",null,"Service"),M.createElement("td",null,"Colored by service")),M.createElement("tr",null,M.createElement("td",null,M.createElement(nr,{size:"sm"},"T")),M.createElement("td",null,"Time"),M.createElement("td",null,"Colored by total time")),M.createElement("tr",null,M.createElement("td",null,M.createElement(nr,{size:"sm"},"ST")),M.createElement("td",null,"Selftime"),M.createElement("td",null,"Colored by self time (*)"))))),M.createElement("div",null,M.createElement("svg",{width:"100%",height:"40"},M.createElement("line",{x1:"0",y1:"10",x2:"90",y2:"10",style:{stroke:"#000",strokeWidth:2}}),M.createElement("text",{alignmentBaseline:"middle",x:"100",y:"10"},"ChildOf"),M.createElement("line",{x1:"0",y1:"30",x2:"90",y2:"30",style:{stroke:"#000",strokeWidth:2,strokeDasharray:"4"}}),M.createElement("text",{alignmentBaseline:"middle",x:"100",y:"30"},"FollowsFrom"))),M.createElement("div",null,"(*) ",M.createElement("b",null,"Self time")," is the total time spent in a span when it was not waiting on children. For example, a 10ms span with two 4ms non-overlapping children would have ",M.createElement("b",null,"self-time = 10ms - 2 * 4ms = 2ms"),".")),a5=o=>{const[r,i]=N.useState(!1),[s,c]=N.useState(Wo);let d;d||(d=new xb({totalMemory:void 0,useDotEdges:!0,splines:"polyline"}));const m=nh.makeScope();N.useEffect(()=>{});const v=q=>{c(q)},w=()=>{i(!0)},E=()=>{i(!1)},{ev:S=null,search:O,uiFindVertexKeys:V}=o;if(!S)return M.createElement("h1",{className:"u-mt-vast u-tx-muted ub-tx-center"},"No trace found");const X=Xt("TraceGraph--graphWrapper",{"is-uiFind-mode":O});return M.createElement(nt,{className:X,style:{paddingTop:0},bg:Ot("#f0f0f0","initial")},M.createElement(Ph,{minimap:!0,zoom:!0,className:"TraceGraph--dag",minimapClassName:"u-miniMap",layoutManager:d,measurableNodesKey:"nodes",layers:[{key:"node-find-emphasis",layerType:"svg",renderNode:Yw(V)},{key:"edges",edges:!0,layerType:"svg",defs:[{localId:"arrow"}],markerEndId:"arrow",setOnContainer:m("edges/container",[t5,ih,{stroke:"#bbb",fill:"#bbb"}]),setOnEdge:n5},{key:"nodes-borders",layerType:"svg",setOnContainer:ih,renderNode:Qw},{key:"nodes",layerType:"html",measurable:!0,renderNode:nh(`trace-graph/nodes/render/${s}`,Xw(s))}],setOnGraph:e5,edges:S.edges,vertices:S.vertices}),M.createElement("div",{className:"TraceGraph--sidebar-container",style:{paddingTop:"70px"}},M.createElement("ul",{className:"TraceGraph--menu bordered"},M.createElement("li",null,M.createElement(Zo,null,M.createElement(eb,{onClick:w,opacity:"0.6"}))),M.createElement("li",null,M.createElement(Ha,{placement:"left",title:"Service"},M.createElement(nr,{className:"TraceGraph--btn-service",size:"sm",variant:s===rh?"solid":"outline",onClick:()=>v(rh)},"S"))),M.createElement("li",null,M.createElement(Ha,{placement:"left",title:"Time"},M.createElement(nr,{className:"TraceGraph--btn-time",size:"sm",variant:s===bl?"solid":"outline",onClick:()=>v(bl)},"T"))),M.createElement("li",null,M.createElement(Ha,{placement:"left",title:"Selftime"},M.createElement(nr,{className:"TraceGraph--btn-selftime",size:"sm",variant:s===Wo?"solid":"outline",onClick:()=>v(Wo)},"ST")))),r&&M.createElement(Kw,{title:"Help"},M.createElement(fo,{justifyContent:"space-between",mb:"2"},M.createElement(nt,null),M.createElement("a",{onClick:E,role:"button"},M.createElement(Dh,null))),r5)))},i5=({trace:o})=>{const[r,i]=N.useState(!1),[s,c]=N.useState(!0),d=()=>{i(!r)},m=()=>{c(!s)},v=en.cloneDeep(o);return r&&v.spans.forEach(w=>{delete w.logs}),s&&v.spans.forEach(w=>{delete w.references}),M.createElement(nt,{height:"calc(100vh - 123px)"},M.createElement(Kt,{py:"2"},M.createElement(nr,{size:"sm",variant:r?"solid":"outline",onClick:d},"Hide span logs"),M.createElement(nr,{size:"sm",variant:s?"solid":"outline",onClick:m},"Hide span references")),M.createElement(nt,{height:"100%"},M.createElement(tb,{value:JSON.stringify(v,null,2),onChange:w=>null,language:"json",readonly:!0})))};var sd={exports:{}};(function(o,r){var i=Object.defineProperty,s=Object.defineProperties,c=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,w=(X,q,Q)=>q in X?i(X,q,{enumerable:!0,configurable:!0,writable:!0,value:Q}):X[q]=Q,E=(X,q)=>{for(var Q in q||(q={}))m.call(q,Q)&&w(X,Q,q[Q]);if(d)for(var Q of d(q))v.call(q,Q)&&w(X,Q,q[Q]);return X},S=(X,q)=>s(X,c(q)),O=(X,q)=>{var Q={};for(var H in X)m.call(X,H)&&q.indexOf(H)<0&&(Q[H]=X[H]);if(X!=null&&d)for(var H of d(X))q.indexOf(H)<0&&v.call(X,H)&&(Q[H]=X[H]);return Q},V=(X,q,Q)=>new Promise((H,$)=>{var pe=W=>{try{p(Q.next(W))}catch(Z){$(Z)}},C=W=>{try{p(Q.throw(W))}catch(Z){$(Z)}},p=W=>W.done?H(W.value):Promise.resolve(W.value).then(pe,C);p((Q=Q.apply(X,q)).next())});(function(X,q){o.exports=q(N,nb)})(rb,(X,q)=>(()=>{var Q={899:(C,p)=>{var W="fas",Z="align-left",te=448,ae=512,z=[],ie="f036",J="M12.83 352h262.34A12.82 12.82 0 0 0 288 339.17v-38.34A12.82 12.82 0 0 0 275.17 288H12.83A12.82 12.82 0 0 0 0 300.83v38.34A12.82 12.82 0 0 0 12.83 352zm0-256h262.34A12.82 12.82 0 0 0 288 83.17V44.83A12.82 12.82 0 0 0 275.17 32H12.83A12.82 12.82 0 0 0 0 44.83v38.34A12.82 12.82 0 0 0 12.83 96zM432 160H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z";p.DF={prefix:W,iconName:Z,icon:[te,ae,z,ie,J]},p.el=p.DF},459:(C,p)=>{var W="fas",Z="bars",te=448,ae=512,z=[],ie="f0c9",J="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z";p.DF={prefix:W,iconName:Z,icon:[te,ae,z,ie,J]},p.xi=p.DF},971:(C,p)=>{var W="fas",Z="columns",te=512,ae=512,z=[],ie="f0db",J="M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64V160h160v256zm224 0H288V160h160v256z";p.DF={prefix:W,iconName:Z,icon:[te,ae,z,ie,J]},p.rW=p.DF},42:(C,p)=>{var W="fas",Z="compress-alt",te=448,ae=512,z=[],ie="f422",J="M4.686 427.314L104 328l-32.922-31.029C55.958 281.851 66.666 256 88.048 256h112C213.303 256 224 266.745 224 280v112c0 21.382-25.803 32.09-40.922 16.971L152 376l-99.314 99.314c-6.248 6.248-16.379 6.248-22.627 0L4.686 449.941c-6.248-6.248-6.248-16.379 0-22.627zM443.314 84.686L344 184l32.922 31.029c15.12 15.12 4.412 40.971-16.97 40.971h-112C234.697 256 224 245.255 224 232V120c0-21.382 25.803-32.09 40.922-16.971L296 136l99.314-99.314c6.248-6.248 16.379-6.248 22.627 0l25.373 25.373c6.248 6.248 6.248 16.379 0 22.627z";p.DF={prefix:W,iconName:Z,icon:[te,ae,z,ie,J]},p.V9=p.DF},682:(C,p)=>{var W="fas",Z="copy",te=448,ae=512,z=[],ie="f0c5",J="M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z";p.DF={prefix:W,iconName:Z,icon:[te,ae,z,ie,J]},p.kZ=p.DF},438:(C,p)=>{var W="fas",Z="highlighter",te=544,ae=512,z=[],ie="f591",J="M0 479.98L99.92 512l35.45-35.45-67.04-67.04L0 479.98zm124.61-240.01a36.592 36.592 0 0 0-10.79 38.1l13.05 42.83-50.93 50.94 96.23 96.23 50.86-50.86 42.74 13.08c13.73 4.2 28.65-.01 38.15-10.78l35.55-41.64-173.34-173.34-41.52 35.44zm403.31-160.7l-63.2-63.2c-20.49-20.49-53.38-21.52-75.12-2.35L190.55 183.68l169.77 169.78L530.27 154.4c19.18-21.74 18.15-54.63-2.35-75.13z";p.DF={prefix:W,iconName:Z,icon:[te,ae,z,ie,J]},p.Y6=p.DF},384:(C,p)=>{var W="fas",Z="icicles",te=512,ae=512,z=[],ie="f7ad",J="M511.4 37.9C515.1 18.2 500 0 480 0H32C10.6 0-4.8 20.7 1.4 41.2l87.1 273.4c2.5 7.2 12.7 7.2 15.1 0L140 190.5l44.2 187.3c1.9 8.3 13.7 8.3 15.6 0l46.5-196.9 34.1 133.4c2.3 7.6 13 7.6 15.3 0l45.8-172.5 66.7 363.8c1.7 8.6 14 8.6 15.7 0l87.5-467.7z";p.DF={prefix:W,iconName:Z,icon:[te,ae,z,ie,J]},p.$P=p.DF},687:(C,p)=>{var W="fas",Z="link",te=512,ae=512,z=[],ie="f0c1",J="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z";p.DF={prefix:W,iconName:Z,icon:[te,ae,z,ie,J]},p.nN=p.DF},646:(C,p)=>{var W="fas",Z="list-ul",te=512,ae=512,z=[],ie="f0ca",J="M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z";p.DF={prefix:W,iconName:Z,icon:[te,ae,z,ie,J]},p.gf=p.DF},247:(C,p)=>{var W="fas",Z="redo",te=512,ae=512,z=[],ie="f01e",J="M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z";p.DF={prefix:W,iconName:Z,icon:[te,ae,z,ie,J]},p.XS=p.DF},769:(C,p)=>{var W="fas",Z="table",te=512,ae=512,z=[],ie="f0ce",J="M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64v-96h160v96zm0-160H64v-96h160v96zm224 160H288v-96h160v96zm0-160H288v-96h160v96z";p.DF={prefix:W,iconName:Z,icon:[te,ae,z,ie,J]},p.B3=p.DF},692:(C,p)=>{var W="fas",Z="undo",te=512,ae=512,z=[],ie="f0e2",J="M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z";p.DF={prefix:W,iconName:Z,icon:[te,ae,z,ie,J]},p.X7=p.DF},779:(C,p)=>{var W,Z;/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var te={}.hasOwnProperty;function ae(){for(var z=[],ie=0;ie<arguments.length;ie++){var J=arguments[ie];if(J){var ue=typeof J;if(ue==="string"||ue==="number")z.push(J);else if(Array.isArray(J)){if(J.length){var ve=ae.apply(null,J);ve&&z.push(ve)}}else if(ue==="object")if(J.toString===Object.prototype.toString)for(var T in J)te.call(J,T)&&J[T]&&z.push(T);else z.push(J.toString())}}return z.join(" ")}C.exports?(ae.default=ae,C.exports=ae):(W=[],Z=(function(){return ae}).apply(p,W),Z!==void 0&&(C.exports=Z))})()},959:(C,p,W)=>{var Z=W(351),te={};for(var ae in Z)Z.hasOwnProperty(ae)&&(te[Z[ae]]=ae);var z=C.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var ie in z)if(z.hasOwnProperty(ie)){if(!("channels"in z[ie]))throw new Error("missing channels property: "+ie);if(!("labels"in z[ie]))throw new Error("missing channel labels property: "+ie);if(z[ie].labels.length!==z[ie].channels)throw new Error("channel and label counts mismatch: "+ie);var J=z[ie].channels,ue=z[ie].labels;delete z[ie].channels,delete z[ie].labels,Object.defineProperty(z[ie],"channels",{value:J}),Object.defineProperty(z[ie],"labels",{value:ue})}z.rgb.hsl=function(T){var R=T[0]/255,A=T[1]/255,L=T[2]/255,j=Math.min(R,A,L),_=Math.max(R,A,L),D=_-j,B,K,we;return _===j?B=0:R===_?B=(A-L)/D:A===_?B=2+(L-R)/D:L===_&&(B=4+(R-A)/D),B=Math.min(B*60,360),B<0&&(B+=360),we=(j+_)/2,_===j?K=0:we<=.5?K=D/(_+j):K=D/(2-_-j),[B,K*100,we*100]},z.rgb.hsv=function(T){var R,A,L,j,_,D=T[0]/255,B=T[1]/255,K=T[2]/255,we=Math.max(D,B,K),qe=we-Math.min(D,B,K),Qe=function(me){return(we-me)/6/qe+1/2};return qe===0?j=_=0:(_=qe/we,R=Qe(D),A=Qe(B),L=Qe(K),D===we?j=L-A:B===we?j=.3333333333333333+R-L:K===we&&(j=.6666666666666666+A-R),j<0?j+=1:j>1&&(j-=1)),[j*360,_*100,we*100]},z.rgb.hwb=function(T){var R=T[0],A=T[1],L=T[2],j=z.rgb.hsl(T)[0],_=1/255*Math.min(R,Math.min(A,L));return L=1-.00392156862745098*Math.max(R,Math.max(A,L)),[j,_*100,L*100]},z.rgb.cmyk=function(T){var R=T[0]/255,A=T[1]/255,L=T[2]/255,j,_,D,B;return B=Math.min(1-R,1-A,1-L),j=(1-R-B)/(1-B)||0,_=(1-A-B)/(1-B)||0,D=(1-L-B)/(1-B)||0,[j*100,_*100,D*100,B*100]};function ve(T,R){return Math.pow(T[0]-R[0],2)+Math.pow(T[1]-R[1],2)+Math.pow(T[2]-R[2],2)}z.rgb.keyword=function(T){var R=te[T];if(R)return R;var A=1/0,L;for(var j in Z)if(Z.hasOwnProperty(j)){var _=Z[j],D=ve(T,_);D<A&&(A=D,L=j)}return L},z.keyword.rgb=function(T){return Z[T]},z.rgb.xyz=function(T){var R=T[0]/255,A=T[1]/255,L=T[2]/255;R=R>.04045?Math.pow((R+.055)/1.055,2.4):R/12.92,A=A>.04045?Math.pow((A+.055)/1.055,2.4):A/12.92,L=L>.04045?Math.pow((L+.055)/1.055,2.4):L/12.92;var j=R*.4124+A*.3576+L*.1805,_=R*.2126+A*.7152+L*.0722,D=R*.0193+A*.1192+L*.9505;return[j*100,_*100,D*100]},z.rgb.lab=function(T){var R=z.rgb.xyz(T),A=R[0],L=R[1],j=R[2],_,D,B;return A/=95.047,L/=100,j/=108.883,A=A>.008856?Math.pow(A,.3333333333333333):7.787*A+.13793103448275862,L=L>.008856?Math.pow(L,.3333333333333333):7.787*L+.13793103448275862,j=j>.008856?Math.pow(j,.3333333333333333):7.787*j+.13793103448275862,_=116*L-16,D=500*(A-L),B=200*(L-j),[_,D,B]},z.hsl.rgb=function(T){var R=T[0]/360,A=T[1]/100,L=T[2]/100,j,_,D,B,K;if(A===0)return K=L*255,[K,K,K];L<.5?_=L*(1+A):_=L+A-L*A,j=2*L-_,B=[0,0,0];for(var we=0;we<3;we++)D=R+.3333333333333333*-(we-1),D<0&&D++,D>1&&D--,6*D<1?K=j+(_-j)*6*D:2*D<1?K=_:3*D<2?K=j+(_-j)*(.6666666666666666-D)*6:K=j,B[we]=K*255;return B},z.hsl.hsv=function(T){var R=T[0],A=T[1]/100,L=T[2]/100,j=A,_=Math.max(L,.01),D,B;return L*=2,A*=L<=1?L:2-L,j*=_<=1?_:2-_,B=(L+A)/2,D=L===0?2*j/(_+j):2*A/(L+A),[R,D*100,B*100]},z.hsv.rgb=function(T){var R=T[0]/60,A=T[1]/100,L=T[2]/100,j=Math.floor(R)%6,_=R-Math.floor(R),D=255*L*(1-A),B=255*L*(1-A*_),K=255*L*(1-A*(1-_));switch(L*=255,j){case 0:return[L,K,D];case 1:return[B,L,D];case 2:return[D,L,K];case 3:return[D,B,L];case 4:return[K,D,L];case 5:return[L,D,B]}},z.hsv.hsl=function(T){var R=T[0],A=T[1]/100,L=T[2]/100,j=Math.max(L,.01),_,D,B;return B=(2-A)*L,_=(2-A)*j,D=A*j,D/=_<=1?_:2-_,D=D||0,B/=2,[R,D*100,B*100]},z.hwb.rgb=function(T){var R=T[0]/360,A=T[1]/100,L=T[2]/100,j=A+L,_,D,B,K;j>1&&(A/=j,L/=j),_=Math.floor(6*R),D=1-L,B=6*R-_,_&1&&(B=1-B),K=A+B*(D-A);var we,qe,Qe;switch(_){default:case 6:case 0:we=D,qe=K,Qe=A;break;case 1:we=K,qe=D,Qe=A;break;case 2:we=A,qe=D,Qe=K;break;case 3:we=A,qe=K,Qe=D;break;case 4:we=K,qe=A,Qe=D;break;case 5:we=D,qe=A,Qe=K;break}return[we*255,qe*255,Qe*255]},z.cmyk.rgb=function(T){var R=T[0]/100,A=T[1]/100,L=T[2]/100,j=T[3]/100,_,D,B;return _=1-Math.min(1,R*(1-j)+j),D=1-Math.min(1,A*(1-j)+j),B=1-Math.min(1,L*(1-j)+j),[_*255,D*255,B*255]},z.xyz.rgb=function(T){var R=T[0]/100,A=T[1]/100,L=T[2]/100,j,_,D;return j=R*3.2406+A*-1.5372+L*-.4986,_=R*-.9689+A*1.8758+L*.0415,D=R*.0557+A*-.204+L*1.057,j=j>.0031308?1.055*Math.pow(j,.4166666666666667)-.055:j*12.92,_=_>.0031308?1.055*Math.pow(_,.4166666666666667)-.055:_*12.92,D=D>.0031308?1.055*Math.pow(D,.4166666666666667)-.055:D*12.92,j=Math.min(Math.max(0,j),1),_=Math.min(Math.max(0,_),1),D=Math.min(Math.max(0,D),1),[j*255,_*255,D*255]},z.xyz.lab=function(T){var R=T[0],A=T[1],L=T[2],j,_,D;return R/=95.047,A/=100,L/=108.883,R=R>.008856?Math.pow(R,.3333333333333333):7.787*R+.13793103448275862,A=A>.008856?Math.pow(A,.3333333333333333):7.787*A+.13793103448275862,L=L>.008856?Math.pow(L,.3333333333333333):7.787*L+.13793103448275862,j=116*A-16,_=500*(R-A),D=200*(A-L),[j,_,D]},z.lab.xyz=function(T){var R=T[0],A=T[1],L=T[2],j,_,D;_=(R+16)/116,j=A/500+_,D=_-L/200;var B=Math.pow(_,3),K=Math.pow(j,3),we=Math.pow(D,3);return _=B>.008856?B:(_-.13793103448275862)/7.787,j=K>.008856?K:(j-.13793103448275862)/7.787,D=we>.008856?we:(D-.13793103448275862)/7.787,j*=95.047,_*=100,D*=108.883,[j,_,D]},z.lab.lch=function(T){var R=T[0],A=T[1],L=T[2],j,_,D;return j=Math.atan2(L,A),_=j*360/2/Math.PI,_<0&&(_+=360),D=Math.sqrt(A*A+L*L),[R,D,_]},z.lch.lab=function(T){var R=T[0],A=T[1],L=T[2],j,_,D;return D=L/360*2*Math.PI,j=A*Math.cos(D),_=A*Math.sin(D),[R,j,_]},z.rgb.ansi16=function(T){var R=T[0],A=T[1],L=T[2],j=1 in arguments?arguments[1]:z.rgb.hsv(T)[2];if(j=Math.round(j/50),j===0)return 30;var _=30+(Math.round(L/255)<<2|Math.round(A/255)<<1|Math.round(R/255));return j===2&&(_+=60),_},z.hsv.ansi16=function(T){return z.rgb.ansi16(z.hsv.rgb(T),T[2])},z.rgb.ansi256=function(T){var R=T[0],A=T[1],L=T[2];if(R===A&&A===L)return R<8?16:R>248?231:Math.round((R-8)/247*24)+232;var j=16+36*Math.round(R/255*5)+6*Math.round(A/255*5)+Math.round(L/255*5);return j},z.ansi16.rgb=function(T){var R=T%10;if(R===0||R===7)return T>50&&(R+=3.5),R=R/10.5*255,[R,R,R];var A=(~~(T>50)+1)*.5,L=(R&1)*A*255,j=(R>>1&1)*A*255,_=(R>>2&1)*A*255;return[L,j,_]},z.ansi256.rgb=function(T){if(T>=232){var R=(T-232)*10+8;return[R,R,R]}T-=16;var A,L=Math.floor(T/36)/5*255,j=Math.floor((A=T%36)/6)/5*255,_=A%6/5*255;return[L,j,_]},z.rgb.hex=function(T){var R=((Math.round(T[0])&255)<<16)+((Math.round(T[1])&255)<<8)+(Math.round(T[2])&255),A=R.toString(16).toUpperCase();return"000000".substring(A.length)+A},z.hex.rgb=function(T){var R=T.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!R)return[0,0,0];var A=R[0];R[0].length===3&&(A=A.split("").map(function(B){return B+B}).join(""));var L=parseInt(A,16),j=L>>16&255,_=L>>8&255,D=L&255;return[j,_,D]},z.rgb.hcg=function(T){var R=T[0]/255,A=T[1]/255,L=T[2]/255,j=Math.max(Math.max(R,A),L),_=Math.min(Math.min(R,A),L),D=j-_,B,K;return D<1?B=_/(1-D):B=0,D<=0?K=0:j===R?K=(A-L)/D%6:j===A?K=2+(L-R)/D:K=4+(R-A)/D+4,K/=6,K%=1,[K*360,D*100,B*100]},z.hsl.hcg=function(T){var R=T[1]/100,A=T[2]/100,L=1,j=0;return A<.5?L=2*R*A:L=2*R*(1-A),L<1&&(j=(A-.5*L)/(1-L)),[T[0],L*100,j*100]},z.hsv.hcg=function(T){var R=T[1]/100,A=T[2]/100,L=R*A,j=0;return L<1&&(j=(A-L)/(1-L)),[T[0],L*100,j*100]},z.hcg.rgb=function(T){var R=T[0]/360,A=T[1]/100,L=T[2]/100;if(A===0)return[L*255,L*255,L*255];var j=[0,0,0],_=R%1*6,D=_%1,B=1-D,K=0;switch(Math.floor(_)){case 0:j[0]=1,j[1]=D,j[2]=0;break;case 1:j[0]=B,j[1]=1,j[2]=0;break;case 2:j[0]=0,j[1]=1,j[2]=D;break;case 3:j[0]=0,j[1]=B,j[2]=1;break;case 4:j[0]=D,j[1]=0,j[2]=1;break;default:j[0]=1,j[1]=0,j[2]=B}return K=(1-A)*L,[(A*j[0]+K)*255,(A*j[1]+K)*255,(A*j[2]+K)*255]},z.hcg.hsv=function(T){var R=T[1]/100,A=T[2]/100,L=R+A*(1-R),j=0;return L>0&&(j=R/L),[T[0],j*100,L*100]},z.hcg.hsl=function(T){var R=T[1]/100,A=T[2]/100,L=A*(1-R)+.5*R,j=0;return L>0&&L<.5?j=R/(2*L):L>=.5&&L<1&&(j=R/(2*(1-L))),[T[0],j*100,L*100]},z.hcg.hwb=function(T){var R=T[1]/100,A=T[2]/100,L=R+A*(1-R);return[T[0],(L-R)*100,(1-L)*100]},z.hwb.hcg=function(T){var R=T[1]/100,A=T[2]/100,L=1-A,j=L-R,_=0;return j<1&&(_=(L-j)/(1-j)),[T[0],j*100,_*100]},z.apple.rgb=function(T){return[T[0]/65535*255,T[1]/65535*255,T[2]/65535*255]},z.rgb.apple=function(T){return[T[0]/255*65535,T[1]/255*65535,T[2]/255*65535]},z.gray.rgb=function(T){return[T[0]/100*255,T[0]/100*255,T[0]/100*255]},z.gray.hsl=z.gray.hsv=function(T){return[0,0,T[0]]},z.gray.hwb=function(T){return[0,100,T[0]]},z.gray.cmyk=function(T){return[0,0,0,T[0]]},z.gray.lab=function(T){return[T[0],0,0]},z.gray.hex=function(T){var R=Math.round(T[0]/100*255)&255,A=(R<<16)+(R<<8)+R,L=A.toString(16).toUpperCase();return"000000".substring(L.length)+L},z.rgb.gray=function(T){var R=(T[0]+T[1]+T[2])/3;return[R/255*100]}},841:(C,p,W)=>{var Z=W(959),te=W(325),ae={},z=Object.keys(Z);function ie(ue){var ve=function(T){return T==null?T:(arguments.length>1&&(T=Array.prototype.slice.call(arguments)),ue(T))};return"conversion"in ue&&(ve.conversion=ue.conversion),ve}function J(ue){var ve=function(T){if(T==null)return T;arguments.length>1&&(T=Array.prototype.slice.call(arguments));var R=ue(T);if(typeof R=="object")for(var A=R.length,L=0;L<A;L++)R[L]=Math.round(R[L]);return R};return"conversion"in ue&&(ve.conversion=ue.conversion),ve}z.forEach(function(ue){ae[ue]={},Object.defineProperty(ae[ue],"channels",{value:Z[ue].channels}),Object.defineProperty(ae[ue],"labels",{value:Z[ue].labels});var ve=te(ue),T=Object.keys(ve);T.forEach(function(R){var A=ve[R];ae[ue][R]=J(A),ae[ue][R].raw=ie(A)})}),C.exports=ae},351:C=>{C.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},325:(C,p,W)=>{var Z=W(959);function te(){for(var J={},ue=Object.keys(Z),ve=ue.length,T=0;T<ve;T++)J[ue[T]]={distance:-1,parent:null};return J}function ae(J){var ue=te(),ve=[J];for(ue[J].distance=0;ve.length;)for(var T=ve.pop(),R=Object.keys(Z[T]),A=R.length,L=0;L<A;L++){var j=R[L],_=ue[j];_.distance===-1&&(_.distance=ue[T].distance+1,_.parent=T,ve.unshift(j))}return ue}function z(J,ue){return function(ve){return ue(J(ve))}}function ie(J,ue){for(var ve=[ue[J].parent,J],T=Z[ue[J].parent][J],R=ue[J].parent;ue[R].parent;)ve.unshift(ue[R].parent),T=z(Z[ue[R].parent][R],T),R=ue[R].parent;return T.conversion=ve,T}C.exports=function(J){for(var ue=ae(J),ve={},T=Object.keys(ue),R=T.length,A=0;A<R;A++){var L=T[A],j=ue[L];j.parent!==null&&(ve[L]=ie(L,ue))}return ve}},103:C=>{C.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},804:(C,p,W)=>{var Z=W(103),te=W(47),ae=Object.hasOwnProperty,z={};for(var ie in Z)ae.call(Z,ie)&&(z[Z[ie]]=ie);var J=C.exports={to:{},get:{}};J.get=function(T){var R=T.substring(0,3).toLowerCase(),A,L;switch(R){case"hsl":A=J.get.hsl(T),L="hsl";break;case"hwb":A=J.get.hwb(T),L="hwb";break;default:A=J.get.rgb(T),L="rgb";break}return A?{model:L,value:A}:null},J.get.rgb=function(T){if(!T)return null;var R=/^#([a-f0-9]{3,4})$/i,A=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,L=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,j=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,_=/^(\w+)$/,D=[0,0,0,1],B,K,we;if(B=T.match(A)){for(we=B[2],B=B[1],K=0;K<3;K++){var qe=K*2;D[K]=parseInt(B.slice(qe,qe+2),16)}we&&(D[3]=parseInt(we,16)/255)}else if(B=T.match(R)){for(B=B[1],we=B[3],K=0;K<3;K++)D[K]=parseInt(B[K]+B[K],16);we&&(D[3]=parseInt(we+we,16)/255)}else if(B=T.match(L)){for(K=0;K<3;K++)D[K]=parseInt(B[K+1],0);B[4]&&(B[5]?D[3]=parseFloat(B[4])*.01:D[3]=parseFloat(B[4]))}else if(B=T.match(j)){for(K=0;K<3;K++)D[K]=Math.round(parseFloat(B[K+1])*2.55);B[4]&&(B[5]?D[3]=parseFloat(B[4])*.01:D[3]=parseFloat(B[4]))}else return(B=T.match(_))?B[1]==="transparent"?[0,0,0,0]:ae.call(Z,B[1])?(D=Z[B[1]],D[3]=1,D):null:null;for(K=0;K<3;K++)D[K]=ue(D[K],0,255);return D[3]=ue(D[3],0,1),D},J.get.hsl=function(T){if(!T)return null;var R=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,A=T.match(R);if(A){var L=parseFloat(A[4]),j=(parseFloat(A[1])%360+360)%360,_=ue(parseFloat(A[2]),0,100),D=ue(parseFloat(A[3]),0,100),B=ue(isNaN(L)?1:L,0,1);return[j,_,D,B]}return null},J.get.hwb=function(T){if(!T)return null;var R=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,A=T.match(R);if(A){var L=parseFloat(A[4]),j=(parseFloat(A[1])%360+360)%360,_=ue(parseFloat(A[2]),0,100),D=ue(parseFloat(A[3]),0,100),B=ue(isNaN(L)?1:L,0,1);return[j,_,D,B]}return null},J.to.hex=function(){var T=te(arguments);return"#"+ve(T[0])+ve(T[1])+ve(T[2])+(T[3]<1?ve(Math.round(T[3]*255)):"")},J.to.rgb=function(){var T=te(arguments);return T.length<4||T[3]===1?"rgb("+Math.round(T[0])+", "+Math.round(T[1])+", "+Math.round(T[2])+")":"rgba("+Math.round(T[0])+", "+Math.round(T[1])+", "+Math.round(T[2])+", "+T[3]+")"},J.to.rgb.percent=function(){var T=te(arguments),R=Math.round(T[0]/255*100),A=Math.round(T[1]/255*100),L=Math.round(T[2]/255*100);return T.length<4||T[3]===1?"rgb("+R+"%, "+A+"%, "+L+"%)":"rgba("+R+"%, "+A+"%, "+L+"%, "+T[3]+")"},J.to.hsl=function(){var T=te(arguments);return T.length<4||T[3]===1?"hsl("+T[0]+", "+T[1]+"%, "+T[2]+"%)":"hsla("+T[0]+", "+T[1]+"%, "+T[2]+"%, "+T[3]+")"},J.to.hwb=function(){var T=te(arguments),R="";return T.length>=4&&T[3]!==1&&(R=", "+T[3]),"hwb("+T[0]+", "+T[1]+"%, "+T[2]+"%"+R+")"},J.to.keyword=function(T){return z[T.slice(0,3)]};function ue(T,R,A){return Math.min(Math.max(R,T),A)}function ve(T){var R=Math.round(T).toString(16).toUpperCase();return R.length<2?"0"+R:R}},346:(C,p,W)=>{var Z=W(804),te=W(841),ae=[].slice,z=["keyword","gray","hex"],ie={};Object.keys(te).forEach(function(_){ie[ae.call(te[_].labels).sort().join("")]=_});var J={};function ue(_,D){if(!(this instanceof ue))return new ue(_,D);if(D&&D in z&&(D=null),D&&!(D in te))throw new Error("Unknown model: "+D);var B,K;if(_==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(_ instanceof ue)this.model=_.model,this.color=_.color.slice(),this.valpha=_.valpha;else if(typeof _=="string"){var we=Z.get(_);if(we===null)throw new Error("Unable to parse color from string: "+_);this.model=we.model,K=te[this.model].channels,this.color=we.value.slice(0,K),this.valpha=typeof we.value[K]=="number"?we.value[K]:1}else if(_.length){this.model=D||"rgb",K=te[this.model].channels;var qe=ae.call(_,0,K);this.color=j(qe,K),this.valpha=typeof _[K]=="number"?_[K]:1}else if(typeof _=="number")_&=16777215,this.model="rgb",this.color=[_>>16&255,_>>8&255,_&255],this.valpha=1;else{this.valpha=1;var Qe=Object.keys(_);"alpha"in _&&(Qe.splice(Qe.indexOf("alpha"),1),this.valpha=typeof _.alpha=="number"?_.alpha:0);var me=Qe.sort().join("");if(!(me in ie))throw new Error("Unable to parse color from object: "+JSON.stringify(_));this.model=ie[me];var fe=te[this.model].labels,Te=[];for(B=0;B<fe.length;B++)Te.push(_[fe[B]]);this.color=j(Te)}if(J[this.model])for(K=te[this.model].channels,B=0;B<K;B++){var be=J[this.model][B];be&&(this.color[B]=be(this.color[B]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}ue.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(_){var D=this.model in Z.to?this:this.rgb();D=D.round(typeof _=="number"?_:1);var B=D.valpha===1?D.color:D.color.concat(this.valpha);return Z.to[D.model](B)},percentString:function(_){var D=this.rgb().round(typeof _=="number"?_:1),B=D.valpha===1?D.color:D.color.concat(this.valpha);return Z.to.rgb.percent(B)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var _={},D=te[this.model].channels,B=te[this.model].labels,K=0;K<D;K++)_[B[K]]=this.color[K];return this.valpha!==1&&(_.alpha=this.valpha),_},unitArray:function(){var _=this.rgb().color;return _[0]/=255,_[1]/=255,_[2]/=255,this.valpha!==1&&_.push(this.valpha),_},unitObject:function(){var _=this.rgb().object();return _.r/=255,_.g/=255,_.b/=255,this.valpha!==1&&(_.alpha=this.valpha),_},round:function(_){return _=Math.max(_||0,0),new ue(this.color.map(T(_)).concat(this.valpha),this.model)},alpha:function(_){return arguments.length?new ue(this.color.concat(Math.max(0,Math.min(1,_))),this.model):this.valpha},red:R("rgb",0,A(255)),green:R("rgb",1,A(255)),blue:R("rgb",2,A(255)),hue:R(["hsl","hsv","hsl","hwb","hcg"],0,function(_){return(_%360+360)%360}),saturationl:R("hsl",1,A(100)),lightness:R("hsl",2,A(100)),saturationv:R("hsv",1,A(100)),value:R("hsv",2,A(100)),chroma:R("hcg",1,A(100)),gray:R("hcg",2,A(100)),white:R("hwb",1,A(100)),wblack:R("hwb",2,A(100)),cyan:R("cmyk",0,A(100)),magenta:R("cmyk",1,A(100)),yellow:R("cmyk",2,A(100)),black:R("cmyk",3,A(100)),x:R("xyz",0,A(100)),y:R("xyz",1,A(100)),z:R("xyz",2,A(100)),l:R("lab",0,A(100)),a:R("lab",1),b:R("lab",2),keyword:function(_){return arguments.length?new ue(_):te[this.model].keyword(this.color)},hex:function(_){return arguments.length?new ue(_):Z.to.hex(this.rgb().round().color)},rgbNumber:function(){var _=this.rgb().color;return(_[0]&255)<<16|(_[1]&255)<<8|_[2]&255},luminosity:function(){for(var _=this.rgb().color,D=[],B=0;B<_.length;B++){var K=_[B]/255;D[B]=K<=.03928?K/12.92:Math.pow((K+.055)/1.055,2.4)}return .2126*D[0]+.7152*D[1]+.0722*D[2]},contrast:function(_){var D=this.luminosity(),B=_.luminosity();return D>B?(D+.05)/(B+.05):(B+.05)/(D+.05)},level:function(_){var D=this.contrast(_);return D>=7.1?"AAA":D>=4.5?"AA":""},isDark:function(){var _=this.rgb().color,D=(_[0]*299+_[1]*587+_[2]*114)/1e3;return D<128},isLight:function(){return!this.isDark()},negate:function(){for(var _=this.rgb(),D=0;D<3;D++)_.color[D]=255-_.color[D];return _},lighten:function(_){var D=this.hsl();return D.color[2]+=D.color[2]*_,D},darken:function(_){var D=this.hsl();return D.color[2]-=D.color[2]*_,D},saturate:function(_){var D=this.hsl();return D.color[1]+=D.color[1]*_,D},desaturate:function(_){var D=this.hsl();return D.color[1]-=D.color[1]*_,D},whiten:function(_){var D=this.hwb();return D.color[1]+=D.color[1]*_,D},blacken:function(_){var D=this.hwb();return D.color[2]+=D.color[2]*_,D},grayscale:function(){var _=this.rgb().color,D=_[0]*.3+_[1]*.59+_[2]*.11;return ue.rgb(D,D,D)},fade:function(_){return this.alpha(this.valpha-this.valpha*_)},opaquer:function(_){return this.alpha(this.valpha+this.valpha*_)},rotate:function(_){var D=this.hsl(),B=D.color[0];return B=(B+_)%360,B=B<0?360+B:B,D.color[0]=B,D},mix:function(_,D){if(!_||!_.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof _);var B=_.rgb(),K=this.rgb(),we=D===void 0?.5:D,qe=2*we-1,Qe=B.alpha()-K.alpha(),me=((qe*Qe===-1?qe:(qe+Qe)/(1+qe*Qe))+1)/2,fe=1-me;return ue.rgb(me*B.red()+fe*K.red(),me*B.green()+fe*K.green(),me*B.blue()+fe*K.blue(),B.alpha()*we+K.alpha()*(1-we))}},Object.keys(te).forEach(function(_){if(z.indexOf(_)===-1){var D=te[_].channels;ue.prototype[_]=function(){if(this.model===_)return new ue(this);if(arguments.length)return new ue(arguments,_);var B=typeof arguments[D]=="number"?D:this.valpha;return new ue(L(te[this.model][_].raw(this.color)).concat(B),_)},ue[_]=function(B){return typeof B=="number"&&(B=j(ae.call(arguments),D)),new ue(B,_)}}});function ve(_,D){return Number(_.toFixed(D))}function T(_){return function(D){return ve(D,_)}}function R(_,D,B){return _=Array.isArray(_)?_:[_],_.forEach(function(K){(J[K]||(J[K]=[]))[D]=B}),_=_[0],function(K){var we;return arguments.length?(B&&(K=B(K)),we=this[_](),we.color[D]=K,we):(we=this[_]().color[D],B&&(we=B(we)),we)}}function A(_){return function(D){return Math.max(0,Math.min(_,D))}}function L(_){return Array.isArray(_)?_:[_]}function j(_,D){for(var B=0;B<D;B++)typeof _[B]!="number"&&(_[B]=0);return _}C.exports=ue},594:(C,p,W)=>{var Z="Expected a function",te=NaN,ae="[object Symbol]",z=/^\s+|\s+$/g,ie=/^[-+]0x[0-9a-f]+$/i,J=/^0b[01]+$/i,ue=/^0o[0-7]+$/i,ve=parseInt,T=typeof W.g=="object"&&W.g&&W.g.Object===Object&&W.g,R=typeof self=="object"&&self&&self.Object===Object&&self,A=T||R||Function("return this")(),L=Object.prototype,j=L.toString,_=Math.max,D=Math.min,B=function(){return A.Date.now()};function K(fe,Te,be){var ge,wt,Ke,dt,ot,St,un=0,tn=!1,ln=!1,cn=!0;if(typeof fe!="function")throw new TypeError(Z);Te=me(Te)||0,we(be)&&(tn=!!be.leading,ln="maxWait"in be,Ke=ln?_(me(be.maxWait)||0,Te):Ke,cn="trailing"in be?!!be.trailing:cn);function $n(kt){var mn=ge,Nt=wt;return ge=wt=void 0,un=kt,dt=fe.apply(Nt,mn),dt}function va(kt){return un=kt,ot=setTimeout(zn,Te),tn?$n(kt):dt}function zr(kt){var mn=kt-St,Nt=kt-un,ar=Te-mn;return ln?D(ar,Ke-Nt):ar}function Hr(kt){var mn=kt-St,Nt=kt-un;return St===void 0||mn>=Te||mn<0||ln&&Nt>=Ke}function zn(){var kt=B();if(Hr(kt))return Wr(kt);ot=setTimeout(zn,zr(kt))}function Wr(kt){return ot=void 0,cn&&ge?$n(kt):(ge=wt=void 0,dt)}function ba(){ot!==void 0&&clearTimeout(ot),un=0,ge=St=wt=ot=void 0}function ya(){return ot===void 0?dt:Wr(B())}function Ne(){var kt=B(),mn=Hr(kt);if(ge=arguments,wt=this,St=kt,mn){if(ot===void 0)return va(St);if(ln)return ot=setTimeout(zn,Te),$n(St)}return ot===void 0&&(ot=setTimeout(zn,Te)),dt}return Ne.cancel=ba,Ne.flush=ya,Ne}function we(fe){var Te=typeof fe;return!!fe&&(Te=="object"||Te=="function")}function qe(fe){return!!fe&&typeof fe=="object"}function Qe(fe){return typeof fe=="symbol"||qe(fe)&&j.call(fe)==ae}function me(fe){if(typeof fe=="number")return fe;if(Qe(fe))return te;if(we(fe)){var Te=typeof fe.valueOf=="function"?fe.valueOf():fe;fe=we(Te)?Te+"":Te}if(typeof fe!="string")return fe===0?fe:+fe;fe=fe.replace(z,"");var be=J.test(fe);return be||ue.test(fe)?ve(fe.slice(2),be?2:8):ie.test(fe)?te:+fe}C.exports=K},572:(C,p,W)=>{C=W.nmd(C);var Z=200,te="Expected a function",ae="__lodash_hash_undefined__",z=1,ie=2,J=1/0,ue=9007199254740991,ve="[object Arguments]",T="[object Array]",R="[object Boolean]",A="[object Date]",L="[object Error]",j="[object Function]",_="[object GeneratorFunction]",D="[object Map]",B="[object Number]",K="[object Object]",we="[object Promise]",qe="[object RegExp]",Qe="[object Set]",me="[object String]",fe="[object Symbol]",Te="[object WeakMap]",be="[object ArrayBuffer]",ge="[object DataView]",wt="[object Float32Array]",Ke="[object Float64Array]",dt="[object Int8Array]",ot="[object Int16Array]",St="[object Int32Array]",un="[object Uint8Array]",tn="[object Uint8ClampedArray]",ln="[object Uint16Array]",cn="[object Uint32Array]",$n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,va=/^\w*$/,zr=/^\./,Hr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zn=/[\\^$.*+?()[\]{}|]/g,Wr=/\\(\\)?/g,ba=/^\[object .+?Constructor\]$/,ya=/^(?:0|[1-9]\d*)$/,Ne={};Ne[wt]=Ne[Ke]=Ne[dt]=Ne[ot]=Ne[St]=Ne[un]=Ne[tn]=Ne[ln]=Ne[cn]=!0,Ne[ve]=Ne[T]=Ne[be]=Ne[R]=Ne[ge]=Ne[A]=Ne[L]=Ne[j]=Ne[D]=Ne[B]=Ne[K]=Ne[qe]=Ne[Qe]=Ne[me]=Ne[Te]=!1;var kt=typeof W.g=="object"&&W.g&&W.g.Object===Object&&W.g,mn=typeof self=="object"&&self&&self.Object===Object&&self,Nt=kt||mn||Function("return this")(),ar=p&&!p.nodeType&&p,wa=ar&&!0&&C&&!C.nodeType&&C,wi=wa&&wa.exports===ar,Ea=wi&&kt.process,xa=function(){try{return Ea&&Ea.binding("util")}catch{}}(),zt=xa&&xa.isTypedArray;function Za(u,b,I,G){for(var ne=-1,le=u?u.length:0;++ne<le;){var Ee=u[ne];b(G,Ee,I(Ee),u)}return G}function bt(u,b){for(var I=-1,G=u?u.length:0;++I<G;)if(b(u[I],I,u))return!0;return!1}function Se(u){return function(b){return b==null?void 0:b[u]}}function In(u,b){for(var I=-1,G=Array(u);++I<u;)G[I]=b(I);return G}function xe(u){return function(b){return u(b)}}function Ei(u,b){return u==null?void 0:u[b]}function nn(u){var b=!1;if(u!=null&&typeof u.toString!="function")try{b=!!(u+"")}catch{}return b}function xr(u){var b=-1,I=Array(u.size);return u.forEach(function(G,ne){I[++b]=[ne,G]}),I}function Sr(u,b){return function(I){return u(b(I))}}function xi(u){var b=-1,I=Array(u.size);return u.forEach(function(G){I[++b]=G}),I}var Ur=Array.prototype,Si=Function.prototype,Me=Object.prototype,Lt=Nt["__core-js_shared__"],Ue=function(){var u=/[^.]+$/.exec(Lt&&Lt.keys&&Lt.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Sa=Si.toString,at=Me.hasOwnProperty,rn=Me.toString,ka=RegExp("^"+Sa.call(at).replace(zn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ir=Nt.Symbol,kr=Nt.Uint8Array,ct=Me.propertyIsEnumerable,gn=Ur.splice,Ga=Sr(Object.keys,Object),Xe=an(Nt,"DataView"),Be=an(Nt,"Map"),Tr=an(Nt,"Promise"),_r=an(Nt,"Set"),Cr=an(Nt,"WeakMap"),Gt=an(Object,"create"),ki=Gn(Xe),Hn=Gn(Be),Zr=Gn(Tr),Gr=Gn(_r),Jr=Gn(Cr),vn=ir?ir.prototype:void 0,Dn=vn?vn.valueOf:void 0,Rn=vn?vn.toString:void 0;function Rt(u){var b=-1,I=u?u.length:0;for(this.clear();++b<I;){var G=u[b];this.set(G[0],G[1])}}function An(){this.__data__=Gt?Gt(null):{}}function qr(u){return this.has(u)&&delete this.__data__[u]}function bn(u){var b=this.__data__;if(Gt){var I=b[u];return I===ae?void 0:I}return at.call(b,u)?b[u]:void 0}function Xr(u){var b=this.__data__;return Gt?b[u]!==void 0:at.call(b,u)}function Ja(u,b){var I=this.__data__;return I[u]=Gt&&b===void 0?ae:b,this}Rt.prototype.clear=An,Rt.prototype.delete=qr,Rt.prototype.get=bn,Rt.prototype.has=Xr,Rt.prototype.set=Ja;function Ct(u){var b=-1,I=u?u.length:0;for(this.clear();++b<I;){var G=u[b];this.set(G[0],G[1])}}function Et(){this.__data__=[]}function Mr(u){var b=this.__data__,I=Pn(b,u);if(I<0)return!1;var G=b.length-1;return I==G?b.pop():gn.call(b,I,1),!0}function Yr(u){var b=this.__data__,I=Pn(b,u);return I<0?void 0:b[I][1]}function Ta(u){return Pn(this.__data__,u)>-1}function Or(u,b){var I=this.__data__,G=Pn(I,u);return G<0?I.push([u,b]):I[G][1]=b,this}Ct.prototype.clear=Et,Ct.prototype.delete=Mr,Ct.prototype.get=Yr,Ct.prototype.has=Ta,Ct.prototype.set=Or;function gt(u){var b=-1,I=u?u.length:0;for(this.clear();++b<I;){var G=u[b];this.set(G[0],G[1])}}function Nr(){this.__data__={hash:new Rt,map:new(Be||Ct),string:new Rt}}function Qr(u){return aa(this,u).delete(u)}function Wn(u){return aa(this,u).get(u)}function Un(u){return aa(this,u).has(u)}function Kr(u,b){return aa(this,u).set(u,b),this}gt.prototype.clear=Nr,gt.prototype.delete=Qr,gt.prototype.get=Wn,gt.prototype.has=Un,gt.prototype.set=Kr;function yn(u){var b=-1,I=u?u.length:0;for(this.__data__=new gt;++b<I;)this.add(u[b])}function Ti(u){return this.__data__.set(u,ae),this}function ea(u){return this.__data__.has(u)}yn.prototype.add=yn.prototype.push=Ti,yn.prototype.has=ea;function At(u){this.__data__=new Ct(u)}function or(){this.__data__=new Ct}function wn(u){return this.__data__.delete(u)}function En(u){return this.__data__.get(u)}function Zn(u){return this.__data__.has(u)}function _a(u,b){var I=this.__data__;if(I instanceof Ct){var G=I.__data__;if(!Be||G.length<Z-1)return G.push([u,b]),this;I=this.__data__=new gt(G)}return I.set(u,b),this}At.prototype.clear=or,At.prototype.delete=wn,At.prototype.get=En,At.prototype.has=Zn,At.prototype.set=_a;function ta(u,b){var I=Yt(u)||_n(u)?In(u.length,String):[],G=I.length,ne=!!G;for(var le in u)(b||at.call(u,le))&&!(ne&&(le=="length"||Ir(le,G)))&&I.push(le);return I}function Pn(u,b){for(var I=u.length;I--;)if(Da(u[I][0],b))return I;return-1}function _i(u,b,I,G){return ze(u,function(ne,le,Ee){b(G,ne,I(ne),Ee)}),G}var ze=Vi(Ca),Ci=qa();function Ca(u,b){return u&&Ci(u,b,xn)}function Ma(u,b){b=Dr(b,u)?[b]:Na(b);for(var I=0,G=b.length;u!=null&&I<G;)u=u[fn(b[I++])];return I&&I==G?u:void 0}function Mi(u){return rn.call(u)}function Oa(u,b){return u!=null&&b in Object(u)}function na(u,b,I,G,ne){return u===b?!0:u==null||b==null||!qn(u)&&!cr(b)?u!==u&&b!==b:Oi(u,b,na,I,G,ne)}function Oi(u,b,I,G,ne,le){var Ee=Yt(u),Ie=Yt(b),Ve=T,rt=T;Ee||(Ve=Ln(u),Ve=Ve==ve?K:Ve),Ie||(rt=Ln(b),rt=rt==ve?K:rt);var ut=Ve==K&&!nn(u),it=rt==K&&!nn(b),lt=Ve==rt;if(lt&&!ut)return le||(le=new At),Ee||Xn(u)?Xa(u,b,I,G,ne,le):$i(u,b,Ve,I,G,ne,le);if(!(ne&ie)){var Ce=ut&&at.call(u,"__wrapped__"),It=it&&at.call(b,"__wrapped__");if(Ce||It){var jt=Ce?u.value():u,Ht=It?b.value():b;return le||(le=new At),I(jt,Ht,G,ne,le)}}return lt?(le||(le=new At),ra(u,b,I,G,ne,le)):!1}function Ni(u,b,I,G){var ne=I.length,le=ne,Ee=!G;if(u==null)return!le;for(u=Object(u);ne--;){var Ie=I[ne];if(Ee&&Ie[2]?Ie[1]!==u[Ie[0]]:!(Ie[0]in u))return!1}for(;++ne<le;){Ie=I[ne];var Ve=Ie[0],rt=u[Ve],ut=Ie[1];if(Ee&&Ie[2]){if(rt===void 0&&!(Ve in u))return!1}else{var it=new At;if(G)var lt=G(rt,ut,Ve,u,b,it);if(!(lt===void 0?na(ut,rt,G,z|ie,it):lt))return!1}}return!0}function Ii(u){if(!qn(u)||Hi(u))return!1;var b=sa(u)||nn(u)?ka:ba;return b.test(Gn(u))}function Di(u){return cr(u)&&jn(u.length)&&!!Ne[rn.call(u)]}function Ri(u){return typeof u=="function"?u:u==null?Pa:typeof u=="object"?Yt(u)?Li(u[0],u[1]):Pi(u):y(u)}function Ai(u){if(!Qa(u))return Ga(u);var b=[];for(var I in Object(u))at.call(u,I)&&I!="constructor"&&b.push(I);return b}function Pi(u){var b=sr(u);return b.length==1&&b[0][2]?Ka(b[0][0],b[0][1]):function(I){return I===u||Ni(I,u,b)}}function Li(u,b){return Dr(u)&&ye(b)?Ka(fn(u),b):function(I){var G=Wi(I,u);return G===void 0&&G===b?Rr(I,u):na(b,G,void 0,z|ie)}}function ji(u){return function(b){return Ma(b,u)}}function Fi(u){if(typeof u=="string")return u;if(Ra(u))return Rn?Rn.call(u):"";var b=u+"";return b=="0"&&1/u==-J?"-0":b}function Na(u){return Yt(u)?u:ia(u)}function Bi(u,b){return function(I,G){var ne=Yt(I)?Za:_i,le=b?b():{};return ne(I,u,Ri(G),le)}}function Vi(u,b){return function(I,G){if(I==null)return I;if(!Jn(I))return u(I,G);for(var ne=I.length,le=b?ne:-1,Ee=Object(I);(b?le--:++le<ne)&&G(Ee[le],le,Ee)!==!1;);return I}}function qa(u){return function(b,I,G){for(var ne=-1,le=Object(b),Ee=G(b),Ie=Ee.length;Ie--;){var Ve=Ee[u?Ie:++ne];if(I(le[Ve],Ve,le)===!1)break}return b}}function Xa(u,b,I,G,ne,le){var Ee=ne&ie,Ie=u.length,Ve=b.length;if(Ie!=Ve&&!(Ee&&Ve>Ie))return!1;var rt=le.get(u);if(rt&&le.get(b))return rt==b;var ut=-1,it=!0,lt=ne&z?new yn:void 0;for(le.set(u,b),le.set(b,u);++ut<Ie;){var Ce=u[ut],It=b[ut];if(G)var jt=Ee?G(It,Ce,ut,b,u,le):G(Ce,It,ut,u,b,le);if(jt!==void 0){if(jt)continue;it=!1;break}if(lt){if(!bt(b,function(Ht,Fn){if(!lt.has(Fn)&&(Ce===Ht||I(Ce,Ht,G,ne,le)))return lt.add(Fn)})){it=!1;break}}else if(!(Ce===It||I(Ce,It,G,ne,le))){it=!1;break}}return le.delete(u),le.delete(b),it}function $i(u,b,I,G,ne,le,Ee){switch(I){case ge:if(u.byteLength!=b.byteLength||u.byteOffset!=b.byteOffset)return!1;u=u.buffer,b=b.buffer;case be:return!(u.byteLength!=b.byteLength||!G(new kr(u),new kr(b)));case R:case A:case B:return Da(+u,+b);case L:return u.name==b.name&&u.message==b.message;case qe:case me:return u==b+"";case D:var Ie=xr;case Qe:var Ve=le&ie;if(Ie||(Ie=xi),u.size!=b.size&&!Ve)return!1;var rt=Ee.get(u);if(rt)return rt==b;le|=z,Ee.set(u,b);var ut=Xa(Ie(u),Ie(b),G,ne,le,Ee);return Ee.delete(u),ut;case fe:if(Dn)return Dn.call(u)==Dn.call(b)}return!1}function ra(u,b,I,G,ne,le){var Ee=ne&ie,Ie=xn(u),Ve=Ie.length,rt=xn(b),ut=rt.length;if(Ve!=ut&&!Ee)return!1;for(var it=Ve;it--;){var lt=Ie[it];if(!(Ee?lt in b:at.call(b,lt)))return!1}var Ce=le.get(u);if(Ce&&le.get(b))return Ce==b;var It=!0;le.set(u,b),le.set(b,u);for(var jt=Ee;++it<Ve;){lt=Ie[it];var Ht=u[lt],Fn=b[lt];if(G)var ur=Ee?G(Fn,Ht,lt,b,u,le):G(Ht,Fn,lt,u,b,le);if(!(ur===void 0?Ht===Fn||I(Ht,Fn,G,ne,le):ur)){It=!1;break}jt||(jt=lt=="constructor")}if(It&&!jt){var Yn=u.constructor,la=b.constructor;Yn!=la&&"constructor"in u&&"constructor"in b&&!(typeof Yn=="function"&&Yn instanceof Yn&&typeof la=="function"&&la instanceof la)&&(It=!1)}return le.delete(u),le.delete(b),It}function aa(u,b){var I=u.__data__;return zi(b)?I[typeof b=="string"?"string":"hash"]:I.map}function sr(u){for(var b=xn(u),I=b.length;I--;){var G=b[I],ne=u[G];b[I]=[G,ne,ye(ne)]}return b}function an(u,b){var I=Ei(u,b);return Ii(I)?I:void 0}var Ln=Mi;(Xe&&Ln(new Xe(new ArrayBuffer(1)))!=ge||Be&&Ln(new Be)!=D||Tr&&Ln(Tr.resolve())!=we||_r&&Ln(new _r)!=Qe||Cr&&Ln(new Cr)!=Te)&&(Ln=function(u){var b=rn.call(u),I=b==K?u.constructor:void 0,G=I?Gn(I):void 0;if(G)switch(G){case ki:return ge;case Hn:return D;case Zr:return we;case Gr:return Qe;case Jr:return Te}return b});function Ya(u,b,I){b=Dr(b,u)?[b]:Na(b);for(var G,ne=-1,Ee=b.length;++ne<Ee;){var le=fn(b[ne]);if(!(G=u!=null&&I(u,le)))break;u=u[le]}if(G)return G;var Ee=u?u.length:0;return!!Ee&&jn(Ee)&&Ir(le,Ee)&&(Yt(u)||_n(u))}function Ir(u,b){return b=b??ue,!!b&&(typeof u=="number"||ya.test(u))&&u>-1&&u%1==0&&u<b}function Dr(u,b){if(Yt(u))return!1;var I=typeof u;return I=="number"||I=="symbol"||I=="boolean"||u==null||Ra(u)?!0:va.test(u)||!$n.test(u)||b!=null&&u in Object(b)}function zi(u){var b=typeof u;return b=="string"||b=="number"||b=="symbol"||b=="boolean"?u!=="__proto__":u===null}function Hi(u){return!!Ue&&Ue in u}function Qa(u){var b=u&&u.constructor,I=typeof b=="function"&&b.prototype||Me;return u===I}function ye(u){return u===u&&!qn(u)}function Ka(u,b){return function(I){return I==null?!1:I[u]===b&&(b!==void 0||u in Object(I))}}var ia=oa(function(u){u=Aa(u);var b=[];return zr.test(u)&&b.push(""),u.replace(Hr,function(I,G,ne,le){b.push(ne?le.replace(Wr,"$1"):G||I)}),b});function fn(u){if(typeof u=="string"||Ra(u))return u;var b=u+"";return b=="0"&&1/u==-J?"-0":b}function Gn(u){if(u!=null){try{return Sa.call(u)}catch{}try{return u+""}catch{}}return""}var Ia=Bi(function(u,b,I){at.call(u,I)?u[I].push(b):u[I]=[b]});function oa(u,b){if(typeof u!="function"||b&&typeof b!="function")throw new TypeError(te);var I=function(){var G=arguments,ne=b?b.apply(this,G):G[0],le=I.cache;if(le.has(ne))return le.get(ne);var Ee=u.apply(this,G);return I.cache=le.set(ne,Ee),Ee};return I.cache=new(oa.Cache||gt),I}oa.Cache=gt;function Da(u,b){return u===b||u!==u&&b!==b}function _n(u){return lr(u)&&at.call(u,"callee")&&(!ct.call(u,"callee")||rn.call(u)==ve)}var Yt=Array.isArray;function Jn(u){return u!=null&&jn(u.length)&&!sa(u)}function lr(u){return cr(u)&&Jn(u)}function sa(u){var b=qn(u)?rn.call(u):"";return b==j||b==_}function jn(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=ue}function qn(u){var b=typeof u;return!!u&&(b=="object"||b=="function")}function cr(u){return!!u&&typeof u=="object"}function Ra(u){return typeof u=="symbol"||cr(u)&&rn.call(u)==fe}var Xn=zt?xe(zt):Di;function Aa(u){return u==null?"":Fi(u)}function Wi(u,b,I){var G=u==null?void 0:Ma(u,b);return G===void 0?I:G}function Rr(u,b){return u!=null&&Ya(u,b,Oa)}function xn(u){return Jn(u)?ta(u):Ai(u)}function Pa(u){return u}function y(u){return Dr(u)?Se(fn(u)):ji(u)}C.exports=Ia},343:(C,p,W)=>{C=W.nmd(C);var Z=200,te="Expected a function",ae="__lodash_hash_undefined__",z=1,ie=2,J=1/0,ue=9007199254740991,ve="[object Arguments]",T="[object Array]",R="[object Boolean]",A="[object Date]",L="[object Error]",j="[object Function]",_="[object GeneratorFunction]",D="[object Map]",B="[object Number]",K="[object Object]",we="[object Promise]",qe="[object RegExp]",Qe="[object Set]",me="[object String]",fe="[object Symbol]",Te="[object WeakMap]",be="[object ArrayBuffer]",ge="[object DataView]",wt="[object Float32Array]",Ke="[object Float64Array]",dt="[object Int8Array]",ot="[object Int16Array]",St="[object Int32Array]",un="[object Uint8Array]",tn="[object Uint8ClampedArray]",ln="[object Uint16Array]",cn="[object Uint32Array]",$n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,va=/^\w*$/,zr=/^\./,Hr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zn=/[\\^$.*+?()[\]{}|]/g,Wr=/\\(\\)?/g,ba=/^\[object .+?Constructor\]$/,ya=/^(?:0|[1-9]\d*)$/,Ne={};Ne[wt]=Ne[Ke]=Ne[dt]=Ne[ot]=Ne[St]=Ne[un]=Ne[tn]=Ne[ln]=Ne[cn]=!0,Ne[ve]=Ne[T]=Ne[be]=Ne[R]=Ne[ge]=Ne[A]=Ne[L]=Ne[j]=Ne[D]=Ne[B]=Ne[K]=Ne[qe]=Ne[Qe]=Ne[me]=Ne[Te]=!1;var kt=typeof W.g=="object"&&W.g&&W.g.Object===Object&&W.g,mn=typeof self=="object"&&self&&self.Object===Object&&self,Nt=kt||mn||Function("return this")(),ar=p&&!p.nodeType&&p,wa=ar&&!0&&C&&!C.nodeType&&C,wi=wa&&wa.exports===ar,Ea=wi&&kt.process,xa=function(){try{return Ea&&Ea.binding("util")}catch{}}(),zt=xa&&xa.isTypedArray;function Za(y,u){for(var b=-1,I=y?y.length:0,G=Array(I);++b<I;)G[b]=u(y[b],b,y);return G}function bt(y,u){for(var b=-1,I=y?y.length:0;++b<I;)if(u(y[b],b,y))return!0;return!1}function Se(y){return function(u){return u==null?void 0:u[y]}}function In(y,u){for(var b=-1,I=Array(y);++b<y;)I[b]=u(b);return I}function xe(y){return function(u){return y(u)}}function Ei(y,u){return y==null?void 0:y[u]}function nn(y){var u=!1;if(y!=null&&typeof y.toString!="function")try{u=!!(y+"")}catch{}return u}function xr(y){var u=-1,b=Array(y.size);return y.forEach(function(I,G){b[++u]=[G,I]}),b}function Sr(y,u){return function(b){return y(u(b))}}function xi(y){var u=-1,b=Array(y.size);return y.forEach(function(I){b[++u]=I}),b}var Ur=Array.prototype,Si=Function.prototype,Me=Object.prototype,Lt=Nt["__core-js_shared__"],Ue=function(){var y=/[^.]+$/.exec(Lt&&Lt.keys&&Lt.keys.IE_PROTO||"");return y?"Symbol(src)_1."+y:""}(),Sa=Si.toString,at=Me.hasOwnProperty,rn=Me.toString,ka=RegExp("^"+Sa.call(at).replace(zn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ir=Nt.Symbol,kr=Nt.Uint8Array,ct=Me.propertyIsEnumerable,gn=Ur.splice,Ga=Sr(Object.keys,Object),Xe=sr(Nt,"DataView"),Be=sr(Nt,"Map"),Tr=sr(Nt,"Promise"),_r=sr(Nt,"Set"),Cr=sr(Nt,"WeakMap"),Gt=sr(Object,"create"),ki=fn(Xe),Hn=fn(Be),Zr=fn(Tr),Gr=fn(_r),Jr=fn(Cr),vn=ir?ir.prototype:void 0,Dn=vn?vn.valueOf:void 0,Rn=vn?vn.toString:void 0;function Rt(y){var u=-1,b=y?y.length:0;for(this.clear();++u<b;){var I=y[u];this.set(I[0],I[1])}}function An(){this.__data__=Gt?Gt(null):{}}function qr(y){return this.has(y)&&delete this.__data__[y]}function bn(y){var u=this.__data__;if(Gt){var b=u[y];return b===ae?void 0:b}return at.call(u,y)?u[y]:void 0}function Xr(y){var u=this.__data__;return Gt?u[y]!==void 0:at.call(u,y)}function Ja(y,u){var b=this.__data__;return b[y]=Gt&&u===void 0?ae:u,this}Rt.prototype.clear=An,Rt.prototype.delete=qr,Rt.prototype.get=bn,Rt.prototype.has=Xr,Rt.prototype.set=Ja;function Ct(y){var u=-1,b=y?y.length:0;for(this.clear();++u<b;){var I=y[u];this.set(I[0],I[1])}}function Et(){this.__data__=[]}function Mr(y){var u=this.__data__,b=Pn(u,y);if(b<0)return!1;var I=u.length-1;return b==I?u.pop():gn.call(u,b,1),!0}function Yr(y){var u=this.__data__,b=Pn(u,y);return b<0?void 0:u[b][1]}function Ta(y){return Pn(this.__data__,y)>-1}function Or(y,u){var b=this.__data__,I=Pn(b,y);return I<0?b.push([y,u]):b[I][1]=u,this}Ct.prototype.clear=Et,Ct.prototype.delete=Mr,Ct.prototype.get=Yr,Ct.prototype.has=Ta,Ct.prototype.set=Or;function gt(y){var u=-1,b=y?y.length:0;for(this.clear();++u<b;){var I=y[u];this.set(I[0],I[1])}}function Nr(){this.__data__={hash:new Rt,map:new(Be||Ct),string:new Rt}}function Qr(y){return ra(this,y).delete(y)}function Wn(y){return ra(this,y).get(y)}function Un(y){return ra(this,y).has(y)}function Kr(y,u){return ra(this,y).set(y,u),this}gt.prototype.clear=Nr,gt.prototype.delete=Qr,gt.prototype.get=Wn,gt.prototype.has=Un,gt.prototype.set=Kr;function yn(y){var u=-1,b=y?y.length:0;for(this.__data__=new gt;++u<b;)this.add(y[u])}function Ti(y){return this.__data__.set(y,ae),this}function ea(y){return this.__data__.has(y)}yn.prototype.add=yn.prototype.push=Ti,yn.prototype.has=ea;function At(y){this.__data__=new Ct(y)}function or(){this.__data__=new Ct}function wn(y){return this.__data__.delete(y)}function En(y){return this.__data__.get(y)}function Zn(y){return this.__data__.has(y)}function _a(y,u){var b=this.__data__;if(b instanceof Ct){var I=b.__data__;if(!Be||I.length<Z-1)return I.push([y,u]),this;b=this.__data__=new gt(I)}return b.set(y,u),this}At.prototype.clear=or,At.prototype.delete=wn,At.prototype.get=En,At.prototype.has=Zn,At.prototype.set=_a;function ta(y,u){var b=_n(y)||Da(y)?In(y.length,String):[],I=b.length,G=!!I;for(var ne in y)(u||at.call(y,ne))&&!(G&&(ne=="length"||Ya(ne,I)))&&b.push(ne);return b}function Pn(y,u){for(var b=y.length;b--;)if(oa(y[b][0],u))return b;return-1}var _i=Bi(Ci),ze=Vi();function Ci(y,u){return y&&ze(y,u,Rr)}function Ca(y,u){u=Ir(u,y)?[u]:Na(u);for(var b=0,I=u.length;y!=null&&b<I;)y=y[ia(u[b++])];return b&&b==I?y:void 0}function Ma(y){return rn.call(y)}function Mi(y,u){return y!=null&&u in Object(y)}function Oa(y,u,b,I,G){return y===u?!0:y==null||u==null||!jn(y)&&!qn(u)?y!==y&&u!==u:na(y,u,Oa,b,I,G)}function na(y,u,b,I,G,ne){var le=_n(y),Ee=_n(u),Ie=T,Ve=T;le||(Ie=an(y),Ie=Ie==ve?K:Ie),Ee||(Ve=an(u),Ve=Ve==ve?K:Ve);var rt=Ie==K&&!nn(y),ut=Ve==K&&!nn(u),it=Ie==Ve;if(it&&!rt)return ne||(ne=new At),le||Ra(y)?qa(y,u,b,I,G,ne):Xa(y,u,Ie,b,I,G,ne);if(!(G&ie)){var lt=rt&&at.call(y,"__wrapped__"),Ce=ut&&at.call(u,"__wrapped__");if(lt||Ce){var It=lt?y.value():y,jt=Ce?u.value():u;return ne||(ne=new At),b(It,jt,I,G,ne)}}return it?(ne||(ne=new At),$i(y,u,b,I,G,ne)):!1}function Oi(y,u,b,I){var G=b.length,ne=G,le=!I;if(y==null)return!ne;for(y=Object(y);G--;){var Ee=b[G];if(le&&Ee[2]?Ee[1]!==y[Ee[0]]:!(Ee[0]in y))return!1}for(;++G<ne;){Ee=b[G];var Ie=Ee[0],Ve=y[Ie],rt=Ee[1];if(le&&Ee[2]){if(Ve===void 0&&!(Ie in y))return!1}else{var ut=new At;if(I)var it=I(Ve,rt,Ie,y,u,ut);if(!(it===void 0?Oa(rt,Ve,I,z|ie,ut):it))return!1}}return!0}function Ni(y){if(!jn(y)||zi(y))return!1;var u=lr(y)||nn(y)?ka:ba;return u.test(fn(y))}function Ii(y){return qn(y)&&sa(y.length)&&!!Ne[rn.call(y)]}function Di(y){return typeof y=="function"?y:y==null?xn:typeof y=="object"?_n(y)?Li(y[0],y[1]):Pi(y):Pa(y)}function Ri(y){if(!Hi(y))return Ga(y);var u=[];for(var b in Object(y))at.call(y,b)&&b!="constructor"&&u.push(b);return u}function Ai(y,u){var b=-1,I=Yt(y)?Array(y.length):[];return _i(y,function(G,ne,le){I[++b]=u(G,ne,le)}),I}function Pi(y){var u=aa(y);return u.length==1&&u[0][2]?ye(u[0][0],u[0][1]):function(b){return b===y||Oi(b,y,u)}}function Li(y,u){return Ir(y)&&Qa(u)?ye(ia(y),u):function(b){var I=Aa(b,y);return I===void 0&&I===u?Wi(b,y):Oa(u,I,void 0,z|ie)}}function ji(y){return function(u){return Ca(u,y)}}function Fi(y){if(typeof y=="string")return y;if(cr(y))return Rn?Rn.call(y):"";var u=y+"";return u=="0"&&1/y==-J?"-0":u}function Na(y){return _n(y)?y:Ka(y)}function Bi(y,u){return function(b,I){if(b==null)return b;if(!Yt(b))return y(b,I);for(var G=b.length,ne=u?G:-1,le=Object(b);(u?ne--:++ne<G)&&I(le[ne],ne,le)!==!1;);return b}}function Vi(y){return function(u,b,I){for(var G=-1,ne=Object(u),le=I(u),Ee=le.length;Ee--;){var Ie=le[y?Ee:++G];if(b(ne[Ie],Ie,ne)===!1)break}return u}}function qa(y,u,b,I,G,ne){var le=G&ie,Ee=y.length,Ie=u.length;if(Ee!=Ie&&!(le&&Ie>Ee))return!1;var Ve=ne.get(y);if(Ve&&ne.get(u))return Ve==u;var rt=-1,ut=!0,it=G&z?new yn:void 0;for(ne.set(y,u),ne.set(u,y);++rt<Ee;){var lt=y[rt],Ce=u[rt];if(I)var It=le?I(Ce,lt,rt,u,y,ne):I(lt,Ce,rt,y,u,ne);if(It!==void 0){if(It)continue;ut=!1;break}if(it){if(!bt(u,function(jt,Ht){if(!it.has(Ht)&&(lt===jt||b(lt,jt,I,G,ne)))return it.add(Ht)})){ut=!1;break}}else if(!(lt===Ce||b(lt,Ce,I,G,ne))){ut=!1;break}}return ne.delete(y),ne.delete(u),ut}function Xa(y,u,b,I,G,ne,le){switch(b){case ge:if(y.byteLength!=u.byteLength||y.byteOffset!=u.byteOffset)return!1;y=y.buffer,u=u.buffer;case be:return!(y.byteLength!=u.byteLength||!I(new kr(y),new kr(u)));case R:case A:case B:return oa(+y,+u);case L:return y.name==u.name&&y.message==u.message;case qe:case me:return y==u+"";case D:var Ee=xr;case Qe:var Ie=ne&ie;if(Ee||(Ee=xi),y.size!=u.size&&!Ie)return!1;var Ve=le.get(y);if(Ve)return Ve==u;ne|=z,le.set(y,u);var rt=qa(Ee(y),Ee(u),I,G,ne,le);return le.delete(y),rt;case fe:if(Dn)return Dn.call(y)==Dn.call(u)}return!1}function $i(y,u,b,I,G,ne){var le=G&ie,Ee=Rr(y),Ie=Ee.length,Ve=Rr(u),rt=Ve.length;if(Ie!=rt&&!le)return!1;for(var ut=Ie;ut--;){var it=Ee[ut];if(!(le?it in u:at.call(u,it)))return!1}var lt=ne.get(y);if(lt&&ne.get(u))return lt==u;var Ce=!0;ne.set(y,u),ne.set(u,y);for(var It=le;++ut<Ie;){it=Ee[ut];var jt=y[it],Ht=u[it];if(I)var Fn=le?I(Ht,jt,it,u,y,ne):I(jt,Ht,it,y,u,ne);if(!(Fn===void 0?jt===Ht||b(jt,Ht,I,G,ne):Fn)){Ce=!1;break}It||(It=it=="constructor")}if(Ce&&!It){var ur=y.constructor,Yn=u.constructor;ur!=Yn&&"constructor"in y&&"constructor"in u&&!(typeof ur=="function"&&ur instanceof ur&&typeof Yn=="function"&&Yn instanceof Yn)&&(Ce=!1)}return ne.delete(y),ne.delete(u),Ce}function ra(y,u){var b=y.__data__;return Dr(u)?b[typeof u=="string"?"string":"hash"]:b.map}function aa(y){for(var u=Rr(y),b=u.length;b--;){var I=u[b],G=y[I];u[b]=[I,G,Qa(G)]}return u}function sr(y,u){var b=Ei(y,u);return Ni(b)?b:void 0}var an=Ma;(Xe&&an(new Xe(new ArrayBuffer(1)))!=ge||Be&&an(new Be)!=D||Tr&&an(Tr.resolve())!=we||_r&&an(new _r)!=Qe||Cr&&an(new Cr)!=Te)&&(an=function(y){var u=rn.call(y),b=u==K?y.constructor:void 0,I=b?fn(b):void 0;if(I)switch(I){case ki:return ge;case Hn:return D;case Zr:return we;case Gr:return Qe;case Jr:return Te}return u});function Ln(y,u,b){u=Ir(u,y)?[u]:Na(u);for(var I,G=-1,le=u.length;++G<le;){var ne=ia(u[G]);if(!(I=y!=null&&b(y,ne)))break;y=y[ne]}if(I)return I;var le=y?y.length:0;return!!le&&sa(le)&&Ya(ne,le)&&(_n(y)||Da(y))}function Ya(y,u){return u=u??ue,!!u&&(typeof y=="number"||ya.test(y))&&y>-1&&y%1==0&&y<u}function Ir(y,u){if(_n(y))return!1;var b=typeof y;return b=="number"||b=="symbol"||b=="boolean"||y==null||cr(y)?!0:va.test(y)||!$n.test(y)||u!=null&&y in Object(u)}function Dr(y){var u=typeof y;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?y!=="__proto__":y===null}function zi(y){return!!Ue&&Ue in y}function Hi(y){var u=y&&y.constructor,b=typeof u=="function"&&u.prototype||Me;return y===b}function Qa(y){return y===y&&!jn(y)}function ye(y,u){return function(b){return b==null?!1:b[y]===u&&(u!==void 0||y in Object(b))}}var Ka=Ia(function(y){y=Xn(y);var u=[];return zr.test(y)&&u.push(""),y.replace(Hr,function(b,I,G,ne){u.push(G?ne.replace(Wr,"$1"):I||b)}),u});function ia(y){if(typeof y=="string"||cr(y))return y;var u=y+"";return u=="0"&&1/y==-J?"-0":u}function fn(y){if(y!=null){try{return Sa.call(y)}catch{}try{return y+""}catch{}}return""}function Gn(y,u){var b=_n(y)?Za:Ai;return b(y,Di(u))}function Ia(y,u){if(typeof y!="function"||u&&typeof u!="function")throw new TypeError(te);var b=function(){var I=arguments,G=u?u.apply(this,I):I[0],ne=b.cache;if(ne.has(G))return ne.get(G);var le=y.apply(this,I);return b.cache=ne.set(G,le),le};return b.cache=new(Ia.Cache||gt),b}Ia.Cache=gt;function oa(y,u){return y===u||y!==y&&u!==u}function Da(y){return Jn(y)&&at.call(y,"callee")&&(!ct.call(y,"callee")||rn.call(y)==ve)}var _n=Array.isArray;function Yt(y){return y!=null&&sa(y.length)&&!lr(y)}function Jn(y){return qn(y)&&Yt(y)}function lr(y){var u=jn(y)?rn.call(y):"";return u==j||u==_}function sa(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=ue}function jn(y){var u=typeof y;return!!y&&(u=="object"||u=="function")}function qn(y){return!!y&&typeof y=="object"}function cr(y){return typeof y=="symbol"||qn(y)&&rn.call(y)==fe}var Ra=zt?xe(zt):Ii;function Xn(y){return y==null?"":Fi(y)}function Aa(y,u,b){var I=y==null?void 0:Ca(y,u);return I===void 0?b:I}function Wi(y,u){return y!=null&&Ln(y,u,Mi)}function Rr(y){return Yt(y)?ta(y):Ri(y)}function xn(y){return y}function Pa(y){return Ir(y)?Se(ia(y)):ji(y)}C.exports=Gn},262:(C,p,W)=>{var Z=W(586);function te(){}function ae(){}ae.resetWarningCache=te,C.exports=function(){function z(ue,ve,T,R,A,L){if(L!==Z){var j=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw j.name="Invariant Violation",j}}z.isRequired=z;function ie(){return z}var J={array:z,bigint:z,bool:z,func:z,number:z,object:z,string:z,symbol:z,any:z,arrayOf:ie,element:z,elementType:z,instanceOf:ie,node:z,objectOf:ie,oneOf:ie,oneOfType:ie,shape:ie,exact:ie,checkPropTypes:ae,resetWarningCache:te};return J.PropTypes=J,J}},980:(C,p,W)=>{C.exports=W(262)()},586:C=>{var p="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";C.exports=p},129:(C,p,W)=>{Object.defineProperty(p,"__esModule",{value:!0}),p.DebounceInput=void 0;var Z=ae(W(156)),te=ae(W(594));function ae(me){return me&&me.__esModule?me:{default:me}}function z(me){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?z=function(fe){return typeof fe}:z=function(fe){return fe&&typeof Symbol=="function"&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe},z(me)}function ie(me,fe){if(me==null)return{};var Te=J(me,fe),be,ge;if(Object.getOwnPropertySymbols){var wt=Object.getOwnPropertySymbols(me);for(ge=0;ge<wt.length;ge++)be=wt[ge],!(fe.indexOf(be)>=0)&&(!Object.prototype.propertyIsEnumerable.call(me,be)||(Te[be]=me[be]))}return Te}function J(me,fe){if(me==null)return{};var Te={},be=Object.keys(me),ge,wt;for(wt=0;wt<be.length;wt++)ge=be[wt],!(fe.indexOf(ge)>=0)&&(Te[ge]=me[ge]);return Te}function ue(me,fe){var Te=Object.keys(me);if(Object.getOwnPropertySymbols){var be=Object.getOwnPropertySymbols(me);fe&&(be=be.filter(function(ge){return Object.getOwnPropertyDescriptor(me,ge).enumerable})),Te.push.apply(Te,be)}return Te}function ve(me){for(var fe=1;fe<arguments.length;fe++){var Te=arguments[fe]!=null?arguments[fe]:{};fe%2?ue(Object(Te),!0).forEach(function(be){qe(me,be,Te[be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(me,Object.getOwnPropertyDescriptors(Te)):ue(Object(Te)).forEach(function(be){Object.defineProperty(me,be,Object.getOwnPropertyDescriptor(Te,be))})}return me}function T(me,fe){if(!(me instanceof fe))throw new TypeError("Cannot call a class as a function")}function R(me,fe){for(var Te=0;Te<fe.length;Te++){var be=fe[Te];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(me,be.key,be)}}function A(me,fe,Te){return fe&&R(me.prototype,fe),Te&&R(me,Te),me}function L(me,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Super expression must either be null or a function");me.prototype=Object.create(fe&&fe.prototype,{constructor:{value:me,writable:!0,configurable:!0}}),fe&&j(me,fe)}function j(me,fe){return j=Object.setPrototypeOf||function(Te,be){return Te.__proto__=be,Te},j(me,fe)}function _(me){var fe=K();return function(){var Te=we(me),be;if(fe){var ge=we(this).constructor;be=Reflect.construct(Te,arguments,ge)}else be=Te.apply(this,arguments);return D(this,be)}}function D(me,fe){return fe&&(z(fe)==="object"||typeof fe=="function")?fe:B(me)}function B(me){if(me===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me}function K(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function we(me){return we=Object.setPrototypeOf?Object.getPrototypeOf:function(fe){return fe.__proto__||Object.getPrototypeOf(fe)},we(me)}function qe(me,fe,Te){return fe in me?Object.defineProperty(me,fe,{value:Te,enumerable:!0,configurable:!0,writable:!0}):me[fe]=Te,me}var Qe=function(me){L(Te,me);var fe=_(Te);function Te(be){var ge;T(this,Te),ge=fe.call(this,be),qe(B(ge),"onChange",function(Ke){Ke.persist();var dt=ge.state.value,ot=ge.props.minLength;ge.setState({value:Ke.target.value},function(){var St=ge.state.value;if(St.length>=ot){ge.notify(Ke);return}dt.length>St.length&&ge.notify(ve(ve({},Ke),{},{target:ve(ve({},Ke.target),{},{value:""})}))})}),qe(B(ge),"onKeyDown",function(Ke){Ke.key==="Enter"&&ge.forceNotify(Ke);var dt=ge.props.onKeyDown;dt&&(Ke.persist(),dt(Ke))}),qe(B(ge),"onBlur",function(Ke){ge.forceNotify(Ke);var dt=ge.props.onBlur;dt&&(Ke.persist(),dt(Ke))}),qe(B(ge),"createNotifier",function(Ke){if(Ke<0)ge.notify=function(){return null};else if(Ke===0)ge.notify=ge.doNotify;else{var dt=(0,te.default)(function(ot){ge.isDebouncing=!1,ge.doNotify(ot)},Ke);ge.notify=function(ot){ge.isDebouncing=!0,dt(ot)},ge.flush=function(){return dt.flush()},ge.cancel=function(){ge.isDebouncing=!1,dt.cancel()}}}),qe(B(ge),"doNotify",function(){var Ke=ge.props.onChange;Ke.apply(void 0,arguments)}),qe(B(ge),"forceNotify",function(Ke){var dt=ge.props.debounceTimeout;if(!(!ge.isDebouncing&&dt>0)){ge.cancel&&ge.cancel();var ot=ge.state.value,St=ge.props.minLength;ot.length>=St?ge.doNotify(Ke):ge.doNotify(ve(ve({},Ke),{},{target:ve(ve({},Ke.target),{},{value:ot})}))}}),ge.isDebouncing=!1,ge.state={value:typeof be.value>"u"||be.value===null?"":be.value};var wt=ge.props.debounceTimeout;return ge.createNotifier(wt),ge}return A(Te,[{key:"componentDidUpdate",value:function(be){if(!this.isDebouncing){var ge=this.props,wt=ge.value,Ke=ge.debounceTimeout,dt=be.debounceTimeout,ot=be.value,St=this.state.value;typeof wt<"u"&&ot!==wt&&St!==wt&&this.setState({value:wt}),Ke!==dt&&this.createNotifier(Ke)}}},{key:"componentWillUnmount",value:function(){this.flush&&this.flush()}},{key:"render",value:function(){var be=this.props,ge=be.element;be.onChange,be.value,be.minLength,be.debounceTimeout;var wt=be.forceNotifyByEnter,Ke=be.forceNotifyOnBlur,dt=be.onKeyDown,ot=be.onBlur,St=be.inputRef,un=ie(be,["element","onChange","value","minLength","debounceTimeout","forceNotifyByEnter","forceNotifyOnBlur","onKeyDown","onBlur","inputRef"]),tn=this.state.value,ln;wt?ln={onKeyDown:this.onKeyDown}:dt?ln={onKeyDown:dt}:ln={};var cn;Ke?cn={onBlur:this.onBlur}:ot?cn={onBlur:ot}:cn={};var $n=St?{ref:St}:{};return Z.default.createElement(ge,ve(ve(ve(ve({},un),{},{onChange:this.onChange,value:tn},ln),cn),$n))}}]),Te}(Z.default.PureComponent);p.DebounceInput=Qe,qe(Qe,"defaultProps",{element:"input",type:"text",onKeyDown:void 0,onBlur:void 0,value:void 0,minLength:0,debounceTimeout:100,forceNotifyByEnter:!0,forceNotifyOnBlur:!0,inputRef:void 0})},912:(C,p,W)=>{var Z=W(129),te=Z.DebounceInput;te.DebounceInput=te,C.exports=te},424:(C,p,W)=>{function Z(J){return J&&typeof J=="object"&&"default"in J?J.default:J}var te=Z(W(156)),ae=Z(W(980));function z(J){return J==="fast"?600:J==="slow"?900:750}var ie=function(J){var ue=J.color,ve=J.speed,T=J.gap,R=J.thickness,A=J.size,L=function(j,_){var D={};for(var B in j)Object.prototype.hasOwnProperty.call(j,B)&&_.indexOf(B)===-1&&(D[B]=j[B]);return D}(J,["color","speed","gap","thickness","size"]);return te.createElement("svg",Object.assign({},{height:A,width:A},L,{style:{animationDuration:z(ve)+"ms"},className:"__react-svg-spinner_circle",role:"img","aria-labelledby":"title desc",viewBox:"0 0 32 32"}),te.createElement("title",{id:"title"},"Circle loading spinner"),te.createElement("desc",{id:"desc"},'Image of a partial circle indicating "loading."'),te.createElement("style",{dangerouslySetInnerHTML:{__html:`
      .__react-svg-spinner_circle{
          transition-property: transform;
          animation-name: __react-svg-spinner_infinite-spin;
          animation-iteration-count: infinite;
          animation-timing-function: linear;
      }
      @keyframes __react-svg-spinner_infinite-spin {
          from {transform: rotate(0deg)}
          to {transform: rotate(360deg)}
      }
    `}}),te.createElement("circle",{role:"presentation",cx:16,cy:16,r:14-R/2,stroke:ue,fill:"none",strokeWidth:R,strokeDasharray:2*Math.PI*(11-T),strokeLinecap:"round"}))};ie.propTypes={color:ae.string,thickness:ae.oneOf([1,2,3,4,5,6,7,8]).isRequired,gap:ae.oneOf([1,2,3,4,5]).isRequired,speed:ae.oneOf(["fast","slow"]),size:ae.string.isRequired},ie.defaultProps={color:"rgba(0,0,0,0.4)",gap:4,thickness:4,size:"1em"},C.exports=ie},47:(C,p,W)=>{var Z=W(905),te=Array.prototype.concat,ae=Array.prototype.slice,z=C.exports=function(ie){for(var J=[],ue=0,ve=ie.length;ue<ve;ue++){var T=ie[ue];Z(T)?J=te.call(J,ae.call(T)):J.push(T)}return J};z.wrap=function(ie){return function(){return ie(z(arguments))}}},905:C=>{C.exports=function(p){return!p||typeof p=="string"?!1:p instanceof Array||Array.isArray(p)||p.length>=0&&(p.splice instanceof Function||Object.getOwnPropertyDescriptor(p,p.length-1)&&p.constructor.name!=="String")}},156:C=>{C.exports=X},111:C=>{C.exports=q}},H={};function $(C){var p=H[C];if(p!==void 0)return p.exports;var W=H[C]={id:C,loaded:!1,exports:{}};return Q[C](W,W.exports,$),W.loaded=!0,W.exports}$.n=C=>{var p=C&&C.__esModule?()=>C.default:()=>C;return $.d(p,{a:p}),p},$.d=(C,p)=>{for(var W in p)$.o(p,W)&&!$.o(C,W)&&Object.defineProperty(C,W,{enumerable:!0,get:p[W]})},$.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),$.o=(C,p)=>Object.prototype.hasOwnProperty.call(C,p),$.r=C=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})},$.nmd=C=>(C.paths=[],C.children||(C.children=[]),C);var pe={};return(()=>{$.r(pe),$.d(pe,{Box:()=>Z,DefaultPalette:()=>ci,Flamegraph:()=>dc,FlamegraphRenderer:()=>V1,convertJaegerTraceToProfile:()=>U1,diffTwoProfiles:()=>Q1});var C=$(156),p=$.n(C);const W={box:"CymgObeW6VZutKnn+knV0w==",padding:"_27LlhV46s9ZMTAMouwXorw=="};function Z(e){const{children:t,noPadding:n,className:a=""}=e,l=n?"":W.padding;return p().createElement("div",{className:`${W.box} ${l} ${a}`},t)}const te=Symbol("BrandTag");class ae{constructor(t){this[te]=t}}const z=new ae("unit"),ie=e=>typeof e>"u"||e===null;function J(e,t){return t!==void 0?e(t):e}function ue(e){return e.isOk?Za.just(e.value):Za.nothing()}function ve(e,t){const n=a=>a.isJust?ot.ok(a.value):ot.err(e);return t!==void 0?n(t):n}function T(e,t){return J(n=>n.isJust?ot.ok(n.value):ot.err(e()),t)}const R={Ok:"Ok",Err:"Err"};class A{constructor(t){this.repr=t}static ok(t){return ie(t)?new A(["Ok",z]):new A(["Ok",t])}static err(t){return ie(t)?new A(["Err",z]):new A(["Err",t])}get variant(){return this.repr[0]}get value(){if(this.repr[0]===R.Err)throw new Error("Cannot get the value of Err");return this.repr[1]}get error(){if(this.repr[0]===R.Ok)throw new Error("Cannot get the error of Ok");return this.repr[1]}get isOk(){return this.repr[0]===R.Ok}get isErr(){return this.repr[0]===R.Err}map(t){return _(t,this)}mapOr(t,n){return D(t,n,this)}mapOrElse(t,n){return B(t,n,this)}match(t){return wt(t,this)}mapErr(t){return K(t,this)}or(t){return Qe(t,this)}orElse(t){return me(t,this)}and(t){return we(t,this)}andThen(t){return qe(t,this)}unwrapOr(t){return fe(t,this)}unwrapOrElse(t){return Te(t,this)}toMaybe(){return ue(this)}toString(){return be(this)}toJSON(){return ge(this)}equals(t){return Ke(t,this)}ap(t){return dt(this,t)}}const L=A.ok,j=A.err;function _(e,t){return J(n=>n.isOk?L(e(n.value)):n,t)}function D(e,t,n){function a(f,h){return h.isOk?f(h.value):e}function l(f,h){return h!==void 0?a(f,h):g=>a(f,g)}return t===void 0?l:n===void 0?l(t):l(t,n)}function B(e,t,n){function a(f,h){return h.isOk?f(h.value):e(h.error)}function l(f,h){return h!==void 0?a(f,h):g=>a(f,g)}return t===void 0?l:n===void 0?l(t):l(t,n)}function K(e,t){return J(n=>n.isOk?n:j(e(n.error)),t)}function we(e,t){return J(n=>n.isOk?e:j(n.error),t)}function qe(e,t){return J(n=>n.isOk?e(n.value):j(n.error),t)}function Qe(e,t){return J(n=>n.isOk?L(n.value):e,t)}function me(e,t){return J(n=>n.isOk?L(n.value):e(n.error),t)}function fe(e,t){return J(n=>n.isOk?n.value:e,t)}function Te(e,t){return J(n=>n.isOk?n.value:e(n.error),t)}const be=e=>{const t=(e.isOk?e.value:e.error).toString();return`${e.variant.toString()}(${t})`},ge=e=>e.isOk?{variant:e.variant,value:e.value}:{variant:e.variant,error:e.error};function wt(e,t){return J(n=>B(e.Err,e.Ok,n),t)}function Ke(e,t){return t!==void 0?t.match({Err:()=>e.isErr,Ok:n=>e.isOk&&e.value===n}):n=>n.match({Err:()=>e.isErr,Ok:a=>e.isOk&&e.value===a})}function dt(e,t){return J(n=>n.andThen(a=>e.map(l=>l(a))),t)}const ot=A,St={Just:"Just",Nothing:"Nothing"};let un;class tn{constructor(t){if(ie(t))return this.repr=[St.Nothing],un||(un=this),un;this.repr=[St.Just,t]}static of(t){return new tn(t)}static just(t){if(ie(t))throw new Error(`attempted to call "just" with ${t}`);return new tn(t)}static nothing(t){return new tn}get variant(){return this.repr[0]}get value(){if(this.repr[0]===St.Nothing)throw new Error("Cannot get the value of `Nothing`");return this.repr[1]}get isJust(){return this.repr[0]===St.Just}get isNothing(){return this.repr[0]===St.Nothing}map(t){return $n(t,this)}mapOr(t,n){return va(t,n,this)}mapOrElse(t,n){return zr(t,n,this)}match(t){return Nt(t,this)}or(t){return Wr(t,this)}orElse(t){return ba(t,this)}and(t){return Hr(t,this)}andThen(t){return zn(t,this)}unwrapOr(t){return ya(t,this)}unwrapOrElse(t){return Ne(t,this)}toOkOrErr(t){return ve(t,this)}toOkOrElseErr(t){return T(t,this)}toString(){return kt(this)}toJSON(){return mn(this)}equals(t){return ar(t,this)}ap(t){return wa(this,t)}get(t){return xa(t,this)}}const ln=tn.just,cn=tn.nothing;tn.of;function $n(e,t){return J(n=>n.isJust?ln(e(n.value)):cn(),t)}function va(e,t,n){function a(f,h){return h.isJust?f(h.value):e}function l(f,h){return h!==void 0?a(f,h):g=>a(f,g)}return t===void 0?l:n===void 0?l(t):l(t,n)}function zr(e,t,n){function a(f,h){return h.isJust?f(h.value):e()}function l(f,h){return h!==void 0?a(f,h):g=>a(f,g)}return t===void 0?l:n===void 0?l(t):l(t,n)}function Hr(e,t){return J(n=>n.isJust?e:cn(),t)}function zn(e,t){const n=a=>a.isJust?e(a.value):cn();return t!==void 0?n(t):n}function Wr(e,t){const n=a=>a.isJust?a:e;return t!==void 0?n(t):n}function ba(e,t){return J(n=>n.isJust?n:e(),t)}function ya(e,t){return J(n=>n.isJust?n.value:e,t)}function Ne(e,t){return J(n=>n.isJust?n.value:e(),t)}function kt(e){const t=e.isJust?`(${e.value.toString()})`:"";return`${e.variant}${t}`}function mn(e){return e.isJust?{variant:e.variant,value:wi(e.value)?e.value.toJSON():e.value}:{variant:e.variant}}function Nt(e,t){return J(n=>zr(e.Nothing,e.Just,n),t)}function ar(e,t){return J(n=>n.match({Just:a=>e.isJust&&e.value===a,Nothing:()=>e.isNothing}),t)}function wa(e,t){return J(n=>n.andThen(a=>e.map(l=>l(a))),t)}function wi(e){return e instanceof zt}function Ea(e,t){return J(n=>zt.of(n[e]),t)}function xa(e,t){return J(zn(Ea(e)),t)}const zt=tn,Za=zt;var bt;(function(e){function t(a){throw new Error}e.assertNever=t,e.arrayToEnum=a=>{const l={};for(const f of a)l[f]=f;return l},e.getValidEnumValues=a=>{const l=e.objectKeys(a).filter(h=>typeof a[a[h]]!="number"),f={};for(const h of l)f[h]=a[h];return e.objectValues(f)},e.objectValues=a=>e.objectKeys(a).map(function(l){return a[l]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const l=[];for(const f in a)Object.prototype.hasOwnProperty.call(a,f)&&l.push(f);return l},e.find=(a,l)=>{for(const f of a)if(l(f))return f},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,l=" | "){return a.map(f=>typeof f=="string"?`'${f}'`:f).join(l)}e.joinValues=n})(bt||(bt={}));const Se=bt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),In=e=>{switch(typeof e){case"undefined":return Se.undefined;case"string":return Se.string;case"number":return isNaN(e)?Se.nan:Se.number;case"boolean":return Se.boolean;case"function":return Se.function;case"bigint":return Se.bigint;case"object":return Array.isArray(e)?Se.array:e===null?Se.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Se.promise:typeof Map<"u"&&e instanceof Map?Se.map:typeof Set<"u"&&e instanceof Set?Se.set:typeof Date<"u"&&e instanceof Date?Se.date:Se.object;default:return Se.unknown}},xe=bt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of"]),Ei=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class nn extends Error{constructor(t){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(f){return f.message},a={_errors:[]},l=f=>{for(const h of f.issues)if(h.code==="invalid_union")h.unionErrors.map(l);else if(h.code==="invalid_return_type")l(h.returnTypeError);else if(h.code==="invalid_arguments")l(h.argumentsError);else if(h.path.length===0)a._errors.push(n(h));else{let g=a,x=0;for(;x<h.path.length;){const k=h.path[x];x===h.path.length-1?(g[k]=g[k]||{_errors:[]},g[k]._errors.push(n(h))):g[k]=g[k]||{_errors:[]},g=g[k],x++}}};return l(this),a}toString(){return this.message}get message(){return JSON.stringify(this.issues,null,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},a=[];for(const l of this.issues)l.path.length>0?(n[l.path[0]]=n[l.path[0]]||[],n[l.path[0]].push(t(l))):a.push(t(l));return{formErrors:a,fieldErrors:n}}get formErrors(){return this.flatten()}}nn.create=e=>new nn(e);const xr=(e,t)=>{let n;switch(e.code){case xe.invalid_type:e.received===Se.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case xe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected)}`;break;case xe.unrecognized_keys:n=`Unrecognized key(s) in object: ${bt.joinValues(e.keys,", ")}`;break;case xe.invalid_union:n="Invalid input";break;case xe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${bt.joinValues(e.options)}`;break;case xe.invalid_enum_value:n=`Invalid enum value. Expected ${bt.joinValues(e.options)}, received '${e.received}'`;break;case xe.invalid_arguments:n="Invalid function arguments";break;case xe.invalid_return_type:n="Invalid function return type";break;case xe.invalid_date:n="Invalid date";break;case xe.invalid_string:e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case xe.too_small:e.type==="array"?n=`Array must contain ${e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be greater than ${e.inclusive?"or equal to ":""}${e.minimum}`:n="Invalid input";break;case xe.too_big:e.type==="array"?n=`Array must contain ${e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be less than ${e.inclusive?"or equal to ":""}${e.maximum}`:n="Invalid input";break;case xe.custom:n="Invalid input";break;case xe.invalid_intersection_types:n="Intersection results could not be merged";break;case xe.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;default:n=t.defaultError,bt.assertNever(e)}return{message:n}};let Sr=xr;const xi=e=>{Sr=e},Ur=e=>{const{data:t,path:n,errorMaps:a,issueData:l}=e,f=[...n,...l.path||[]],h=S(E({},l),{path:f});let g="";const x=a.filter(k=>!!k).slice().reverse();for(const k of x)g=k(h,{data:t,defaultError:g}).message;return S(E({},l),{path:f,message:l.message||g})},Si=[];function Me(e,t){const n=Ur({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Sr,xr].filter(a=>!!a)});e.common.issues.push(n)}class Lt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const a=[];for(const l of n){if(l.status==="aborted")return Ue;l.status==="dirty"&&t.dirty(),a.push(l.value)}return{status:t.value,value:a}}static mergeObjectAsync(t,n){return V(this,null,function*(){const a=[];for(const l of n)a.push({key:yield l.key,value:yield l.value});return Lt.mergeObjectSync(t,a)})}static mergeObjectSync(t,n){const a={};for(const l of n){const{key:f,value:h}=l;if(f.status==="aborted"||h.status==="aborted")return Ue;f.status==="dirty"&&t.dirty(),h.status==="dirty"&&t.dirty(),(typeof h.value<"u"||l.alwaysSet)&&(a[f.value]=h.value)}return{status:t.value,value:a}}}const Ue=Object.freeze({status:"aborted"}),Sa=e=>({status:"dirty",value:e}),at=e=>({status:"valid",value:e}),rn=e=>e.status==="aborted",ka=e=>e.status==="dirty",ir=e=>e.status==="valid",kr=e=>typeof Promise!==void 0&&e instanceof Promise;var ct;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ct||(ct={}));class gn{constructor(t,n,a,l){this.parent=t,this.data=n,this._path=a,this._key=l}get path(){return this._path.concat(this._key)}}const Ga=(e,t)=>{if(ir(t))return{success:!0,data:t.value};{if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,error:new nn(e.common.issues)}}};function Xe(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:a,description:l}=e;if(t&&(n||a))throw new Error(`Can't use "invalid" or "required" in conjunction with custom error map.`);return t?{errorMap:t,description:l}:{errorMap:(f,h)=>f.code!=="invalid_type"?{message:h.defaultError}:typeof h.data>"u"&&a?{message:a}:e.invalid_type_error?{message:e.invalid_type_error}:{message:h.defaultError},description:l}}class Be{constructor(t){this.spa=this.safeParseAsync,this.superRefine=this._refinement,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.default=this.default.bind(this),this.describe=this.describe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return In(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:In(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Lt,ctx:{common:t.parent.common,data:t.data,parsedType:In(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(kr(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const a=this.safeParse(t,n);if(a.success)return a.data;throw a.error}safeParse(t,n){var a;const l={common:{issues:[],async:(a=n==null?void 0:n.async)!==null&&a!==void 0?a:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:In(t)},f=this._parseSync({data:t,path:l.path,parent:l});return Ga(l,f)}parseAsync(t,n){return V(this,null,function*(){const a=yield this.safeParseAsync(t,n);if(a.success)return a.data;throw a.error})}safeParseAsync(t,n){return V(this,null,function*(){const a={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:In(t)},l=this._parse({data:t,path:[],parent:a}),f=yield kr(l)?l:Promise.resolve(l);return Ga(a,f)})}refine(t,n){const a=l=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(l):n;return this._refinement((l,f)=>{const h=t(l),g=()=>f.addIssue(E({code:xe.custom},a(l)));return typeof Promise<"u"&&h instanceof Promise?h.then(x=>x?!0:(g(),!1)):h?!0:(g(),!1)})}refinement(t,n){return this._refinement((a,l)=>t(a)?!0:(l.addIssue(typeof n=="function"?n(a,l):n),!1))}_refinement(t){return new wn({schema:this,typeName:ze.ZodEffects,effect:{type:"refinement",refinement:t}})}optional(){return En.create(this)}nullable(){return Zn.create(this)}nullish(){return this.optional().nullable()}array(){return bn.create(this)}promise(){return or.create(this)}or(t){return Mr.create([this,t])}and(t){return Or.create(this,t)}transform(t){return new wn({schema:this,typeName:ze.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new _a({innerType:this,defaultValue:n,typeName:ze.ZodDefault})}describe(t){const n=this.constructor;return new n(S(E({},this._def),{description:t}))}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Tr=/^c[^\s-]{8,}$/i,_r=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,Cr=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;class Gt extends Be{constructor(){super(...arguments),this._regex=(t,n,a)=>this.refinement(l=>t.test(l),E({validation:n,code:xe.invalid_string},ct.errToObj(a))),this.nonempty=t=>this.min(1,ct.errToObj(t)),this.trim=()=>new Gt(S(E({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}_parse(t){if(this._getType(t)!==Se.string){const l=this._getOrReturnCtx(t);return Me(l,{code:xe.invalid_type,expected:Se.string,received:l.parsedType}),Ue}const n=new Lt;let a;for(const l of this._def.checks)if(l.kind==="min")t.data.length<l.value&&(a=this._getOrReturnCtx(t,a),Me(a,{code:xe.too_small,minimum:l.value,type:"string",inclusive:!0,message:l.message}),n.dirty());else if(l.kind==="max")t.data.length>l.value&&(a=this._getOrReturnCtx(t,a),Me(a,{code:xe.too_big,maximum:l.value,type:"string",inclusive:!0,message:l.message}),n.dirty());else if(l.kind==="email")Cr.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"email",code:xe.invalid_string,message:l.message}),n.dirty());else if(l.kind==="uuid")_r.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"uuid",code:xe.invalid_string,message:l.message}),n.dirty());else if(l.kind==="cuid")Tr.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"cuid",code:xe.invalid_string,message:l.message}),n.dirty());else if(l.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Me(a,{validation:"url",code:xe.invalid_string,message:l.message}),n.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Me(a,{validation:"regex",code:xe.invalid_string,message:l.message}),n.dirty())):l.kind==="trim"?t.data=t.data.trim():bt.assertNever(l);return{status:n.value,value:t.data}}_addCheck(t){return new Gt(S(E({},this._def),{checks:[...this._def.checks,t]}))}email(t){return this._addCheck(E({kind:"email"},ct.errToObj(t)))}url(t){return this._addCheck(E({kind:"url"},ct.errToObj(t)))}uuid(t){return this._addCheck(E({kind:"uuid"},ct.errToObj(t)))}cuid(t){return this._addCheck(E({kind:"cuid"},ct.errToObj(t)))}regex(t,n){return this._addCheck(E({kind:"regex",regex:t},ct.errToObj(n)))}min(t,n){return this._addCheck(E({kind:"min",value:t},ct.errToObj(n)))}max(t,n){return this._addCheck(E({kind:"max",value:t},ct.errToObj(n)))}length(t,n){return this.min(t,n).max(t,n)}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get minLength(){let t=-1/0;return this._def.checks.map(n=>{n.kind==="min"&&(t===null||n.value>t)&&(t=n.value)}),t}get maxLength(){let t=null;return this._def.checks.map(n=>{n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}),t}}Gt.create=e=>new Gt(E({checks:[],typeName:ze.ZodString},Xe(e)));function ki(e,t){const n=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,l=n>a?n:a,f=parseInt(e.toFixed(l).replace(".","")),h=parseInt(t.toFixed(l).replace(".",""));return f%h/Math.pow(10,l)}class Hn extends Be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._getType(t)!==Se.number){const l=this._getOrReturnCtx(t);return Me(l,{code:xe.invalid_type,expected:Se.number,received:l.parsedType}),Ue}let n;const a=new Lt;for(const l of this._def.checks)l.kind==="int"?bt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Me(n,{code:xe.invalid_type,expected:"integer",received:"float",message:l.message}),a.dirty()):l.kind==="min"?(l.inclusive?t.data<l.value:t.data<=l.value)&&(n=this._getOrReturnCtx(t,n),Me(n,{code:xe.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,message:l.message}),a.dirty()):l.kind==="max"?(l.inclusive?t.data>l.value:t.data>=l.value)&&(n=this._getOrReturnCtx(t,n),Me(n,{code:xe.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,message:l.message}),a.dirty()):l.kind==="multipleOf"?ki(t.data,l.value)!==0&&(n=this._getOrReturnCtx(t,n),Me(n,{code:xe.not_multiple_of,multipleOf:l.value,message:l.message}),a.dirty()):bt.assertNever(l);return{status:a.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,ct.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ct.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ct.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ct.toString(n))}setLimit(t,n,a,l){return new Hn(S(E({},this._def),{checks:[...this._def.checks,{kind:t,value:n,inclusive:a,message:ct.toString(l)}]}))}_addCheck(t){return new Hn(S(E({},this._def),{checks:[...this._def.checks,t]}))}int(t){return this._addCheck({kind:"int",message:ct.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ct.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ct.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ct.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ct.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ct.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int")}}Hn.create=e=>new Hn(E({checks:[],typeName:ze.ZodNumber},Xe(e)));class Zr extends Be{_parse(t){if(this._getType(t)!==Se.bigint){const n=this._getOrReturnCtx(t);return Me(n,{code:xe.invalid_type,expected:Se.bigint,received:n.parsedType}),Ue}return at(t.data)}}Zr.create=e=>new Zr(E({typeName:ze.ZodBigInt},Xe(e)));class Gr extends Be{_parse(t){if(this._getType(t)!==Se.boolean){const n=this._getOrReturnCtx(t);return Me(n,{code:xe.invalid_type,expected:Se.boolean,received:n.parsedType}),Ue}return at(t.data)}}Gr.create=e=>new Gr(E({typeName:ze.ZodBoolean},Xe(e)));class Jr extends Be{_parse(t){if(this._getType(t)!==Se.date){const n=this._getOrReturnCtx(t);return Me(n,{code:xe.invalid_type,expected:Se.date,received:n.parsedType}),Ue}if(isNaN(t.data.getTime())){const n=this._getOrReturnCtx(t);return Me(n,{code:xe.invalid_date}),Ue}return{status:"valid",value:new Date(t.data.getTime())}}}Jr.create=e=>new Jr(E({typeName:ze.ZodDate},Xe(e)));class vn extends Be{_parse(t){if(this._getType(t)!==Se.undefined){const n=this._getOrReturnCtx(t);return Me(n,{code:xe.invalid_type,expected:Se.undefined,received:n.parsedType}),Ue}return at(t.data)}}vn.create=e=>new vn(E({typeName:ze.ZodUndefined},Xe(e)));class Dn extends Be{_parse(t){if(this._getType(t)!==Se.null){const n=this._getOrReturnCtx(t);return Me(n,{code:xe.invalid_type,expected:Se.null,received:n.parsedType}),Ue}return at(t.data)}}Dn.create=e=>new Dn(E({typeName:ze.ZodNull},Xe(e)));class Rn extends Be{constructor(){super(...arguments),this._any=!0}_parse(t){return at(t.data)}}Rn.create=e=>new Rn(E({typeName:ze.ZodAny},Xe(e)));class Rt extends Be{constructor(){super(...arguments),this._unknown=!0}_parse(t){return at(t.data)}}Rt.create=e=>new Rt(E({typeName:ze.ZodUnknown},Xe(e)));class An extends Be{_parse(t){const n=this._getOrReturnCtx(t);return Me(n,{code:xe.invalid_type,expected:Se.never,received:n.parsedType}),Ue}}An.create=e=>new An(E({typeName:ze.ZodNever},Xe(e)));class qr extends Be{_parse(t){if(this._getType(t)!==Se.undefined){const n=this._getOrReturnCtx(t);return Me(n,{code:xe.invalid_type,expected:Se.void,received:n.parsedType}),Ue}return at(t.data)}}qr.create=e=>new qr(E({typeName:ze.ZodVoid},Xe(e)));class bn extends Be{_parse(t){const{ctx:n,status:a}=this._processInputParams(t),l=this._def;if(n.parsedType!==Se.array)return Me(n,{code:xe.invalid_type,expected:Se.array,received:n.parsedType}),Ue;if(l.minLength!==null&&n.data.length<l.minLength.value&&(Me(n,{code:xe.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,message:l.minLength.message}),a.dirty()),l.maxLength!==null&&n.data.length>l.maxLength.value&&(Me(n,{code:xe.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,message:l.maxLength.message}),a.dirty()),n.common.async)return Promise.all(n.data.map((h,g)=>l.type._parseAsync(new gn(n,h,n.path,g)))).then(h=>Lt.mergeArray(a,h));const f=n.data.map((h,g)=>l.type._parseSync(new gn(n,h,n.path,g)));return Lt.mergeArray(a,f)}get element(){return this._def.type}min(t,n){return new bn(S(E({},this._def),{minLength:{value:t,message:ct.toString(n)}}))}max(t,n){return new bn(S(E({},this._def),{maxLength:{value:t,message:ct.toString(n)}}))}length(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}bn.create=(e,t)=>new bn(E({type:e,minLength:null,maxLength:null,typeName:ze.ZodArray},Xe(t)));var Xr;(function(e){e.mergeShapes=(t,n)=>E(E({},t),n)})(Xr||(Xr={}));const Ja=e=>t=>new Et(S(E({},e),{shape:()=>E(E({},e.shape()),t)}));function Ct(e){if(e instanceof Et){const t={};for(const n in e.shape){const a=e.shape[n];t[n]=En.create(Ct(a))}return new Et(S(E({},e._def),{shape:()=>t}))}else return e instanceof bn?bn.create(Ct(e.element)):e instanceof En?En.create(Ct(e.unwrap())):e instanceof Zn?Zn.create(Ct(e.unwrap())):e instanceof gt?gt.create(e.items.map(t=>Ct(t))):e}class Et extends Be{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=Ja(this._def),this.extend=Ja(this._def)}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=bt.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==Se.object){const x=this._getOrReturnCtx(t);return Me(x,{code:xe.invalid_type,expected:Se.object,received:x.parsedType}),Ue}const{status:n,ctx:a}=this._processInputParams(t),{shape:l,keys:f}=this._getCached(),h=[];for(const x in a.data)f.includes(x)||h.push(x);const g=[];for(const x of f){const k=l[x],P=a.data[x];g.push({key:{status:"valid",value:x},value:k._parse(new gn(a,P,a.path,x)),alwaysSet:x in a.data})}if(this._def.catchall instanceof An){const x=this._def.unknownKeys;if(x==="passthrough")for(const k of h)g.push({key:{status:"valid",value:k},value:{status:"valid",value:a.data[k]}});else if(x==="strict")h.length>0&&(Me(a,{code:xe.unrecognized_keys,keys:h}),n.dirty());else if(x!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const x=this._def.catchall;for(const k of h){const P=a.data[k];g.push({key:{status:"valid",value:k},value:x._parse(new gn(a,P,a.path,k)),alwaysSet:k in a.data})}}return a.common.async?Promise.resolve().then(()=>V(this,null,function*(){const x=[];for(const k of g){const P=yield k.key;x.push({key:P,value:yield k.value,alwaysSet:k.alwaysSet})}return x})).then(x=>Lt.mergeObjectSync(n,x)):Lt.mergeObjectSync(n,g)}get shape(){return this._def.shape()}strict(t){return ct.errToObj,new Et(E(S(E({},this._def),{unknownKeys:"strict"}),t!==void 0?{errorMap:(n,a)=>{var l,f,h,g;const x=(h=(f=(l=this._def).errorMap)===null||f===void 0?void 0:f.call(l,n,a).message)!==null&&h!==void 0?h:a.defaultError;return n.code==="unrecognized_keys"?{message:(g=ct.errToObj(t).message)!==null&&g!==void 0?g:x}:{message:x}}}:{}))}strip(){return new Et(S(E({},this._def),{unknownKeys:"strip"}))}passthrough(){return new Et(S(E({},this._def),{unknownKeys:"passthrough"}))}setKey(t,n){return this.augment({[t]:n})}merge(t){return new Et({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>Xr.mergeShapes(this._def.shape(),t._def.shape()),typeName:ze.ZodObject})}catchall(t){return new Et(S(E({},this._def),{catchall:t}))}pick(t){const n={};return bt.objectKeys(t).map(a=>{this.shape[a]&&(n[a]=this.shape[a])}),new Et(S(E({},this._def),{shape:()=>n}))}omit(t){const n={};return bt.objectKeys(this.shape).map(a=>{bt.objectKeys(t).indexOf(a)===-1&&(n[a]=this.shape[a])}),new Et(S(E({},this._def),{shape:()=>n}))}deepPartial(){return Ct(this)}partial(t){const n={};if(t)return bt.objectKeys(this.shape).map(a=>{bt.objectKeys(t).indexOf(a)===-1?n[a]=this.shape[a]:n[a]=this.shape[a].optional()}),new Et(S(E({},this._def),{shape:()=>n}));for(const a in this.shape){const l=this.shape[a];n[a]=l.optional()}return new Et(S(E({},this._def),{shape:()=>n}))}required(){const t={};for(const n in this.shape){let a=this.shape[n];for(;a instanceof En;)a=a._def.innerType;t[n]=a}return new Et(S(E({},this._def),{shape:()=>t}))}}Et.create=(e,t)=>new Et(E({shape:()=>e,unknownKeys:"strip",catchall:An.create(),typeName:ze.ZodObject},Xe(t))),Et.strictCreate=(e,t)=>new Et(E({shape:()=>e,unknownKeys:"strict",catchall:An.create(),typeName:ze.ZodObject},Xe(t))),Et.lazycreate=(e,t)=>new Et(E({shape:e,unknownKeys:"strip",catchall:An.create(),typeName:ze.ZodObject},Xe(t)));class Mr extends Be{_parse(t){const{ctx:n}=this._processInputParams(t),a=this._def.options;function l(f){for(const g of f)if(g.result.status==="valid")return g.result;for(const g of f)if(g.result.status==="dirty")return n.common.issues.push(...g.ctx.common.issues),g.result;const h=f.map(g=>new nn(g.ctx.common.issues));return Me(n,{code:xe.invalid_union,unionErrors:h}),Ue}if(n.common.async)return Promise.all(a.map(f=>V(this,null,function*(){const h=S(E({},n),{common:S(E({},n.common),{issues:[]}),parent:null});return{result:yield f._parseAsync({data:n.data,path:n.path,parent:h}),ctx:h}}))).then(l);{let f;const h=[];for(const x of a){const k=S(E({},n),{common:S(E({},n.common),{issues:[]}),parent:null}),P=x._parseSync({data:n.data,path:n.path,parent:k});if(P.status==="valid")return P;P.status==="dirty"&&!f&&(f={result:P,ctx:k}),k.common.issues.length&&h.push(k.common.issues)}if(f)return n.common.issues.push(...f.ctx.common.issues),f.result;const g=h.map(x=>new nn(x));return Me(n,{code:xe.invalid_union,unionErrors:g}),Ue}}get options(){return this._def.options}}Mr.create=(e,t)=>new Mr(E({options:e,typeName:ze.ZodUnion},Xe(t)));class Yr extends Be{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Se.object)return Me(n,{code:xe.invalid_type,expected:Se.object,received:n.parsedType}),Ue;const a=this.discriminator,l=n.data[a],f=this.options.get(l);return f?n.common.async?f._parseAsync({data:n.data,path:n.path,parent:n}):f._parseSync({data:n.data,path:n.path,parent:n}):(Me(n,{code:xe.invalid_union_discriminator,options:this.validDiscriminatorValues,path:[a]}),Ue)}get discriminator(){return this._def.discriminator}get validDiscriminatorValues(){return Array.from(this.options.keys())}get options(){return this._def.options}static create(t,n,a){const l=new Map;try{n.forEach(f=>{const h=f.shape[t].value;l.set(h,f)})}catch{throw new Error("The discriminator value could not be extracted from all the provided schemas")}if(l.size!==n.length)throw new Error("Some of the discriminator values are not unique");return new Yr(E({typeName:ze.ZodDiscriminatedUnion,discriminator:t,options:l},Xe(a)))}}function Ta(e,t){const n=In(e),a=In(t);if(e===t)return{valid:!0,data:e};if(n===Se.object&&a===Se.object){const l=bt.objectKeys(t),f=bt.objectKeys(e).filter(g=>l.indexOf(g)!==-1),h=E(E({},e),t);for(const g of f){const x=Ta(e[g],t[g]);if(!x.valid)return{valid:!1};h[g]=x.data}return{valid:!0,data:h}}else if(n===Se.array&&a===Se.array){if(e.length!==t.length)return{valid:!1};const l=[];for(let f=0;f<e.length;f++){const h=e[f],g=t[f],x=Ta(h,g);if(!x.valid)return{valid:!1};l.push(x.data)}return{valid:!0,data:l}}else return n===Se.date&&a===Se.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Or extends Be{_parse(t){const{status:n,ctx:a}=this._processInputParams(t),l=(f,h)=>{if(rn(f)||rn(h))return Ue;const g=Ta(f.value,h.value);return g.valid?((ka(f)||ka(h))&&n.dirty(),{status:n.value,value:g.data}):(Me(a,{code:xe.invalid_intersection_types}),Ue)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([f,h])=>l(f,h)):l(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}Or.create=(e,t,n)=>new Or(E({left:e,right:t,typeName:ze.ZodIntersection},Xe(n)));class gt extends Be{_parse(t){const{status:n,ctx:a}=this._processInputParams(t);if(a.parsedType!==Se.array)return Me(a,{code:xe.invalid_type,expected:Se.array,received:a.parsedType}),Ue;if(a.data.length<this._def.items.length)return Me(a,{code:xe.too_small,minimum:this._def.items.length,inclusive:!0,type:"array"}),Ue;!this._def.rest&&a.data.length>this._def.items.length&&(Me(a,{code:xe.too_big,maximum:this._def.items.length,inclusive:!0,type:"array"}),n.dirty());const l=a.data.map((f,h)=>{const g=this._def.items[h]||this._def.rest;return g?g._parse(new gn(a,f,a.path,h)):null}).filter(f=>!!f);return a.common.async?Promise.all(l).then(f=>Lt.mergeArray(n,f)):Lt.mergeArray(n,l)}get items(){return this._def.items}rest(t){return new gt(S(E({},this._def),{rest:t}))}}gt.create=(e,t)=>new gt(E({items:e,typeName:ze.ZodTuple,rest:null},Xe(t)));class Nr extends Be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:a}=this._processInputParams(t);if(a.parsedType!==Se.object)return Me(a,{code:xe.invalid_type,expected:Se.object,received:a.parsedType}),Ue;const l=[],f=this._def.keyType,h=this._def.valueType;for(const g in a.data)l.push({key:f._parse(new gn(a,g,a.path,g)),value:h._parse(new gn(a,a.data[g],a.path,g))});return a.common.async?Lt.mergeObjectAsync(n,l):Lt.mergeObjectSync(n,l)}get element(){return this._def.valueType}static create(t,n,a){return n instanceof Be?new Nr(E({keyType:t,valueType:n,typeName:ze.ZodRecord},Xe(a))):new Nr(E({keyType:Gt.create(),valueType:t,typeName:ze.ZodRecord},Xe(n)))}}class Qr extends Be{_parse(t){const{status:n,ctx:a}=this._processInputParams(t);if(a.parsedType!==Se.map)return Me(a,{code:xe.invalid_type,expected:Se.map,received:a.parsedType}),Ue;const l=this._def.keyType,f=this._def.valueType,h=[...a.data.entries()].map(([g,x],k)=>({key:l._parse(new gn(a,g,a.path,[k,"key"])),value:f._parse(new gn(a,x,a.path,[k,"value"]))}));if(a.common.async){const g=new Map;return Promise.resolve().then(()=>V(this,null,function*(){for(const x of h){const k=yield x.key,P=yield x.value;if(k.status==="aborted"||P.status==="aborted")return Ue;(k.status==="dirty"||P.status==="dirty")&&n.dirty(),g.set(k.value,P.value)}return{status:n.value,value:g}}))}else{const g=new Map;for(const x of h){const k=x.key,P=x.value;if(k.status==="aborted"||P.status==="aborted")return Ue;(k.status==="dirty"||P.status==="dirty")&&n.dirty(),g.set(k.value,P.value)}return{status:n.value,value:g}}}}Qr.create=(e,t,n)=>new Qr(E({valueType:t,keyType:e,typeName:ze.ZodMap},Xe(n)));class Wn extends Be{_parse(t){const{status:n,ctx:a}=this._processInputParams(t);if(a.parsedType!==Se.set)return Me(a,{code:xe.invalid_type,expected:Se.set,received:a.parsedType}),Ue;const l=this._def;l.minSize!==null&&a.data.size<l.minSize.value&&(Me(a,{code:xe.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,message:l.minSize.message}),n.dirty()),l.maxSize!==null&&a.data.size>l.maxSize.value&&(Me(a,{code:xe.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,message:l.maxSize.message}),n.dirty());const f=this._def.valueType;function h(x){const k=new Set;for(const P of x){if(P.status==="aborted")return Ue;P.status==="dirty"&&n.dirty(),k.add(P.value)}return{status:n.value,value:k}}const g=[...a.data.values()].map((x,k)=>f._parse(new gn(a,x,a.path,k)));return a.common.async?Promise.all(g).then(x=>h(x)):h(g)}min(t,n){return new Wn(S(E({},this._def),{minSize:{value:t,message:ct.toString(n)}}))}max(t,n){return new Wn(S(E({},this._def),{maxSize:{value:t,message:ct.toString(n)}}))}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Wn.create=(e,t)=>new Wn(E({valueType:e,minSize:null,maxSize:null,typeName:ze.ZodSet},Xe(t)));class Un extends Be{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Se.function)return Me(n,{code:xe.invalid_type,expected:Se.function,received:n.parsedType}),Ue;function a(g,x){return Ur({data:g,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Sr,xr].filter(k=>!!k),issueData:{code:xe.invalid_arguments,argumentsError:x}})}function l(g,x){return Ur({data:g,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Sr,xr].filter(k=>!!k),issueData:{code:xe.invalid_return_type,returnTypeError:x}})}const f={errorMap:n.common.contextualErrorMap},h=n.data;return this._def.returns instanceof or?at((...g)=>V(this,null,function*(){const x=new nn([]),k=yield this._def.args.parseAsync(g,f).catch(F=>{throw x.addIssue(a(g,F)),x}),P=yield h(...k);return yield this._def.returns._def.type.parseAsync(P,f).catch(F=>{throw x.addIssue(l(P,F)),x})})):at((...g)=>{const x=this._def.args.safeParse(g,f);if(!x.success)throw new nn([a(g,x.error)]);const k=h(...x.data),P=this._def.returns.safeParse(k,f);if(!P.success)throw new nn([l(k,P.error)]);return P.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Un(S(E({},this._def),{args:gt.create(t).rest(Rt.create())}))}returns(t){return new Un(S(E({},this._def),{returns:t}))}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}}Un.create=(e,t,n)=>new Un(E({args:e?e.rest(Rt.create()):gt.create([]).rest(Rt.create()),returns:t||Rt.create(),typeName:ze.ZodFunction},Xe(n)));class Kr extends Be{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Kr.create=(e,t)=>new Kr(E({getter:e,typeName:ze.ZodLazy},Xe(t)));class yn extends Be{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Me(n,{code:xe.invalid_literal,expected:this._def.value}),Ue}return{status:"valid",value:t.data}}get value(){return this._def.value}}yn.create=(e,t)=>new yn(E({value:e,typeName:ze.ZodLiteral},Xe(t)));function Ti(e,t){return new ea(E({values:e,typeName:ze.ZodEnum},Xe(t)))}class ea extends Be{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),a=this._def.values;return Me(n,{expected:bt.joinValues(a),received:n.parsedType,code:xe.invalid_type}),Ue}if(this._def.values.indexOf(t.data)===-1){const n=this._getOrReturnCtx(t),a=this._def.values;return Me(n,{received:n.data,code:xe.invalid_enum_value,options:a}),Ue}return at(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}}ea.create=Ti;class At extends Be{_parse(t){const n=bt.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(t);if(a.parsedType!==Se.string&&a.parsedType!==Se.number){const l=bt.objectValues(n);return Me(a,{expected:bt.joinValues(l),received:a.parsedType,code:xe.invalid_type}),Ue}if(n.indexOf(t.data)===-1){const l=bt.objectValues(n);return Me(a,{received:a.data,code:xe.invalid_enum_value,options:l}),Ue}return at(t.data)}get enum(){return this._def.values}}At.create=(e,t)=>new At(E({values:e,typeName:ze.ZodNativeEnum},Xe(t)));class or extends Be{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Se.promise&&n.common.async===!1)return Me(n,{code:xe.invalid_type,expected:Se.promise,received:n.parsedType}),Ue;const a=n.parsedType===Se.promise?n.data:Promise.resolve(n.data);return at(a.then(l=>this._def.type.parseAsync(l,{path:n.path,errorMap:n.common.contextualErrorMap})))}}or.create=(e,t)=>new or(E({type:e,typeName:ze.ZodPromise},Xe(t)));class wn extends Be{innerType(){return this._def.schema}_parse(t){const{status:n,ctx:a}=this._processInputParams(t),l=this._def.effect||null;if(l.type==="preprocess"){const h=l.transform(a.data);return a.common.async?Promise.resolve(h).then(g=>this._def.schema._parseAsync({data:g,path:a.path,parent:a})):this._def.schema._parseSync({data:h,path:a.path,parent:a})}const f={addIssue:h=>{Me(a,h),h.fatal?n.abort():n.dirty()},get path(){return a.path}};if(f.addIssue=f.addIssue.bind(f),l.type==="refinement"){const h=g=>{const x=l.refinement(g,f);if(a.common.async)return Promise.resolve(x);if(x instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return g};if(a.common.async===!1){const g=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return g.status==="aborted"?Ue:(g.status==="dirty"&&n.dirty(),h(g.value),{status:n.value,value:g.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(g=>g.status==="aborted"?Ue:(g.status==="dirty"&&n.dirty(),h(g.value).then(()=>({status:n.value,value:g.value}))))}if(l.type==="transform")if(a.common.async===!1){const h=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!ir(h))return h;const g=l.transform(h.value,f);if(g instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:g}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(h=>ir(h)?Promise.resolve(l.transform(h.value,f)).then(g=>({status:n.value,value:g})):h);bt.assertNever(l)}}wn.create=(e,t,n)=>new wn(E({schema:e,typeName:ze.ZodEffects,effect:t},Xe(n))),wn.createWithPreprocess=(e,t,n)=>new wn(E({schema:t,effect:{type:"preprocess",transform:e},typeName:ze.ZodEffects},Xe(n)));class En extends Be{_parse(t){return this._getType(t)===Se.undefined?at(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}En.create=(e,t)=>new En(E({innerType:e,typeName:ze.ZodOptional},Xe(t)));class Zn extends Be{_parse(t){return this._getType(t)===Se.null?at(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Zn.create=(e,t)=>new Zn(E({innerType:e,typeName:ze.ZodNullable},Xe(t)));class _a extends Be{_parse(t){const{ctx:n}=this._processInputParams(t);let a=n.data;return n.parsedType===Se.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}_a.create=(e,t)=>new En(E({innerType:e,typeName:ze.ZodOptional},Xe(t)));class ta extends Be{_parse(t){if(this._getType(t)!==Se.nan){const n=this._getOrReturnCtx(t);return Me(n,{code:xe.invalid_type,expected:Se.nan,received:n.parsedType}),Ue}return{status:"valid",value:t.data}}}ta.create=e=>new ta(E({typeName:ze.ZodNaN},Xe(e)));const Pn=(e,t={},n)=>e?Rn.create().superRefine((a,l)=>{if(!e(a)){const f=typeof t=="function"?t(a):t,h=typeof f=="string"?{message:f}:f;l.addIssue(S(E({code:"custom"},h),{fatal:n}))}}):Rn.create(),_i={object:Et.lazycreate};var ze;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodPromise="ZodPromise"})(ze||(ze={}));const Ci=(e,t={message:`Input not instance of ${e.name}`})=>Pn(n=>n instanceof e,t,!0),Ca=Gt.create,Ma=Hn.create,Mi=ta.create,Oa=Zr.create,na=Gr.create,Oi=Jr.create,Ni=vn.create,Ii=Dn.create,Di=Rn.create,Ri=Rt.create,Ai=An.create,Pi=qr.create,Li=bn.create,ji=Et.create,Fi=Et.strictCreate,Na=Mr.create,Bi=Yr.create,Vi=Or.create,qa=gt.create,Xa=Nr.create,$i=Qr.create,ra=Wn.create,aa=Un.create,sr=Kr.create,an=yn.create,Ln=ea.create,Ya=At.create,Ir=or.create,Dr=wn.create,zi=En.create,Hi=Zn.create,Qa=wn.createWithPreprocess;var ye=Object.freeze({__proto__:null,getParsedType:In,ZodParsedType:Se,makeIssue:Ur,EMPTY_PATH:Si,addIssueToContext:Me,ParseStatus:Lt,INVALID:Ue,DIRTY:Sa,OK:at,isAborted:rn,isDirty:ka,isValid:ir,isAsync:kr,ZodType:Be,ZodString:Gt,ZodNumber:Hn,ZodBigInt:Zr,ZodBoolean:Gr,ZodDate:Jr,ZodUndefined:vn,ZodNull:Dn,ZodAny:Rn,ZodUnknown:Rt,ZodNever:An,ZodVoid:qr,ZodArray:bn,get objectUtil(){return Xr},ZodObject:Et,ZodUnion:Mr,ZodDiscriminatedUnion:Yr,ZodIntersection:Or,ZodTuple:gt,ZodRecord:Nr,ZodMap:Qr,ZodSet:Wn,ZodFunction:Un,ZodLazy:Kr,ZodLiteral:yn,ZodEnum:ea,ZodNativeEnum:At,ZodPromise:or,ZodEffects:wn,ZodTransformer:wn,ZodOptional:En,ZodNullable:Zn,ZodDefault:_a,ZodNaN:ta,custom:Pn,Schema:Be,ZodSchema:Be,late:_i,get ZodFirstPartyTypeKind(){return ze},any:Di,array:Li,bigint:Oa,boolean:na,date:Oi,discriminatedUnion:Bi,effect:Dr,enum:Ln,function:aa,instanceof:Ci,intersection:Vi,lazy:sr,literal:an,map:$i,nan:Mi,nativeEnum:Ya,never:Ai,null:Ii,nullable:Hi,number:Ma,object:ji,oboolean:()=>na().optional(),onumber:()=>Ma().optional(),optional:zi,ostring:()=>Ca().optional(),preprocess:Qa,promise:Ir,record:Xa,set:ra,strictObject:Fi,string:Ca,transformer:Dr,tuple:qa,undefined:Ni,union:Na,unknown:Ri,void:Pi,ZodIssueCode:xe,quotelessJson:Ei,ZodError:nn,defaultErrorMap:xr,get overrideErrorMap(){return Sr},setErrorMap:xi});const Ka=["dotnetspy","ebpfspy","gospy","phpspy","pyspy","rbspy","nodespy","javaspy","pyroscope-rs"],ia=["scrape","tracing","unknown"],fn=[...Ka,...ia],Gn=ye.preprocess(e=>!e||!fn.includes(e)?"unknown":e,ye.enum(fn).default("unknown")),Ia=ye.object({names:ye.array(ye.preprocess(e=>e||"unknown",ye.string().min(1))),levels:ye.array(ye.array(ye.number())),numTicks:ye.number(),maxSelf:ye.number()}),oa=["samples","objects","goroutines","bytes","lock_samples","lock_nanoseconds","trace_samples"],Da=ye.preprocess(e=>typeof e=="string"&&oa.includes(e)?e:"",ye.enum(["samples","objects","goroutines","bytes","lock_samples","lock_nanoseconds","trace_samples",""])),_n=ye.object({appName:ye.string().optional(),name:ye.string().optional(),startTime:ye.number().optional(),endTime:ye.number().optional(),query:ye.string().optional(),maxNodes:ye.number().optional(),format:ye.enum(["single","double"]),sampleRate:ye.number(),spyName:Gn,units:Da});ye.object({version:ye.number().min(1).max(1).default(1),flamebearer:Ia,metadata:_n,leftTicks:ye.number().optional(),rightTicks:ye.number().optional()});const Yt={format:"single",jStep:4,jName:3,getBarOffset:(e,t)=>e[t],getBarTotal:(e,t)=>e[t+1],getBarTotalDiff:(e,t)=>0,getBarSelf:(e,t)=>e[t+2],getBarSelfDiff:(e,t)=>0,getBarName:(e,t)=>e[t+3]},Jn={format:"double",jStep:7,jName:6,getBarOffset:(e,t)=>e[t]+e[t+3],getBarTotal:(e,t)=>e[t+4]+e[t+1],getBarTotalLeft:(e,t)=>e[t+1],getBarTotalRght:(e,t)=>e[t+4],getBarTotalDiff:(e,t)=>e[t+4]-e[t+1],getBarSelf:(e,t)=>e[t+5]+e[t+2],getBarSelfLeft:(e,t)=>e[t+2],getBarSelfRght:(e,t)=>e[t+5],getBarSelfDiff:(e,t)=>e[t+5]-e[t+2],getBarName:(e,t)=>e[t+6]};function lr(e){switch(e){case"single":return Yt;case"double":return Jn;default:throw new Error(`Unsupported type: '${e}'`)}}const sa=ye.object({refType:ye.string(),traceID:ye.string(),spanID:ye.string()}),jn=ye.object({key:ye.string(),type:ye.string(),value:ye.union([ye.boolean(),ye.number(),ye.string()])}),qn=ye.object({traceID:ye.string(),spanID:ye.string(),flags:ye.string(),operationName:ye.string(),references:ye.array(sa),startTime:ye.number(),duration:ye.number(),tags:ye.array(jn),logs:ye.object({timestamp:ye.number(),fields:ye.array(jn)}),processID:ye.string(),warnings:ye.any()}),cr=ye.object({serviceName:ye.string(),tags:ye.array(jn)});ye.object({traceID:ye.string(),spans:ye.array(qn),processes:ye.record(cr),warnings:ye.any()});const Ra=ye.object({watermark:ye.object({}).optional(),startTime:ye.number(),samples:ye.array(ye.number()),durationDelta:ye.number()});ye.record(ye.string(),Ra);const Xn=22,Aa=5,Wi=20,Rr=.5,xn=Xn-Rr;function Pa(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function y(e){return`${u(e)}%`}function u(e){return Math.round(1e4*e)/100}function b(e,t,n){switch(n){case"samples":return new I(e/t);case"objects":return new ne(e);case"goroutines":return new ne(e);case"bytes":return new le(e);case"lock_nanoseconds":return new G(e);case"lock_samples":return new ne(e);case"trace_samples":return new I(e/t,"",!0);default:return console.warn(`Unsupported unit: '${n}'. Defaulting to ''`),new I(e/t," ")}}class I{constructor(t,n,a){this.divider=1,this.enableSubsecondPrecision=!1,this.suffix="second",this.durations=[[60,"minute"],[60,"hour"],[24,"day"],[30,"month"],[12,"year"]],this.units="",a&&(this.enableSubsecondPrecision=a,this.durations=[[1e3,"ms"],[1e3,"second"],...this.durations],this.suffix="s",t*=1e6),this.units=n||"";for(let l=0;l<this.durations.length;l++){const f=this.durations[l];if(!f){console.warn("Could not calculate level");break}if(t>=f[0])this.divider*=f[0],t/=f[0],this.suffix=f[1];else break}}format(t,n){this.enableSubsecondPrecision&&(n/=1e6);const a=t/n/this.divider;let l=a.toFixed(2);return a===0?l="0.00":(a>=0&&a<.01||a<=0&&a>-.01)&&(l="< 0.01"),`${l} ${this.units||`${this.suffix}${a===1||this.suffix.length===2?"":"s"}`}`}}class G{constructor(t){this.divider=1,this.multiplier=1,this.suffix="second",this.durations=[[60,"minute"],[60,"hour"],[24,"day"],[30,"month"],[12,"year"]],t/=1e9;for(let n=0;n<this.durations.length;n++){const a=this.durations[n];if(!a){console.warn("Could not calculate level");break}if(t>=a[0])this.divider*=a[0],t/=a[0],this.suffix=a[1];else break}}format(t){const n=t/1e9/this.divider;let a=n.toFixed(2);return(n>=0&&n<.01||n<=0&&n>-.01)&&(a="< 0.01"),`${a} ${this.suffix}${n===1?"":"s"}`}}class ne{constructor(t){this.divider=1,this.suffix="",this.objects=[[1e3,"K"],[1e3,"M"],[1e3,"G"],[1e3,"T"],[1e3,"P"]];for(let n=0;n<this.objects.length;n++){const a=this.objects[n];if(!a){console.warn("Could not calculate level");break}if(t>=a[0])this.divider*=a[0],t/=a[0],this.suffix=a[1];else break}}format(t){const n=t/this.divider;let a=n.toFixed(2);return(n>=0&&n<.01||n<=0&&n>-.01)&&(a="< 0.01"),`${a} ${this.suffix}`}}class le{constructor(t){this.divider=1,this.suffix="bytes",this.bytes=[[1024,"KB"],[1024,"MB"],[1024,"GB"],[1024,"TB"],[1024,"PB"]];for(let n=0;n<this.bytes.length;n++){const a=this.bytes[n];if(!a){console.warn("Could not calculate level");break}if(t>=a[0]){this.divider*=a[0],t/=a[0];const l=a[1];l?this.suffix=l:(console.warn("Could not calculate suffix"),this.suffix="")}else break}}format(t){const n=t/this.divider;let a=n.toFixed(2);return(n>=0&&n<.01||n<=0&&n>-.01)&&(a="< 0.01"),`${a} ${this.suffix}`}}const Ee="TAIL",Ie="HEAD",Ve=3;function rt({mode:e,charSize:t,rectWidth:n,fullText:a,shortText:l}){switch(e){case Ee:if(t*a.length<=n)return{mode:e,text:a,marginLeft:Ve};const f=t*l.length;return f<=n?{mode:e,text:l,marginLeft:Ve}:{mode:e,text:l,marginLeft:-(f-n+Ve)};case Ie:default:return{mode:e,text:a,marginLeft:Ve}}}function ut(e){switch(e){case Ee:return{direction:"rtl",overflow:"hidden",textOverflow:"ellipsis"};case Ie:default:return{overflow:"hidden",textOverflow:"ellipsis"}}}function it(e,t,n,a){const l=Jn;if(!n||!a)return console.error("Properties 'rightTicks' and 'leftTicks' are required. Can't calculate ratio."),{leftRatio:0,rightRatio:0};const f=l.getBarTotalLeft(e,t)/n,h=l.getBarTotalRght(e,t)/a;return{leftRatio:f,rightRatio:h}}var lt=$(346),Ce=$.n(lt),It=Math.sqrt(50),jt=Math.sqrt(10),Ht=Math.sqrt(2);function Fn(e,t,n){var a,l=-1,f,h,g;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((a=t<e)&&(f=e,e=t,t=f),(g=ur(e,t,n))===0||!isFinite(g))return[];if(g>0){let x=Math.round(e/g),k=Math.round(t/g);for(x*g<e&&++x,k*g>t&&--k,h=new Array(f=k-x+1);++l<f;)h[l]=(x+l)*g}else{g=-g;let x=Math.round(e*g),k=Math.round(t*g);for(x/g<e&&++x,k/g>t&&--k,h=new Array(f=k-x+1);++l<f;)h[l]=(x+l)/g}return a&&h.reverse(),h}function ur(e,t,n){var a=(t-e)/Math.max(0,n),l=Math.floor(Math.log(a)/Math.LN10),f=a/Math.pow(10,l);return l>=0?(f>=It?10:f>=jt?5:f>=Ht?2:1)*Math.pow(10,l):-Math.pow(10,-l)/(f>=It?10:f>=jt?5:f>=Ht?2:1)}function Yn(e,t,n){var a=Math.abs(t-e)/Math.max(0,n),l=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),f=a/l;return f>=It?l*=10:f>=jt?l*=5:f>=Ht&&(l*=2),t<e?-l:l}function la(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Nl(e){let t=e,n=e,a=e;e.length!==2&&(t=(g,x)=>e(g)-x,n=la,a=(g,x)=>la(e(g),x));function l(g,x,k=0,P=g.length){if(k<P){if(n(x,x)!==0)return P;do{const F=k+P>>>1;a(g[F],x)<0?k=F+1:P=F}while(k<P)}return k}function f(g,x,k=0,P=g.length){if(k<P){if(n(x,x)!==0)return P;do{const F=k+P>>>1;a(g[F],x)<=0?k=F+1:P=F}while(k<P)}return k}function h(g,x,k=0,P=g.length){const F=l(g,x,k,P-1);return F>k&&t(g[F-1],x)>-t(g[F],x)?F-1:F}return{left:l,center:h,right:f}}function vd(e){return e===null?NaN:+e}const bd=Nl(la),yd=bd.right;Nl(vd).center;const wd=yd;function ss(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Il(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}function Ui(){}var Zi=.7,mo=1/Zi,ei="\\s*([+-]?\\d+)\\s*",Gi="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",fr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ed=/^#([0-9a-f]{3,8})$/,xd=new RegExp("^rgb\\("+[ei,ei,ei]+"\\)$"),Sd=new RegExp("^rgb\\("+[fr,fr,fr]+"\\)$"),kd=new RegExp("^rgba\\("+[ei,ei,ei,Gi]+"\\)$"),Td=new RegExp("^rgba\\("+[fr,fr,fr,Gi]+"\\)$"),_d=new RegExp("^hsl\\("+[Gi,fr,fr]+"\\)$"),Cd=new RegExp("^hsla\\("+[Gi,fr,fr,Gi]+"\\)$"),Dl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ss(Ui,Ji,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Rl,formatHex:Rl,formatHsl:Md,formatRgb:Al,toString:Al});function Rl(){return this.rgb().formatHex()}function Md(){return Bl(this).formatHsl()}function Al(){return this.rgb().formatRgb()}function Ji(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ed.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Pl(t):n===3?new Cn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?go(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?go(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=xd.exec(e))?new Cn(t[1],t[2],t[3],1):(t=Sd.exec(e))?new Cn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=kd.exec(e))?go(t[1],t[2],t[3],t[4]):(t=Td.exec(e))?go(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_d.exec(e))?Fl(t[1],t[2]/100,t[3]/100,1):(t=Cd.exec(e))?Fl(t[1],t[2]/100,t[3]/100,t[4]):Dl.hasOwnProperty(e)?Pl(Dl[e]):e==="transparent"?new Cn(NaN,NaN,NaN,0):null}function Pl(e){return new Cn(e>>16&255,e>>8&255,e&255,1)}function go(e,t,n,a){return a<=0&&(e=t=n=NaN),new Cn(e,t,n,a)}function Od(e){return e instanceof Ui||(e=Ji(e)),e?(e=e.rgb(),new Cn(e.r,e.g,e.b,e.opacity)):new Cn}function ls(e,t,n,a){return arguments.length===1?Od(e):new Cn(e,t,n,a??1)}function Cn(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}ss(Cn,ls,Il(Ui,{brighter:function(e){return e=e==null?mo:Math.pow(mo,e),new Cn(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?Zi:Math.pow(Zi,e),new Cn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ll,formatHex:Ll,formatRgb:jl,toString:jl}));function Ll(){return"#"+cs(this.r)+cs(this.g)+cs(this.b)}function jl(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function cs(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function Fl(e,t,n,a){return a<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new hr(e,t,n,a)}function Bl(e){if(e instanceof hr)return new hr(e.h,e.s,e.l,e.opacity);if(e instanceof Ui||(e=Ji(e)),!e)return new hr;if(e instanceof hr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,a=e.b/255,l=Math.min(t,n,a),f=Math.max(t,n,a),h=NaN,g=f-l,x=(f+l)/2;return g?(t===f?h=(n-a)/g+(n<a)*6:n===f?h=(a-t)/g+2:h=(t-n)/g+4,g/=x<.5?f+l:2-f-l,h*=60):g=x>0&&x<1?0:h,new hr(h,g,x,e.opacity)}function Nd(e,t,n,a){return arguments.length===1?Bl(e):new hr(e,t,n,a??1)}function hr(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}ss(hr,Nd,Il(Ui,{brighter:function(e){return e=e==null?mo:Math.pow(mo,e),new hr(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Zi:Math.pow(Zi,e),new hr(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,l=2*n-a;return new Cn(us(e>=240?e-240:e+120,l,a),us(e,l,a),us(e<120?e+240:e-120,l,a),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function us(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const fs=e=>()=>e;function Id(e,t){return function(n){return e+n*t}}function Dd(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(a){return Math.pow(e+a*t,n)}}function Rd(e){return(e=+e)==1?Vl:function(t,n){return n-t?Dd(t,n,e):fs(isNaN(t)?n:t)}}function Vl(e,t){var n=t-e;return n?Id(e,n):fs(isNaN(e)?t:e)}const $l=function e(t){var n=Rd(t);function a(l,f){var h=n((l=ls(l)).r,(f=ls(f)).r),g=n(l.g,f.g),x=n(l.b,f.b),k=Vl(l.opacity,f.opacity);return function(P){return l.r=h(P),l.g=g(P),l.b=x(P),l.opacity=k(P),l+""}}return a.gamma=e,a}(1);function Ad(e,t){var n=t?t.length:0,a=e?Math.min(n,e.length):0,l=new Array(a),f=new Array(n),h;for(h=0;h<a;++h)l[h]=ps(e[h],t[h]);for(;h<n;++h)f[h]=t[h];return function(g){for(h=0;h<a;++h)f[h]=l[h](g);return f}}function Pd(e,t){var n=new Date;return e=+e,t=+t,function(a){return n.setTime(e*(1-a)+t*a),n}}function vo(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Ld(e,t){var n={},a={},l;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(l in t)l in e?n[l]=ps(e[l],t[l]):a[l]=t[l];return function(f){for(l in n)a[l]=n[l](f);return a}}var hs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ds=new RegExp(hs.source,"g");function jd(e){return function(){return e}}function Fd(e){return function(t){return e(t)+""}}function Bd(e,t){var n=hs.lastIndex=ds.lastIndex=0,a,l,f,h=-1,g=[],x=[];for(e=e+"",t=t+"";(a=hs.exec(e))&&(l=ds.exec(t));)(f=l.index)>n&&(f=t.slice(n,f),g[h]?g[h]+=f:g[++h]=f),(a=a[0])===(l=l[0])?g[h]?g[h]+=l:g[++h]=l:(g[++h]=null,x.push({i:h,x:vo(a,l)})),n=ds.lastIndex;return n<t.length&&(f=t.slice(n),g[h]?g[h]+=f:g[++h]=f),g.length<2?x[0]?Fd(x[0].x):jd(t):(t=x.length,function(k){for(var P=0,F;P<t;++P)g[(F=x[P]).i]=F.x(k);return g.join("")})}function Vd(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,a=t.slice(),l;return function(f){for(l=0;l<n;++l)a[l]=e[l]*(1-f)+t[l]*f;return a}}function $d(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ps(e,t){var n=typeof t,a;return t==null||n==="boolean"?fs(t):(n==="number"?vo:n==="string"?(a=Ji(t))?(t=a,$l):Bd:t instanceof Ji?$l:t instanceof Date?Pd:$d(t)?Vd:Array.isArray(t)?Ad:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ld:vo)(e,t)}function zd(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Hd(e){return function(){return e}}function Wd(e){return+e}var zl=[0,1];function ti(e){return e}function ms(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Hd(isNaN(t)?NaN:.5)}function Ud(e,t){var n;return e>t&&(n=e,e=t,t=n),function(a){return Math.max(e,Math.min(t,a))}}function Zd(e,t,n){var a=e[0],l=e[1],f=t[0],h=t[1];return l<a?(a=ms(l,a),f=n(h,f)):(a=ms(a,l),f=n(f,h)),function(g){return f(a(g))}}function Gd(e,t,n){var a=Math.min(e.length,t.length)-1,l=new Array(a),f=new Array(a),h=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++h<a;)l[h]=ms(e[h],e[h+1]),f[h]=n(t[h],t[h+1]);return function(g){var x=wd(e,g,1,a)-1;return f[x](l[x](g))}}function Jd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function qd(){var e=zl,t=zl,n=ps,a,l,f,h=ti,g,x,k;function P(){var Y=Math.min(e.length,t.length);return h!==ti&&(h=Ud(e[0],e[Y-1])),g=Y>2?Gd:Zd,x=k=null,F}function F(Y){return Y==null||isNaN(Y=+Y)?f:(x||(x=g(e.map(a),t,n)))(a(h(Y)))}return F.invert=function(Y){return h(l((k||(k=g(t,e.map(a),vo)))(Y)))},F.domain=function(Y){return arguments.length?(e=Array.from(Y,Wd),P()):e.slice()},F.range=function(Y){return arguments.length?(t=Array.from(Y),P()):t.slice()},F.rangeRound=function(Y){return t=Array.from(Y),n=zd,P()},F.clamp=function(Y){return arguments.length?(h=Y?!0:ti,P()):h!==ti},F.interpolate=function(Y){return arguments.length?(n=Y,P()):n},F.unknown=function(Y){return arguments.length?(f=Y,F):f},function(Y,ce){return a=Y,l=ce,P()}}function Xd(){return qd()(ti,ti)}function Yd(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}var Qd=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bo(e){if(!(t=Qd.exec(e)))throw new Error("invalid format: "+e);var t;return new gs({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}bo.prototype=gs.prototype;function gs(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}gs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Kd(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function yo(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,a=e.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+e.slice(n+1)]}function ni(e){return e=yo(Math.abs(e)),e?e[1]:NaN}function ep(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ni(t)/3)))*3-ni(Math.abs(e)))}function tp(e,t){return function(n,a){for(var l=n.length,f=[],h=0,g=e[0],x=0;l>0&&g>0&&(x+g+1>a&&(g=Math.max(1,a-x)),f.push(n.substring(l-=g,l+g)),!((x+=g+1)>a));)g=e[h=(h+1)%e.length];return f.reverse().join(t)}}function np(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}function rp(e){e:for(var t=e.length,n=1,a=-1,l;n<t;++n)switch(e[n]){case".":a=l=n;break;case"0":a===0&&(a=n),l=n;break;default:if(!+e[n])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(l+1):e}var Hl;function ap(e,t){var n=yo(e,t);if(!n)return e+"";var a=n[0],l=n[1],f=l-(Hl=Math.max(-8,Math.min(8,Math.floor(l/3)))*3)+1,h=a.length;return f===h?a:f>h?a+new Array(f-h+1).join("0"):f>0?a.slice(0,f)+"."+a.slice(f):"0."+new Array(1-f).join("0")+yo(e,Math.max(0,t+f-1))[0]}function Wl(e,t){var n=yo(e,t);if(!n)return e+"";var a=n[0],l=n[1];return l<0?"0."+new Array(-l).join("0")+a:a.length>l+1?a.slice(0,l+1)+"."+a.slice(l+1):a+new Array(l-a.length+2).join("0")}const Ul={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Kd,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Wl(e*100,t),r:Wl,s:ap,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Zl(e){return e}var Gl=Array.prototype.map,Jl=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ip(e){var t=e.grouping===void 0||e.thousands===void 0?Zl:tp(Gl.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",l=e.decimal===void 0?".":e.decimal+"",f=e.numerals===void 0?Zl:np(Gl.call(e.numerals,String)),h=e.percent===void 0?"%":e.percent+"",g=e.minus===void 0?"":e.minus+"",x=e.nan===void 0?"NaN":e.nan+"";function k(F){F=bo(F);var Y=F.fill,ce=F.align,oe=F.sign,de=F.symbol,re=F.zero,ee=F.width,Oe=F.comma,De=F.precision,Ye=F.trim,Re=F.type;Re==="n"?(Oe=!0,Re="g"):Ul[Re]||(De===void 0&&(De=12),Ye=!0,Re="g"),(re||Y==="0"&&ce==="=")&&(re=!0,Y="0",ce="=");var et=de==="$"?n:de==="#"&&/[boxX]/.test(Re)?"0"+Re.toLowerCase():"",he=de==="$"?a:/[%p]/.test(Re)?h:"",ke=Ul[Re],Ae=/[defgprs%]/.test(Re);De=De===void 0?6:/[gprs]/.test(Re)?Math.max(1,Math.min(21,De)):Math.max(0,Math.min(20,De));function Fe(_e){var Ze=et,je=he,ft,Pt,yt;if(Re==="c")je=ke(_e)+je,_e="";else{_e=+_e;var ht=_e<0||1/_e<0;if(_e=isNaN(_e)?x:ke(Math.abs(_e),De),Ye&&(_e=rp(_e)),ht&&+_e==0&&oe!=="+"&&(ht=!1),Ze=(ht?oe==="("?oe:g:oe==="-"||oe==="("?"":oe)+Ze,je=(Re==="s"?Jl[8+Hl/3]:"")+je+(ht&&oe==="("?")":""),Ae){for(ft=-1,Pt=_e.length;++ft<Pt;)if(yt=_e.charCodeAt(ft),48>yt||yt>57){je=(yt===46?l+_e.slice(ft+1):_e.slice(ft))+je,_e=_e.slice(0,ft);break}}}Oe&&!re&&(_e=t(_e,1/0));var Ge=Ze.length+_e.length+je.length,He=Ge<ee?new Array(ee-Ge+1).join(Y):"";switch(Oe&&re&&(_e=t(He+_e,He.length?ee-je.length:1/0),He=""),ce){case"<":_e=Ze+_e+je+He;break;case"=":_e=Ze+He+_e+je;break;case"^":_e=He.slice(0,Ge=He.length>>1)+Ze+_e+je+He.slice(Ge);break;default:_e=He+Ze+_e+je;break}return f(_e)}return Fe.toString=function(){return F+""},Fe}function P(F,Y){var ce=k((F=bo(F),F.type="f",F)),oe=Math.max(-8,Math.min(8,Math.floor(ni(Y)/3)))*3,de=Math.pow(10,-oe),re=Jl[8+oe/3];return function(ee){return ce(de*ee)+re}}return{format:k,formatPrefix:P}}var wo,ql,Xl;op({thousands:",",grouping:[3],currency:["$",""]});function op(e){return wo=ip(e),ql=wo.format,Xl=wo.formatPrefix,wo}function sp(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ni(t)-ni(e))+1}function lp(e){return Math.max(0,-ni(Math.abs(e)))}function cp(e,t,n,a){var l=Yn(e,t,n),f;switch(a=bo(a??",f"),a.type){case"s":{var h=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(f=ep(l,h))&&(a.precision=f),Xl(a,h)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(f=sp(l,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=f-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(f=lp(l))&&(a.precision=f-(a.type==="%")*2);break}}return ql(a)}function up(e){var t=e.domain;return e.ticks=function(n){var a=t();return Fn(a[0],a[a.length-1],n??10)},e.tickFormat=function(n,a){var l=t();return cp(l[0],l[l.length-1],n??10,a)},e.nice=function(n){n==null&&(n=10);var a=t(),l=0,f=a.length-1,h=a[l],g=a[f],x,k,P=10;for(g<h&&(k=h,h=g,g=k,k=l,l=f,f=k);P-- >0;){if(k=ur(h,g,n),k===x)return a[l]=h,a[f]=g,t(a);if(k>0)h=Math.floor(h/k)*k,g=Math.ceil(g/k)*k;else if(k<0)h=Math.ceil(h*k)/k,g=Math.floor(g*k)/k;else break;x=k}return e},e}function Yl(){var e=Xd();return e.copy=function(){return Jd(e,Yl())},Yd.apply(e,arguments),up(e)}function fp(e,t=0){let n,a,l,f,h,g,x,k;for(n=e.length&3,a=e.length-n,l=t,h=3432918353,g=461845907,k=0;k<a;)x=e.charCodeAt(k)&255|(e.charCodeAt(++k)&255)<<8|(e.charCodeAt(++k)&255)<<16|(e.charCodeAt(++k)&255)<<24,++k,x=(x&65535)*h+(((x>>>16)*h&65535)<<16)&4294967295,x=x<<15|x>>>17,x=(x&65535)*g+(((x>>>16)*g&65535)<<16)&4294967295,l^=x,l=l<<13|l>>>19,f=(l&65535)*5+(((l>>>16)*5&65535)<<16)&4294967295,l=(f&65535)+27492+(((f>>>16)+58964&65535)<<16);switch(x=0,n){case 3:x^=(e.charCodeAt(k+2)&255)<<16;case 2:x^=(e.charCodeAt(k+1)&255)<<8;case 1:x^=e.charCodeAt(k)&255;default:x=(x&65535)*h+(((x>>>16)*h&65535)<<16)&4294967295,x=x<<15|x>>>17,x=(x&65535)*g+(((x>>>16)*g&65535)<<16)&4294967295,l^=x}return l^=e.length,l^=l>>>16,l=(l&65535)*2246822507+(((l>>>16)*2246822507&65535)<<16)&4294967295,l^=l>>>13,l=(l&65535)*3266489909+(((l>>>16)*3266489909&65535)<<16)&4294967295,l^=l>>>16,l>>>0}const Ql=Ce().rgb(148,142,142);Ce().rgb(200,0,0),Ce().rgb(0,170,0),Ce()("#48CE73");function hp(e,t,n){const a=dp(t,n);return nc(e)(a)}function dp(e,t){if(e===t)return 0;if(e===0)return 100;const n=(t-e)/e*100;return n>100?100:n<-100?-100:n}function Kl(e,t){return Ce().rgb(e,e,e).alpha(t)}function pp(e){switch(e){case"dotnetspy":return/^(?<packageName>.+)\.(.+)\.(.+)\(.*\)$/;case"ebpfspy":return/^(?<packageName>.+)$/;case"gospy":return/^(?<packageName>.*?\/.*?\.|.*?\.|.+)(?<functionName>.*)$/;case"scrape":return/^(?<packageName>.*?\/.*?\.|.*?\.|.+)(?<functionName>.*)$/;case"phpspy":return/^(?<packageName>(.*\/)*)(?<filename>.*\.php+)(?<line_info>.*)$/;case"pyspy":return/^(?<packageName>(.*\/)*)(?<filename>.*\.py+)(?<line_info>.*)$/;case"rbspy":return/^(?<packageName>(.*\/)*)(?<filename>.*\.rb+)(?<line_info>.*)$/;case"nodespy":return/^(\.\/node_modules\/)?(?<packageName>[^/]*)(?<filename>.*\.?(jsx?|tsx?)?):(?<functionName>.*):(?<line_info>.*)$/;case"tracing":return/^(?<packageName>.+?):.*$/;case"javaspy":return/^(?<packageName>.+\/)(?<filename>.+\.)(?<functionName>.+)$/;case"pyroscope-rs":return/^(?<packageName>[^::]+)/;case"unknown":return/^(?<packageName>.+)$/}return/^(?<packageName>.+)$/}function ec(e,t){if(t.length===0)return t;const n=pp(e),a=t.match(n);return a&&a.groups?a.groups.packageName||"":t}function tc(e,t){const n=fp(t,0)%e.colors.length;return e.colors[n]||(console.warn("Could not calculate color. Defaulting to the first one"),e.colors[0])}function nc(e){const{goodColor:t,neutralColor:n,badColor:a}=e,l=Yl().domain([-100,0,100]).range([t.rgb().toString(),n.rgb().toString(),a.rgb().toString()]);return f=>Ce()(l(f).toString())}function rc(e,t){return t.toLowerCase().includes(e.toLowerCase())}var mp=Object.defineProperty,gp=Object.defineProperties,vp=Object.getOwnPropertyDescriptors,ac=Object.getOwnPropertySymbols,bp=Object.prototype.hasOwnProperty,yp=Object.prototype.propertyIsEnumerable,ic=(e,t,n)=>t in e?mp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oc=(e,t)=>{for(var n in t||(t={}))bp.call(t,n)&&ic(e,n,t[n]);if(ac)for(var n of ac(t))yp.call(t,n)&&ic(e,n,t[n]);return e},wp=(e,t)=>gp(e,vp(t));function sc(e){const{canvas:t,fitMode:n,units:a,tickToX:l,levels:f,palette:h}=e,{numTicks:g,sampleRate:x,pxPerTick:k}=e,{rangeMin:P,rangeMax:F}=e,{focusedNode:Y,zoom:ce}=e,oe=Tp(t);if(t.width=oe,P>=F)throw new Error("'rangeMin' should be strictly smaller than 'rangeMax'");const{format:de}=e,re=lr(de),ee=t.getContext("2d");if(!ee)throw new Error("Could not get ctx");const Oe=ce.mapOrElse(()=>0,ke=>ke.i),De=b(g,x,a),Ye=Y.isJust,Re=Y.mapOrElse(()=>0,ke=>ke.i),et=Xn*(f.length-Re)+(Ye?xn:0);t.height=et,devicePixelRatio>1&&(t.width*=2,t.height*=2,ee.scale(2,2));const{names:he}=e;if(Ye){const ke=g*k;ee.beginPath(),ee.rect(0,0,g*k,xn),ee.fillStyle=Kl(200,1).rgb().string(),ee.fill();const Ae=Y.mapOrElse(()=>"total",yt=>`total (${yt.i-1} level(s) collapsed)`);ee.textBaseline="middle",ee.font="400 11.5px SFMono-Regular, Consolas, Liberation Mono, Menlo, monospace";const Fe=ee.measureText("a").width,_e=rt({mode:n,charSize:Fe,rectWidth:ke,fullText:Ae,shortText:Ae}),Ze=0,je=0,ft=xn;ee.save(),ee.clip(),ee.fillStyle="black";const Pt=Math.round(Math.max(Ze,0));ee.fillText(_e.text,Pt+_e.marginLeft,je+ft/2+1),ee.restore()}for(let ke=0;ke<f.length-Re;ke+=1){const Ae=f[Re+ke];if(!Ae)throw new Error(`Could not find level: ${Re+ke}`);for(let Fe=0;Fe<Ae.length;Fe+=re.jStep){const _e=re.getBarOffset(Ae,Fe),Ze=l(_e),je=ke*Xn+(Ye?xn:0),ft=xn,Pt=!!e.highlightQuery&&e.highlightQuery.length>0,yt=cc(Fe+re.jName,Ae,he,e.highlightQuery);let ht=re.getBarTotal(Ae,Fe);const Ge=ht*k<=Aa;if(Ge)for(;Fe<Ae.length-re.jStep&&_e+ht===re.getBarOffset(Ae,Fe+re.jStep)&&re.getBarTotal(Ae,Fe+re.jStep)*k<=Aa&&yt===(e.highlightQuery&&cc(Fe+re.jStep+re.jName,Ae,he,e.highlightQuery)||!1);)Fe+=re.jStep,ht+=re.getBarTotal(Ae,Fe);const He=ht*k-(Ge?0:Rr),{spyName:Ft}=e,on=(()=>{const Vt={level:Ae,j:Fe,i:ke+Y.mapOrElse(()=>0,Qt=>Qt.i),names:he,collapsed:Ge,selectedLevel:Oe,highlightModeOn:Pt,isHighlighted:yt,spyName:Ft,palette:h};switch(de){case"single":return Sp(oc({},Vt));case"double":return kp(wp(oc({},Vt),{leftTicks:e.leftTicks,rightTicks:e.rightTicks}));default:throw new Error(`Unsupported format: ${de}`)}})();if(ee.beginPath(),ee.rect(Ze,je,He,ft),ee.fillStyle=on.string(),ee.fill(),Ge||He<Wi)continue;const Bt=Ep(he,Fe,de,Ae),Nn=xp(Bt,ht,g,x,De);ee.textBaseline="middle",ee.font="400 11.5px SFMono-Regular, Consolas, Liberation Mono, Menlo, monospace";const Ut=ee.measureText("a").width,tr=rt({mode:n,charSize:Ut,rectWidth:He,fullText:Nn,shortText:Bt});ee.save(),ee.clip(),ee.fillStyle="black";const dn=Math.round(Math.max(Ze,0));ee.fillText(tr.text,dn+tr.marginLeft,je+ft/2+1),ee.restore()}}}function Ep(e,t,n,a){const l=lr(n);let f=a[t+l.jName];return f===void 0&&(f=-1),e[f]||(console.warn("Could not find function name for",{j:t,format:n,level:a,names:e}),"")}function xp(e,t,n,a,l){const f=t/n,h=y(f);return`${e} (${h}, ${l.format(t,a)})`}function lc({collapsed:e,highlightModeOn:t,isHighlighted:n}){return e||t&&!n?Kl(200,.66):null}function Sp(e){const t=lc(e);if(t)return t;const n=lr("single"),a=e.selectedLevel>e.i?.33:1;let l=e.level[e.j+n.jName];l===void 0&&(console.warn("Could nto find level",{l:e.j,jName:n.jName,level:e.level}),l=-1);const f=e.names[l]||"",h=ec(e.spyName,f)||"";return tc(e.palette,h).alpha(a)}function kp(e){const t=lc(e);if(t)return t;const n=e.selectedLevel>e.i?.33:1,{leftRatio:a,rightRatio:l}=it(e.level,e.j,e.leftTicks,e.rightTicks),f=u(a),h=u(l);return hp(e.palette,f,h).alpha(n)}function cc(e,t,n,a){const l=t[e];if(!l)return!1;const f=n[l];return f?rc(a,f):!1}function Tp(e){return e.clientWidth||e.width}var _p=Object.defineProperty,Cp=Object.defineProperties,Mp=Object.getOwnPropertyDescriptors,uc=Object.getOwnPropertySymbols,Op=Object.prototype.hasOwnProperty,Np=Object.prototype.propertyIsEnumerable,fc=(e,t,n)=>t in e?_p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Eo=(e,t)=>{for(var n in t||(t={}))Op.call(t,n)&&fc(e,n,t[n]);if(uc)for(var n of uc(t))Np.call(t,n)&&fc(e,n,t[n]);return e},hc=(e,t)=>Cp(e,Mp(t));class dc{constructor(t,n,a,l,f,h,g){if(this.flamebearer=t,this.canvas=n,this.focusedNode=a,this.fitMode=l,this.highlightQuery=f,this.zoom=h,this.palette=g,this.tickToX=x=>{const{rangeMin:k}=this.getRange();return(x-this.flamebearer.numTicks*k)*this.pxPerTick()},this.xyToBarPosition=x=>{const{ff:k}=this,{i:P,j:F}=this.xyToBarIndex(x.x,x.y),Y=this.focusedNode.mapOrElse(()=>0,ee=>ee.i<0?0:ee.i-1),ce=this.flamebearer.levels[P];if(!ce)throw new Error(`Could not find level: '${P}'`);const oe=Math.max(this.tickToX(k.getBarOffset(ce,F)),0),de=Math.max((P-Y)*Xn,0),re=Math.min(this.tickToX(k.getBarOffset(ce,F)+k.getBarTotal(ce,F))-oe,this.getCanvasWidth());return{x:oe,y:de,width:re}},this.xyToBarData=x=>{const{i:k,j:P}=this.xyToBarIndex(x.x,x.y),F=this.flamebearer.levels[k];if(!F)throw new Error(`Could not find level: '${k}'`);switch(this.flamebearer.format){case"single":{const Y=Yt;return{format:"single",name:this.flamebearer.names[Y.getBarName(F,P)],self:Y.getBarSelf(F,P),offset:Y.getBarOffset(F,P),total:Y.getBarTotal(F,P)}}case"double":{const Y=Jn;return{format:"double",barTotal:Y.getBarTotal(F,P),totalLeft:Y.getBarTotalLeft(F,P),totalRight:Y.getBarTotalRght(F,P),totalDiff:Y.getBarTotalDiff(F,P),name:this.flamebearer.names[Y.getBarName(F,P)]}}default:throw new Error("Unsupported type")}},this.isWithinBounds=(x,k)=>{if(x<0||x>this.getCanvasWidth())return!1;try{const{i:P,j:F}=this.xyToBarIndex(x,k);if(F===-1||P===-1)return!1}catch{return!1}return!0},this.zoom=h,this.focusedNode=a,this.flamebearer=t,this.canvas=n,this.highlightQuery=f,this.ff=lr(t.format),this.palette=g,a.isJust&&h.isJust&&h.value.i<a.value.i)throw new Error("Zoom i level should be bigger than Focus")}render(){const{rangeMin:t,rangeMax:n}=this.getRange(),a={canvas:this.canvas,format:this.flamebearer.format,numTicks:this.flamebearer.numTicks,sampleRate:this.flamebearer.sampleRate,names:this.flamebearer.names,levels:this.flamebearer.levels,spyName:this.flamebearer.spyName,units:this.flamebearer.units,maxSelf:this.flamebearer.maxSelf,rangeMin:t,rangeMax:n,fitMode:this.fitMode,highlightQuery:this.highlightQuery,zoom:this.zoom,focusedNode:this.focusedNode,pxPerTick:this.pxPerTick(),tickToX:this.tickToX,palette:this.palette},{format:l}=this.flamebearer;switch(l){case"single":{sc(hc(Eo({},a),{format:"single"}));break}case"double":{sc(hc(Eo({},a),{leftTicks:this.flamebearer.leftTicks,rightTicks:this.flamebearer.rightTicks}));break}default:throw new Error(`Invalid format: '${l}'`)}}pxPerTick(){const{rangeMin:t,rangeMax:n}=this.getRange();return this.getCanvasWidth()/this.flamebearer.numTicks/(n-t)}getRange(){const{ff:t}=this,n=h=>{const g=this.flamebearer.levels[h.i];if(!g)throw new Error(`Could not find level: '${h.i}'`);const x=t.getBarOffset(g,h.j)/this.flamebearer.numTicks,k=(t.getBarOffset(g,h.j)+t.getBarTotal(g,h.j))/this.flamebearer.numTicks;return{rangeMin:x,rangeMax:k}},a=h=>{const g=this.flamebearer.levels[h.i];if(!g)throw new Error(`Could not find level: '${h.i}'`);const x=t.getBarOffset(g,h.j)/this.flamebearer.numTicks,k=(t.getBarOffset(g,h.j)+t.getBarTotal(g,h.j))/this.flamebearer.numTicks;return{rangeMin:x,rangeMax:k}},{zoom:l,focusedNode:f}=this;return l.match({Just:h=>f.match({Just:g=>{const x=a(g),k=n(h);return x.rangeMax-x.rangeMin<k.rangeMax-k.rangeMin?(console.warn("Focus is smaller than range, this shouldnt happen. Verify that the zoom is always bigger than the focus."),a(g)):n(h)},Nothing:()=>n(h)}),Nothing:()=>f.match({Just:h=>a(h),Nothing:()=>({rangeMin:0,rangeMax:1})})})}getCanvasWidth(){return this.canvas.clientWidth||this.canvas.width}isFocused(){return this.focusedNode.isJust}binarySearchLevel(t,n){const{ff:a}=this;let l=0,f=n.length-a.jStep;for(;l<=f;){const h=a.jStep*(l/a.jStep+f/a.jStep>>1),g=this.tickToX(a.getBarOffset(n,h)),x=this.tickToX(a.getBarOffset(n,h)+a.getBarTotal(n,h));if(g<=t&&x>=t)return x-g>Aa?h:-1;g>t?f=h-a.jStep:l=h+a.jStep}return-1}xyToBarIndex(t,n){if(t<0||n<0)throw new Error(`x and y must be bigger than 0. x = ${t}, y = ${n}`);if(this.isFocused()&&n<=xn)return{i:0,j:0};const a=this.isFocused()?n-xn:n,l=this.focusedNode.mapOrElse(()=>0,g=>g.i<=0?0:g.i),f=this.zoom.match({Just:()=>this.focusedNode.match({Just:()=>l,Nothing:()=>0}),Nothing:()=>this.focusedNode.match({Just:()=>l,Nothing:()=>0})}),h=Math.floor(a/Xn)+f;if(h>=0&&h<this.flamebearer.levels.length){const g=this.flamebearer.levels[h];if(!g)throw new Error(`Could not find level: '${h}'`);const x=this.binarySearchLevel(t,g);return{i:h,j:x}}return{i:0,j:0}}parseXY(t,n){const a=this.isWithinBounds(t,n),l={x:t,y:n};return a?zt.of(l):zt.nothing()}xyToBar(t,n){return this.parseXY(t,n).map(a=>{const{i:l,j:f}=this.xyToBarIndex(t,n),h=this.xyToBarPosition(a),g=this.xyToBarData(a);return Eo(Eo({i:l,j:f},h),g)})}}function pc(e){var t,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=pc(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function Ar(){for(var e=0,t,n,a="";e<arguments.length;)(t=arguments[e++])&&(n=pc(t))&&(a&&(a+=" "),a+=n);return a}/*!
* Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com
* License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
*/function qi(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qi=function(t){return typeof t}:qi=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qi(e)}function Ip(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mc(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Dp(e,t,n){return t&&mc(e.prototype,t),n&&mc(e,n),e}function Rp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},a=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable}))),a.forEach(function(l){Rp(e,l,n[l])})}return e}function gc(e,t){return Ap(e)||Pp(e,t)||Lp()}function Ap(e){if(Array.isArray(e))return e}function Pp(e,t){var n=[],a=!0,l=!1,f=void 0;try{for(var h=e[Symbol.iterator](),g;!(a=(g=h.next()).done)&&(n.push(g.value),!(t&&n.length===t));a=!0);}catch(x){l=!0,f=x}finally{try{!a&&h.return!=null&&h.return()}finally{if(l)throw f}}return n}function Lp(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var vc=function(){},vs={},bc={},jp=null,yc={mark:vc,measure:vc};try{typeof window<"u"&&(vs=window),typeof document<"u"&&(bc=document),typeof MutationObserver<"u"&&(jp=MutationObserver),typeof performance<"u"&&(yc=performance)}catch{}var Fp=vs.navigator||{},wc=Fp.userAgent,Ec=wc===void 0?"":wc,xo=vs,hn=bc,So=yc;xo.document;var bs=!!hn.documentElement&&!!hn.head&&typeof hn.addEventListener=="function"&&typeof hn.createElement=="function";~Ec.indexOf("MSIE")||~Ec.indexOf("Trident/");var Pr="___FONT_AWESOME___",xc="fa",Sc="svg-inline--fa",Bp="data-fa-i2svg";(function(){try{return!0}catch{return!1}})();var ys={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},kc=xo.FontAwesomeConfig||{};function Vp(e){var t=hn.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function $p(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}if(hn&&typeof hn.querySelector=="function"){var zp=[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];zp.forEach(function(e){var t=gc(e,2),n=t[0],a=t[1],l=$p(Vp(n));l!=null&&(kc[a]=l)})}var Hp={familyPrefix:xc,replacementClass:Sc,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},ws=pt({},Hp,kc);ws.autoReplaceSvg||(ws.observeMutations=!1);var Mn=pt({},ws);xo.FontAwesomeConfig=Mn;var Lr=xo||{};Lr[Pr]||(Lr[Pr]={}),Lr[Pr].styles||(Lr[Pr].styles={}),Lr[Pr].hooks||(Lr[Pr].hooks={}),Lr[Pr].shims||(Lr[Pr].shims=[]);var dr=Lr[Pr],Wp=[],Up=function e(){hn.removeEventListener("DOMContentLoaded",e),Es=1,Wp.map(function(t){return t()})},Es=!1;bs&&(Es=(hn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(hn.readyState),Es||hn.addEventListener("DOMContentLoaded",Up));var xs="pending",Tc="settled",ko="fulfilled",To="rejected",Zp=function(){},_c=typeof $.g<"u"&&typeof $.g.process<"u"&&typeof $.g.process.emit=="function",Gp=typeof setImmediate>"u"?setTimeout:setImmediate,Xi=[],Ss;function Jp(){for(var e=0;e<Xi.length;e++)Xi[e][0](Xi[e][1]);Xi=[],Ss=!1}function _o(e,t){Xi.push([e,t]),Ss||(Ss=!0,Gp(Jp,0))}function qp(e,t){function n(l){ks(t,l)}function a(l){Yi(t,l)}try{e(n,a)}catch(l){a(l)}}function Cc(e){var t=e.owner,n=t._state,a=t._data,l=e[n],f=e.then;if(typeof l=="function"){n=ko;try{a=l(a)}catch(h){Yi(f,h)}}Mc(f,a)||(n===ko&&ks(f,a),n===To&&Yi(f,a))}function Mc(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&(typeof t=="function"||qi(t)==="object")){var a=t.then;if(typeof a=="function")return a.call(t,function(l){n||(n=!0,t===l?Oc(e,l):ks(e,l))},function(l){n||(n=!0,Yi(e,l))}),!0}}catch(l){return n||Yi(e,l),!0}return!1}function ks(e,t){(e===t||!Mc(e,t))&&Oc(e,t)}function Oc(e,t){e._state===xs&&(e._state=Tc,e._data=t,_o(Xp,e))}function Yi(e,t){e._state===xs&&(e._state=Tc,e._data=t,_o(Yp,e))}function Nc(e){e._then=e._then.forEach(Cc)}function Xp(e){e._state=ko,Nc(e)}function Yp(e){e._state=To,Nc(e),!e._handled&&_c&&$.g.process.emit("unhandledRejection",e._data,e)}function Qp(e){$.g.process.emit("rejectionHandled",e)}function Bn(e){if(typeof e!="function")throw new TypeError("Promise resolver "+e+" is not a function");if(!(this instanceof Bn))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],qp(e,this)}Bn.prototype={constructor:Bn,_state:xs,_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(Zp),fulfilled:e,rejected:t};return(t||e)&&!this._handled&&(this._handled=!0,this._state===To&&_c&&_o(Qp,this)),this._state===ko||this._state===To?_o(Cc,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},Bn.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new Bn(function(t,n){var a=[],l=0;function f(x){return l++,function(k){a[x]=k,--l||t(a)}}for(var h=0,g;h<e.length;h++)g=e[h],g&&typeof g.then=="function"?g.then(f(h),n):a[h]=g;l||t(a)})},Bn.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new Bn(function(t,n){for(var a=0,l;a<e.length;a++)l=e[a],l&&typeof l.then=="function"?l.then(t,n):t(l)})},Bn.resolve=function(e){return e&&qi(e)==="object"&&e.constructor===Bn?e:new Bn(function(t){t(e)})},Bn.reject=function(e){return new Bn(function(t,n){n(e)})};var ri={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Kp(e){if(!(!e||!bs)){var t=hn.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=hn.head.childNodes,a=null,l=n.length-1;l>-1;l--){var f=n[l],h=(f.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(h)>-1&&(a=f)}return hn.head.insertBefore(t,a),e}}var em="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Co(){for(var e=12,t="";e-- >0;)t+=em[Math.random()*62|0];return t}function Ic(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function tm(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,'="').concat(Ic(e[n]),'" ')},"").trim()}function Dc(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,": ").concat(e[n],";")},"")}function Rc(e){return e.size!==ri.size||e.x!==ri.x||e.y!==ri.y||e.rotate!==ri.rotate||e.flipX||e.flipY}function Ac(e){var t=e.transform,n=e.containerWidth,a=e.iconWidth,l={transform:"translate(".concat(n/2," 256)")},f="translate(".concat(t.x*32,", ").concat(t.y*32,") "),h="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),g="rotate(".concat(t.rotate," 0 0)"),x={transform:"".concat(f," ").concat(h," ").concat(g)},k={transform:"translate(".concat(a/2*-1," -256)")};return{outer:l,inner:x,path:k}}var Ts={x:0,y:0,width:"100%",height:"100%"};function Pc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function nm(e){return e.tag==="g"?e.children:[e]}function rm(e){var t=e.children,n=e.attributes,a=e.main,l=e.mask,f=e.maskId,h=e.transform,g=a.width,x=a.icon,k=l.width,P=l.icon,F=Ac({transform:h,containerWidth:k,iconWidth:g}),Y={tag:"rect",attributes:pt({},Ts,{fill:"white"})},ce=x.children?{children:x.children.map(Pc)}:{},oe={tag:"g",attributes:pt({},F.inner),children:[Pc(pt({tag:x.tag,attributes:pt({},x.attributes,F.path)},ce))]},de={tag:"g",attributes:pt({},F.outer),children:[oe]},re="mask-".concat(f||Co()),ee="clip-".concat(f||Co()),Oe={tag:"mask",attributes:pt({},Ts,{id:re,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[Y,de]},De={tag:"defs",children:[{tag:"clipPath",attributes:{id:ee},children:nm(P)},Oe]};return t.push(De,{tag:"rect",attributes:pt({fill:"currentColor","clip-path":"url(#".concat(ee,")"),mask:"url(#".concat(re,")")},Ts)}),{children:t,attributes:n}}function am(e){var t=e.children,n=e.attributes,a=e.main,l=e.transform,f=e.styles,h=Dc(f);if(h.length>0&&(n.style=h),Rc(l)){var g=Ac({transform:l,containerWidth:a.width,iconWidth:a.width});t.push({tag:"g",attributes:pt({},g.outer),children:[{tag:"g",attributes:pt({},g.inner),children:[{tag:a.icon.tag,children:a.icon.children,attributes:pt({},a.icon.attributes,g.path)}]}]})}else t.push(a.icon);return{children:t,attributes:n}}function im(e){var t=e.children,n=e.main,a=e.mask,l=e.attributes,f=e.styles,h=e.transform;if(Rc(h)&&n.found&&!a.found){var g=n.width,x=n.height,k={x:g/x/2,y:.5};l.style=Dc(pt({},f,{"transform-origin":"".concat(k.x+h.x/16,"em ").concat(k.y+h.y/16,"em")}))}return[{tag:"svg",attributes:l,children:t}]}function om(e){var t=e.prefix,n=e.iconName,a=e.children,l=e.attributes,f=e.symbol,h=f===!0?"".concat(t,"-").concat(Mn.familyPrefix,"-").concat(n):f;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:pt({},l,{id:h}),children:a}]}]}function sm(e){var t=e.icons,n=t.main,a=t.mask,l=e.prefix,f=e.iconName,h=e.transform,g=e.symbol,x=e.title,k=e.maskId,P=e.titleId,F=e.extra,Y=e.watchable,ce=Y===void 0?!1:Y,oe=a.found?a:n,de=oe.width,re=oe.height,ee=l==="fak",Oe=ee?"":"fa-w-".concat(Math.ceil(de/re*16)),De=[Mn.replacementClass,f?"".concat(Mn.familyPrefix,"-").concat(f):"",Oe].filter(function(Fe){return F.classes.indexOf(Fe)===-1}).filter(function(Fe){return Fe!==""||!!Fe}).concat(F.classes).join(" "),Ye={children:[],attributes:pt({},F.attributes,{"data-prefix":l,"data-icon":f,class:De,role:F.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(de," ").concat(re)})},Re=ee&&!~F.classes.indexOf("fa-fw")?{width:"".concat(de/re*16*.0625,"em")}:{};ce&&(Ye.attributes[Bp]=""),x&&Ye.children.push({tag:"title",attributes:{id:Ye.attributes["aria-labelledby"]||"title-".concat(P||Co())},children:[x]});var et=pt({},Ye,{prefix:l,iconName:f,main:n,mask:a,maskId:k,transform:h,symbol:g,styles:pt({},Re,F.styles)}),he=a.found&&n.found?rm(et):am(et),ke=he.children,Ae=he.attributes;return et.children=ke,et.attributes=Ae,g?om(et):im(et)}var Lc=function(){};Mn.measurePerformance&&So&&So.mark&&So.measure;var lm=function(e,t){return function(n,a,l,f){return e.call(t,n,a,l,f)}},_s=function(e,t,n,a){var l=Object.keys(e),f=l.length,h=a!==void 0?lm(t,a):t,g,x,k;for(n===void 0?(g=1,k=e[l[0]]):(g=0,k=n);g<f;g++)x=l[g],k=h(k,e[x],x,e);return k};function jc(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=n.skipHooks,l=a===void 0?!1:a,f=Object.keys(t).reduce(function(h,g){var x=t[g],k=!!x.icon;return k?h[x.iconName]=x.icon:h[g]=x,h},{});typeof dr.hooks.addPack=="function"&&!l?dr.hooks.addPack(e,f):dr.styles[e]=pt({},dr.styles[e]||{},f),e==="fas"&&jc("fa",t)}var Fc=dr.styles,cm=dr.shims,Bc=function(){var e=function(n){return _s(Fc,function(a,l,f){return a[f]=_s(l,n,{}),a},{})};e(function(n,a,l){return a[3]&&(n[a[3]]=l),n}),e(function(n,a,l){var f=a[2];return n[l]=l,f.forEach(function(h){n[h]=l}),n});var t="far"in Fc;_s(cm,function(n,a){var l=a[0],f=a[1],h=a[2];return f==="far"&&!t&&(f="fas"),n[l]={prefix:f,iconName:h},n},{})};Bc(),dr.styles;function Vc(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}function $c(e){var t=e.tag,n=e.attributes,a=n===void 0?{}:n,l=e.children,f=l===void 0?[]:l;return typeof e=="string"?Ic(e):"<".concat(t," ").concat(tm(a),">").concat(f.map($c).join(""),"</").concat(t,">")}var um=function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce(function(n,a){var l=a.toLowerCase().split("-"),f=l[0],h=l.slice(1).join("-");if(f&&h==="h")return n.flipX=!0,n;if(f&&h==="v")return n.flipY=!0,n;if(h=parseFloat(h),isNaN(h))return n;switch(f){case"grow":n.size=n.size+h;break;case"shrink":n.size=n.size-h;break;case"left":n.x=n.x-h;break;case"right":n.x=n.x+h;break;case"up":n.y=n.y-h;break;case"down":n.y=n.y+h;break;case"rotate":n.rotate=n.rotate+h;break}return n},t):t};function Cs(e){this.name="MissingIcon",this.message=e||"Icon unavailable",this.stack=new Error().stack}Cs.prototype=Object.create(Error.prototype),Cs.prototype.constructor=Cs;var Mo={fill:"currentColor"},zc={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};pt({},Mo,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"});var Ms=pt({},zc,{attributeName:"opacity"});pt({},Mo,{cx:"256",cy:"364",r:"28"}),pt({},zc,{attributeName:"r",values:"28;14;28;28;14;28;"}),pt({},Ms,{values:"1;0;1;1;0;1;"}),pt({},Mo,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),pt({},Ms,{values:"1;0;0;0;0;1;"}),pt({},Mo,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),pt({},Ms,{values:"0;0;1;1;0;0;"}),dr.styles;function Hc(e){var t=e[0],n=e[1],a=e.slice(4),l=gc(a,1),f=l[0],h=null;return Array.isArray(f)?h={tag:"g",attributes:{class:"".concat(Mn.familyPrefix,"-").concat(ys.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Mn.familyPrefix,"-").concat(ys.SECONDARY),fill:"currentColor",d:f[0]}},{tag:"path",attributes:{class:"".concat(Mn.familyPrefix,"-").concat(ys.PRIMARY),fill:"currentColor",d:f[1]}}]}:h={tag:"path",attributes:{fill:"currentColor",d:f}},{found:!0,width:t,height:n,icon:h}}dr.styles;var fm=`svg:not(:root).svg-inline--fa {
  overflow: visible;
}

.svg-inline--fa {
  display: inline-block;
  font-size: inherit;
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.225em;
}
.svg-inline--fa.fa-w-1 {
  width: 0.0625em;
}
.svg-inline--fa.fa-w-2 {
  width: 0.125em;
}
.svg-inline--fa.fa-w-3 {
  width: 0.1875em;
}
.svg-inline--fa.fa-w-4 {
  width: 0.25em;
}
.svg-inline--fa.fa-w-5 {
  width: 0.3125em;
}
.svg-inline--fa.fa-w-6 {
  width: 0.375em;
}
.svg-inline--fa.fa-w-7 {
  width: 0.4375em;
}
.svg-inline--fa.fa-w-8 {
  width: 0.5em;
}
.svg-inline--fa.fa-w-9 {
  width: 0.5625em;
}
.svg-inline--fa.fa-w-10 {
  width: 0.625em;
}
.svg-inline--fa.fa-w-11 {
  width: 0.6875em;
}
.svg-inline--fa.fa-w-12 {
  width: 0.75em;
}
.svg-inline--fa.fa-w-13 {
  width: 0.8125em;
}
.svg-inline--fa.fa-w-14 {
  width: 0.875em;
}
.svg-inline--fa.fa-w-15 {
  width: 0.9375em;
}
.svg-inline--fa.fa-w-16 {
  width: 1em;
}
.svg-inline--fa.fa-w-17 {
  width: 1.0625em;
}
.svg-inline--fa.fa-w-18 {
  width: 1.125em;
}
.svg-inline--fa.fa-w-19 {
  width: 1.1875em;
}
.svg-inline--fa.fa-w-20 {
  width: 1.25em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: 0.3em;
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: 0.3em;
  width: auto;
}
.svg-inline--fa.fa-border {
  height: 1.5em;
}
.svg-inline--fa.fa-li {
  width: 2em;
}
.svg-inline--fa.fa-fw {
  width: 1.25em;
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: #ff253a;
  border-radius: 1em;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  color: #fff;
  height: 1.5em;
  line-height: 1;
  max-width: 5em;
  min-width: 1.5em;
  overflow: hidden;
  padding: 0.25em;
  right: 0;
  text-overflow: ellipsis;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: 0;
  right: 0;
  top: auto;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: 0;
  left: 0;
  right: auto;
  top: auto;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  right: 0;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: 0;
  right: auto;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-lg {
  font-size: 1.3333333333em;
  line-height: 0.75em;
  vertical-align: -0.0667em;
}

.fa-xs {
  font-size: 0.75em;
}

.fa-sm {
  font-size: 0.875em;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: 2.5em;
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: -2em;
  position: absolute;
  text-align: center;
  width: 2em;
  line-height: inherit;
}

.fa-border {
  border: solid 0.08em #eee;
  border-radius: 0.1em;
  padding: 0.2em 0.25em 0.15em;
}

.fa-pull-left {
  float: left;
}

.fa-pull-right {
  float: right;
}

.fa.fa-pull-left,
.fas.fa-pull-left,
.far.fa-pull-left,
.fal.fa-pull-left,
.fab.fa-pull-left {
  margin-right: 0.3em;
}
.fa.fa-pull-right,
.fas.fa-pull-right,
.far.fa-pull-right,
.fal.fa-pull-right,
.fab.fa-pull-right {
  margin-left: 0.3em;
}

.fa-spin {
  -webkit-animation: fa-spin 2s infinite linear;
          animation: fa-spin 2s infinite linear;
}

.fa-pulse {
  -webkit-animation: fa-spin 1s infinite steps(8);
          animation: fa-spin 1s infinite steps(8);
}

@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}

@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

:root .fa-rotate-90,
:root .fa-rotate-180,
:root .fa-rotate-270,
:root .fa-flip-horizontal,
:root .fa-flip-vertical,
:root .fa-flip-both {
  -webkit-filter: none;
          filter: none;
}

.fa-stack {
  display: inline-block;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: #fff;
}

.sr-only {
  border: 0;
  clip: rect(0, 0, 0, 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

.sr-only-focusable:active, .sr-only-focusable:focus {
  clip: auto;
  height: auto;
  margin: 0;
  overflow: visible;
  position: static;
  width: auto;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: 1;
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: 0.4;
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: 0.4;
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: 1;
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse {
  color: #fff;
}`;function hm(){var e=xc,t=Sc,n=Mn.familyPrefix,a=Mn.replacementClass,l=fm;if(n!==e||a!==t){var f=new RegExp("\\.".concat(e,"\\-"),"g"),h=new RegExp("\\--".concat(e,"\\-"),"g"),g=new RegExp("\\.".concat(t),"g");l=l.replace(f,".".concat(n,"-")).replace(h,"--".concat(n,"-")).replace(g,".".concat(a))}return l}var dm=function(){function e(){Ip(this,e),this.definitions={}}return Dp(e,[{key:"add",value:function(){for(var t=this,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];var f=a.reduce(this._pullDefinitions,{});Object.keys(f).forEach(function(h){t.definitions[h]=pt({},t.definitions[h]||{},f[h]),jc(h,f[h]),Bc()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,n){var a=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(a).map(function(l){var f=a[l],h=f.prefix,g=f.iconName,x=f.icon;t[h]||(t[h]={}),t[h][g]=x}),t}}]),e}();function pm(){Mn.autoAddCss&&!Uc&&(Kp(hm()),Uc=!0)}function mm(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(n){return $c(n)})}}),Object.defineProperty(e,"node",{get:function(){if(bs){var n=hn.createElement("div");return n.innerHTML=e.html,n.children}}}),e}function Wc(e){var t=e.prefix,n=t===void 0?"fa":t,a=e.iconName;if(a)return Vc(vm.definitions,n,a)||Vc(dr.styles,n,a)}function gm(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=(t||{}).icon?t:Wc(t||{}),l=n.mask;return l&&(l=(l||{}).icon?l:Wc(l||{})),e(a,pt({},n,{mask:l}))}}var vm=new dm,Uc=!1,Os={transform:function(e){return um(e)}},bm=gm(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.transform,a=n===void 0?ri:n,l=t.symbol,f=l===void 0?!1:l,h=t.mask,g=h===void 0?null:h,x=t.maskId,k=x===void 0?null:x,P=t.title,F=P===void 0?null:P,Y=t.titleId,ce=Y===void 0?null:Y,oe=t.classes,de=oe===void 0?[]:oe,re=t.attributes,ee=re===void 0?{}:re,Oe=t.styles,De=Oe===void 0?{}:Oe;if(e){var Ye=e.prefix,Re=e.iconName,et=e.icon;return mm(pt({type:"icon"},e),function(){return pm(),Mn.autoA11y&&(F?ee["aria-labelledby"]="".concat(Mn.replacementClass,"-title-").concat(ce||Co()):(ee["aria-hidden"]="true",ee.focusable="false")),sm({icons:{main:Hc(et),mask:g?Hc(g.icon):{found:!1,width:null,height:null,icon:{}}},prefix:Ye,iconName:Re,transform:pt({},ri,a),symbol:f,title:F,maskId:k,titleId:ce,extra:{attributes:ee,styles:De,classes:de}})})}}),ym=$(980),se=$.n(ym);function Zc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,a)}return n}function ca(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zc(Object(n),!0).forEach(function(a){ai(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zc(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Oo(e){return Oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oo(e)}function ai(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wm(e,t){if(e==null)return{};var n={},a=Object.keys(e),l,f;for(f=0;f<a.length;f++)l=a[f],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function Gc(e,t){if(e==null)return{};var n=wm(e,t),a,l;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(e);for(l=0;l<f.length;l++)a=f[l],!(t.indexOf(a)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,a)||(n[a]=e[a]))}return n}function Ns(e){return Em(e)||xm(e)||Sm(e)||km()}function Em(e){if(Array.isArray(e))return Is(e)}function xm(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Sm(e,t){if(e){if(typeof e=="string")return Is(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Is(e,t)}}function Is(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function km(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tm(e){var t,n=e.beat,a=e.fade,l=e.flash,f=e.spin,h=e.spinPulse,g=e.spinReverse,x=e.pulse,k=e.fixedWidth,P=e.inverse,F=e.border,Y=e.listItem,ce=e.flip,oe=e.size,de=e.rotation,re=e.pull,ee=(t={"fa-beat":n,"fa-fade":a,"fa-flash":l,"fa-spin":f,"fa-spin-reverse":g,"fa-spin-pulse":h,"fa-pulse":x,"fa-fw":k,"fa-inverse":P,"fa-border":F,"fa-li":Y,"fa-flip-horizontal":ce==="horizontal"||ce==="both","fa-flip-vertical":ce==="vertical"||ce==="both"},ai(t,"fa-".concat(oe),typeof oe<"u"&&oe!==null),ai(t,"fa-rotate-".concat(de),typeof de<"u"&&de!==null&&de!==0),ai(t,"fa-pull-".concat(re),typeof re<"u"&&re!==null),ai(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(ee).map(function(Oe){return ee[Oe]?Oe:null}).filter(function(Oe){return Oe})}function _m(e){return e=e-0,e===e}function Jc(e){return _m(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,function(t,n){return n?n.toUpperCase():""}),e.substr(0,1).toLowerCase()+e.substr(1))}var Cm=["style"];function Mm(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Om(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,n){var a=n.indexOf(":"),l=Jc(n.slice(0,a)),f=n.slice(a+1).trim();return l.startsWith("webkit")?t[Mm(l)]=f:t[l]=f,t},{})}function qc(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var a=(t.children||[]).map(function(x){return qc(e,x)}),l=Object.keys(t.attributes||{}).reduce(function(x,k){var P=t.attributes[k];switch(k){case"class":x.attrs.className=P,delete t.attributes.class;break;case"style":x.attrs.style=Om(P);break;default:k.indexOf("aria-")===0||k.indexOf("data-")===0?x.attrs[k.toLowerCase()]=P:x.attrs[Jc(k)]=P}return x},{attrs:{}}),f=n.style,h=f===void 0?{}:f,g=Gc(n,Cm);return l.attrs.style=ca(ca({},l.attrs.style),h),e.apply(void 0,[t.tag,ca(ca({},l.attrs),g)].concat(Ns(a)))}var Xc=!1;try{Xc=!0}catch{}function Nm(){if(!Xc&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function Yc(e){if(e&&Oo(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(Os.icon)return Os.icon(e);if(e===null)return null;if(e&&Oo(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}function Ds(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?ai({},e,t):{}}var Im=["forwardedRef"];function pr(e){var t=e.forwardedRef,n=Gc(e,Im),a=n.icon,l=n.mask,f=n.symbol,h=n.className,g=n.title,x=n.titleId,k=Yc(a),P=Ds("classes",[].concat(Ns(Tm(n)),Ns(h.split(" ")))),F=Ds("transform",typeof n.transform=="string"?Os.transform(n.transform):n.transform),Y=Ds("mask",Yc(l)),ce=bm(k,ca(ca(ca(ca({},P),F),Y),{},{symbol:f,title:g,titleId:x}));if(!ce)return Nm("Could not find icon",k),null;var oe=ce.abstract,de={ref:t};return Object.keys(n).forEach(function(re){pr.defaultProps.hasOwnProperty(re)||(de[re]=n[re])}),Dm(oe[0],de)}pr.displayName="FontAwesomeIcon",pr.propTypes={beat:se().bool,border:se().bool,className:se().string,fade:se().bool,flash:se().bool,mask:se().oneOfType([se().object,se().array,se().string]),fixedWidth:se().bool,inverse:se().bool,flip:se().oneOf(["horizontal","vertical","both"]),icon:se().oneOfType([se().object,se().array,se().string]),listItem:se().bool,pull:se().oneOf(["right","left"]),pulse:se().bool,rotation:se().oneOf([0,90,180,270]),size:se().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:se().bool,spinPulse:se().bool,spinReverse:se().bool,symbol:se().oneOfType([se().bool,se().string]),title:se().string,transform:se().oneOfType([se().string,se().object]),swapOpacity:se().bool},pr.defaultProps={border:!1,className:"",mask:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,symbol:!1,title:"",transform:null,swapOpacity:!1};var Dm=qc.bind(null,p().createElement),Rm=$(247),Am=$(682),Pm=$(438),Qc=$(42),Kc=$(111),Lm=$.n(Kc);const jm="rc-menu-container",Qn="rc-menu",Fm="rc-menu-button",Bm="arrow",Rs="item",Vm="divider",$m="header",zm="group",Hm="submenu",Wm="radio-group",Qi=-1,As=p().createContext({}),Ps=p().createContext({}),Ls=p().createContext({}),eu=p().createContext({}),tu=p().createContext({}),js=p().createContext({}),Jt=Object.freeze({ENTER:"Enter",ESC:"Escape",SPACE:" ",HOME:"Home",END:"End",LEFT:"ArrowLeft",RIGHT:"ArrowRight",UP:"ArrowUp",DOWN:"ArrowDown"}),Wt=Object.freeze({RESET:"HOVER_INDEX_RESET",SET:"HOVER_INDEX_SET",UNSET:"HOVER_INDEX_UNSET",INCREASE:"HOVER_INDEX_INCREASE",DECREASE:"HOVER_INDEX_DECREASE",FIRST:"HOVER_INDEX_FIRST",LAST:"HOVER_INDEX_LAST"}),No=Object.freeze({OPEN:"SUBMENU_OPEN",CLOSE:"SUBMENU_CLOSE"}),Ki=Object.freeze({CLICK:"click",CANCEL:"cancel",BLUR:"blur",SCROLL:"scroll"}),nu=Kc.unstable_batchedUpdates||(e=>e()),jr=(e,t)=>t?Object.defineProperty(e,"_reactMenu",{value:t,writable:!1}):e,Fs=e=>e&&e._reactMenu,On=(e,...t)=>typeof e=="function"?e(...t):e,Io=(e,t)=>{const n={};for(const a of Object.keys(e)){const l=e[a],f=t[a];let h;typeof f=="function"?h=g=>{f(g),l(g)}:h=l,n[a]=h}return n},Um=e=>{if(typeof e!="string")return{top:0,right:0,bottom:0,left:0};const t=e.trim().split(/\s+/,4).map(parseFloat),n=isNaN(t[0])?0:t[0],a=isNaN(t[1])?n:t[1];return{top:n,right:a,bottom:isNaN(t[2])?n:t[2],left:isNaN(t[3])?a:t[3]}},Vn=({block:e,element:t,modifiers:n,className:a,externalModifiers:l})=>(0,C.useMemo)(()=>{const f=t?`${e}__${t}`:e;let h=f;for(const x of Object.keys(n||{})){const k=n[x];k&&(h+=` ${f}--`,h+=k===!0?x:`${x}-${k}`)}let g=typeof a=="function"?a(l||n):a;return typeof g=="string"&&(g=g.trim(),g&&(h+=` ${g}`)),h},[e,t,n,a,l]),Bs=e=>e&&typeof e=="object",ru=e=>e.charAt(0)==="$"?e.slice(1):e,mr=(e,t)=>(0,C.useMemo)(()=>{if(typeof e=="function")return e(t);if(!Bs(e))return;if(!t)return e;const n={};for(const a of Object.keys(e)){const l=e[a];if(Bs(l)){const f=t[ru(a)];if(typeof f=="string")for(const h of Object.keys(l)){const g=l[h];Bs(g)?ru(h)===f&&Object.assign(n,g):n[h]=g}else f&&Object.assign(n,l)}else n[a]=l}return n},[e,t]),au=e=>{for(;e&&e!==document.body;){const{overflow:t,overflowX:n,overflowY:a}=getComputedStyle(e);if(/auto|scroll|overlay|hidden/.test(t+a+n))return e;e=e.parentNode}return window},ii=(e,t,n=1e-4)=>Math.abs(e-t)<n,iu=(e,t,n)=>t?!!n.includes(Fs(t.type)):!1,ou=(e,t=0)=>{let n=t,a=!1;const l=["MenuDivider","MenuGroup","MenuHeader","MenuItem","FocusableItem","MenuRadioGroup","SubMenu"];return{items:p().Children.map(e,f=>{if(!iu("Menu or SubMenu",f,l))return null;switch(Fs(f.type)){case"MenuDivider":case"MenuHeader":return f;case"MenuRadioGroup":{const h=["MenuItem"],g={type:"radio"},x=p().Children.map(f.props.children,k=>iu("MenuRadioGroup",k,h)?k.props.disabled?p().cloneElement(k,g):p().cloneElement(k,S(E({},g),{index:n++})):null);return p().cloneElement(f,{children:x})}case"MenuGroup":{const{items:h,endIndex:g,descendOverflow:x}=ou(f.props.children,n);n=g;const k=!!f.props.takeOverflow;return a=a||x||k,p().cloneElement(f,{children:h})}default:return f.props.disabled?f:p().cloneElement(f,{index:n++})}}),endIndex:n,descendOverflow:a}},gr=e=>({[e?`${e}ClassName`:"className"]:se().oneOfType([se().string,se().func]),[e?`${e}Styles`:"styles"]:se().oneOfType([se().object,se().func])}),su=S(E(E({},gr()),gr("arrow")),{"aria-label":se().string,arrow:se().bool,offsetX:se().number,offsetY:se().number,align:se().oneOf(["start","center","end"]),direction:se().oneOf(["left","right","top","bottom"]),position:se().oneOf(["auto","anchor","initial"]),overflow:se().oneOf(["auto","visible","hidden"]),children:se().node.isRequired}),lu=S(E({},su),{id:se().oneOfType([se().string,se().number]),animation:se().bool,debugging:se().bool,boundingBoxRef:se().object,boundingBoxPadding:se().string,reposition:se().oneOf(["auto","initial"]),repositionFlag:se().oneOfType([se().string,se().number]),viewScroll:se().oneOf(["auto","close","initial"]),submenuOpenDelay:se().number,submenuCloseDelay:se().number,portal:se().bool,theming:se().string,onItemClick:se().func,onClick:se().func}),cu={offsetX:0,offsetY:0,align:"start",direction:"bottom",position:"auto",overflow:"visible"},uu=S(E({},cu),{animation:!0,reposition:"auto",viewScroll:"initial",submenuOpenDelay:300,submenuCloseDelay:150}),fu=(e,t,n)=>{const[a,l]=(0,C.useState)(!1),f=(0,C.useMemo)(()=>[Jt.SPACE,Jt.ENTER,...n?[n]:[]],[n]),h=(0,C.useCallback)(()=>l(!1),[]);return{isActive:a,onPointerDown:(0,C.useCallback)(()=>{t||l(!0)},[t]),onPointerUp:h,onPointerLeave:h,onKeyDown:(0,C.useCallback)(g=>{e&&!t&&f.includes(g.key)&&l(!0)},[e,t,f]),onKeyUp:(0,C.useCallback)(g=>{f.includes(g.key)&&l(!1)},[f]),onBlur:(0,C.useCallback)(g=>{g.currentTarget.contains(g.relatedTarget)||l(!1)},[])}},hu=(e,t)=>{const n=(0,C.useRef)(null),{submenuCloseDelay:a}=(0,C.useContext)(js),{isParentOpen:l,hoverIndex:f,isSubmenuOpen:h,dispatch:g}=(0,C.useContext)(As),x=f===t,k=(0,C.useRef)(),P=(0,C.useCallback)(()=>{e||g({type:Wt.SET,index:t})},[e,g,t]),F=(0,C.useCallback)(oe=>{oe.currentTarget.contains(oe.relatedTarget)||g({type:Wt.UNSET,index:t})},[g,t]),Y=(0,C.useCallback)(()=>{h?k.current=setTimeout(P,a):P()},[h,a,P]),ce=(0,C.useCallback)((oe,de)=>{k.current&&clearTimeout(k.current),de||g({type:Wt.UNSET,index:t})},[g,t]);return(0,C.useEffect)(()=>()=>clearTimeout(k.current),[]),(0,C.useEffect)(()=>{x&&l&&n.current&&n.current.focus()},[x,l]),{ref:n,isHovering:x,setHover:P,onBlur:F,onMouseEnter:Y,onMouseLeave:ce}},du=(e,t)=>{const n=(0,C.useRef)(t);(0,C.useEffect)(()=>{n.current!==t&&On(e,{open:t}),n.current=t},[e,t])},Kn=Object.freeze({INITIAL:"initial",FIRST:"first",LAST:"last"}),er=Object.freeze({UNMOUNTED:0,CLOSED:1,OPEN:2}),oi=Object.freeze({OPEN:0,CLOSE:1,TOGGLE:2}),Vs=(e=!0)=>{const[t,n]=(0,C.useState)({position:Kn.INITIAL}),[a,l]=(0,C.useReducer)(f,er.UNMOUNTED);function f(h,{type:g}){switch(g){case oi.OPEN:return er.OPEN;case oi.CLOSE:return h===er.OPEN?e?er.CLOSED:er.UNMOUNTED:h;case oi.TOGGLE:return h===er.OPEN?e?er.CLOSED:er.UNMOUNTED:er.OPEN;default:throw new Error("menuStateReducer: unknown action type")}}return{isMounted:a!==er.UNMOUNTED,isOpen:a===er.OPEN,menuItemFocus:t,openMenu:(0,C.useCallback)((h=Kn.INITIAL)=>{n({position:h}),l({type:oi.OPEN})},[]),closeMenu:(0,C.useCallback)(()=>l({type:oi.CLOSE}),[]),toggleMenu:(0,C.useCallback)((h=Kn.INITIAL)=>{n({position:h}),l({type:oi.TOGGLE})},[])}},eo=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?C.useLayoutEffect:C.useEffect,pu=jr(p().memo(p().forwardRef(function(e,t){var n=e,{className:a,styles:l,isOpen:f,disabled:h,children:g}=n,x=O(n,["className","styles","isOpen","disabled","children"]);const k=(0,C.useMemo)(()=>Object.freeze({open:f}),[f]);return p().createElement("button",Object.assign({"aria-haspopup":"true","aria-expanded":f,"aria-disabled":h||void 0,disabled:h},x,{ref:t,className:Vn({block:Fm,modifiers:k,className:a}),style:mr(l,k)}),g)})),"MenuButton");pu.propTypes=S(E({},gr()),{isOpen:se().bool,disabled:se().bool,children:se().node.isRequired,onClick:se().func,onKeyDown:se().func});const mu=jr(p().memo(function(e){var t=e,{ariaLabel:n,className:a,styles:l,arrowClassName:f,arrowStyles:h,anchorPoint:g,anchorRef:x,containerRef:k,arrow:P,align:F,direction:Y,position:ce,overflow:oe,repositionFlag:de,captureFocus:re=!0,isOpen:ee,isDisabled:Oe,menuItemFocus:De,offsetX:Ye,offsetY:Re,children:et,onClose:he}=t,ke=O(t,["ariaLabel","className","styles","arrowClassName","arrowStyles","anchorPoint","anchorRef","containerRef","arrow","align","direction","position","overflow","repositionFlag","captureFocus","isOpen","isDisabled","menuItemFocus","offsetX","offsetY","children","onClose"]);const[Ae,Fe]=(0,C.useState)({x:0,y:0}),[_e,Ze]=(0,C.useState)({}),[je,ft]=(0,C.useState)(),[Pt,yt]=(0,C.useState)(!1),[ht,Ge]=(0,C.useState)(Y),{animation:He,boundingBoxRef:Ft,boundingBoxPadding:on,rootMenuRef:Bt,rootAnchorRef:Nn,scrollingRef:Ut,anchorScrollingRef:tr,reposition:dn,viewScroll:Vt}=(0,C.useContext)(tu),Qt=(0,C.useRef)(null),io=(0,C.useRef)(null),hi=(0,C.useRef)(0),tl=(0,C.useRef)(ee),$o=(0,C.useRef)({width:0,height:0}),yf=(0,C.useRef)(()=>{}),nl=(0,C.useRef)(!1),K1=(0,C.useContext)(Ps).reposSubmenu||de,[wf,Ef]=(0,C.useReducer)(Pe=>Pe+1,1),[{hoverIndex:xf,openSubmenuCount:ev},fa]=(0,C.useReducer)(tv,{hoverIndex:Qi,openSubmenuCount:0});function tv({hoverIndex:Pe,openSubmenuCount:$e},tt){return{hoverIndex:nv(Pe,tt),openSubmenuCount:Zm($e,tt)}}function nv(Pe,{type:$e,index:tt}){switch($e){case Wt.RESET:return Qi;case Wt.SET:return tt;case Wt.UNSET:return Pe===tt?Qi:Pe;case Wt.DECREASE:{let We=Pe;return We--,We<0&&(We=hi.current-1),We}case Wt.INCREASE:{let We=Pe;return We++,We>=hi.current&&(We=0),We}case Wt.FIRST:return hi.current>0?0:Qi;case Wt.LAST:return hi.current>0?hi.current-1:Qi;default:return Pe}}const rv=(0,C.useMemo)(()=>{const{items:Pe,endIndex:$e,descendOverflow:tt}=ou(et);return hi.current=$e,nl.current=tt,Pe},[et]),av=Pe=>{let $e=!1;switch(Pe.key){case Jt.HOME:fa({type:Wt.FIRST}),$e=!0;break;case Jt.END:fa({type:Wt.LAST}),$e=!0;break;case Jt.UP:fa({type:Wt.DECREASE}),$e=!0;break;case Jt.DOWN:fa({type:Wt.INCREASE}),$e=!0;break;case Jt.SPACE:Pe.target&&Pe.target.className.includes(Qn)&&Pe.preventDefault();break}$e&&(Pe.preventDefault(),Pe.stopPropagation())},iv=()=>{Pt&&(yt(!1),ft())},Sf=(0,C.useCallback)(()=>{const Pe=Qt.current.getBoundingClientRect(),$e=k.current.getBoundingClientRect(),tt=Ut.current===window?{left:0,top:0,right:document.documentElement.clientWidth,bottom:window.innerHeight}:Ut.current.getBoundingClientRect(),We=Um(on),Je=Le=>Le+$e.left-tt.left-We.left,mt=Le=>Le+$e.left+Pe.width-tt.right+We.right,vt=Le=>Le+$e.top-tt.top-We.top,$t=Le=>Le+$e.top+Pe.height-tt.bottom+We.bottom;return{menuRect:Pe,containerRect:$e,getLeftOverflow:Je,getRightOverflow:mt,getTopOverflow:vt,getBottomOverflow:$t,confineHorizontally:Le=>{let Zt=Je(Le);if(Zt<0)Le-=Zt;else{const Tt=mt(Le);Tt>0&&(Le-=Tt,Zt=Je(Le),Zt<0&&(Le-=Zt))}return Le},confineVertically:Le=>{let Zt=vt(Le);if(Zt<0)Le-=Zt;else{const Tt=$t(Le);Tt>0&&(Le-=Tt,Zt=vt(Le),Zt<0&&(Le-=Zt))}return Le}}},[k,Ut,on]),kf=(0,C.useCallback)((Pe,$e,tt,We)=>{let Je=$e.left-tt.left-Pe+$e.width/2;const mt=io.current.offsetWidth*1.25;return Je=Math.max(mt,Je),Je=Math.min(Je,We.width-mt),Je},[]),Tf=(0,C.useCallback)((Pe,$e,tt,We)=>{let Je=$e.top-tt.top-Pe+$e.height/2;const mt=io.current.offsetHeight*1.25;return Je=Math.max(mt,Je),Je=Math.min(Je,We.height-mt),Je},[]),_f=(0,C.useCallback)(({anchorRect:Pe,containerRect:$e,menuRect:tt},{placeLeftorRightY:We,placeLeftX:Je,placeRightX:mt},{getLeftOverflow:vt,getRightOverflow:$t,confineHorizontally:Le,confineVertically:Zt})=>{let Tt=Y,st=We;ce!=="initial"&&(st=Zt(st),ce==="anchor"&&(st=Math.min(st,Pe.bottom-$e.top),st=Math.max(st,Pe.top-$e.top-tt.height)));let xt,Dt,_t;return Tt==="left"?(xt=Je,ce!=="initial"&&(Dt=vt(xt),Dt<0&&(_t=$t(mt),(_t<=0||-Dt>_t)&&(xt=mt,Tt="right")))):(xt=mt,ce!=="initial"&&(_t=$t(xt),_t>0&&(Dt=vt(Je),(Dt>=0||-Dt<_t)&&(xt=Je,Tt="left")))),ce==="auto"&&(xt=Le(xt)),{arrowY:P?Tf(st,Pe,$e,tt):void 0,x:xt,y:st,computedDirection:Tt}},[Tf,P,Y,ce]),Cf=(0,C.useCallback)(({anchorRect:Pe,containerRect:$e,menuRect:tt},{placeToporBottomX:We,placeTopY:Je,placeBottomY:mt},{getTopOverflow:vt,getBottomOverflow:$t,confineHorizontally:Le,confineVertically:Zt})=>{let Tt=Y==="top"?"top":"bottom",st=We;ce!=="initial"&&(st=Le(st),ce==="anchor"&&(st=Math.min(st,Pe.right-$e.left),st=Math.max(st,Pe.left-$e.left-tt.width)));let xt,Dt,_t;return Tt==="top"?(xt=Je,ce!=="initial"&&(Dt=vt(xt),Dt<0&&(_t=$t(mt),(_t<=0||-Dt>_t)&&(xt=mt,Tt="bottom")))):(xt=mt,ce!=="initial"&&(_t=$t(xt),_t>0&&(Dt=vt(Je),(Dt>=0||-Dt<_t)&&(xt=Je,Tt="top")))),ce==="auto"&&(xt=Zt(xt)),{arrowX:P?kf(st,Pe,$e,tt):void 0,x:st,y:xt,computedDirection:Tt}},[kf,P,Y,ce]),Mf=(0,C.useCallback)((Pe,$e)=>{const tt=Pe,{menuRect:We,containerRect:Je}=tt,mt=O(tt,["menuRect","containerRect"]);let vt=Ye,$t=Re;P&&(Y==="left"||Y==="right"?vt+=io.current.offsetWidth:$t+=io.current.offsetHeight);const Le=$e.current.getBoundingClientRect(),Zt=Le.left-Je.left-We.width-vt,Tt=Le.right-Je.left+vt,st=Le.top-Je.top-We.height-$t,xt=Le.bottom-Je.top+$t;let Dt,_t;F==="end"?(Dt=Le.right-Je.left-We.width,_t=Le.bottom-Je.top-We.height):F==="center"?(Dt=Le.left-Je.left-(We.width-Le.width)/2,_t=Le.top-Je.top-(We.height-Le.height)/2):(Dt=Le.left-Je.left,_t=Le.top-Je.top),Dt+=vt,_t+=$t;const kn={anchorRect:Le,containerRect:Je,menuRect:We},ha={placeLeftX:Zt,placeRightX:Tt,placeLeftorRightY:_t,placeTopY:st,placeBottomY:xt,placeToporBottomX:Dt};switch(Y){case"left":case"right":return _f(kn,ha,mt);case"top":case"bottom":default:return Cf(kn,ha,mt)}},[P,F,Y,Ye,Re,_f,Cf]),Of=(0,C.useCallback)((Pe,$e)=>{const{menuRect:tt,containerRect:We,getLeftOverflow:Je,getRightOverflow:mt,getTopOverflow:vt,getBottomOverflow:$t,confineHorizontally:Le,confineVertically:Zt}=Pe;let Tt,st;Tt=$e.x-We.left,st=$e.y-We.top;const xt=mt(Tt);if(xt>0){const kn=Tt-tt.width,ha=Je(kn);(ha>=0||-ha<xt)&&(Tt=kn),Tt=Le(Tt)}let Dt="bottom";const _t=$t(st);if(_t>0){const kn=st-tt.height,ha=vt(kn);(ha>=0||-ha<_t)&&(st=kn,Dt="top"),st=Zt(st)}return{x:Tt,y:st,computedDirection:Dt}},[]),oo=(0,C.useCallback)(()=>{if(!k.current)return;Ut.current||(Ut.current=Ft?Ft.current:au(Bt.current));const Pe=Sf(),{menuRect:$e}=Pe;let tt={computedDirection:"bottom"};g?tt=Of(Pe,g):x&&(tt=Mf(Pe,x));let{arrowX:We,arrowY:Je,x:mt,y:vt,computedDirection:$t}=tt,Le=$e.height;if(oe!=="visible"){const{getTopOverflow:Zt,getBottomOverflow:Tt}=Pe;let st,xt;const Dt=$o.current.height,_t=Tt(vt);if(_t>0||ii(_t,0)&&ii(Le,Dt))st=Le-_t,xt=_t;else{const kn=Zt(vt);(kn<0||ii(kn,0)&&ii(Le,Dt))&&(st=Le+kn,xt=0-kn,st>=0&&(vt-=kn))}st>=0?(Le=st,ft({height:st,overflowAmt:xt})):ft()}P&&Ze({x:We,y:Je}),Fe({x:mt,y:vt}),Ge($t),$o.current={width:$e.width,height:Le}},[P,g,x,k,Ft,Bt,Ut,oe,Sf,Mf,Of]);eo(()=>{ee&&(oo(),tl.current&&Ef()),yf.current=oo},[ee,oo,K1]),eo(()=>{je&&!nl.current&&(Qt.current.scrollTop=0)},[je]),eo(()=>{He&&(ee?yt(!1):ee!==tl.current&&yt(!0)),tl.current=ee},[He,ee]),(0,C.useEffect)(()=>{if(!ee)return;!tr.current&&Nn&&Nn.current.tagName&&(tr.current=au(Nn.current));const Pe=Ut.current,$e=Pe&&Pe.addEventListener?Pe:window,tt=tr.current||$e;let We=Vt;if(tt!==$e&&We==="initial"&&(We="auto"),We==="initial")return;We==="auto"&&oe!=="visible"&&(We="close");const Je=()=>{We==="auto"?nu(oo):On(he,{reason:Ki.SCROLL})},mt=tt!==$e&&Vt!=="initial"?[tt,$e]:[tt];return mt.forEach(vt=>vt.addEventListener("scroll",Je)),()=>mt.forEach(vt=>vt.removeEventListener("scroll",Je))},[Nn,tr,Ut,ee,oe,he,Vt,oo]),(0,C.useEffect)(()=>{if(typeof ResizeObserver!="function"||dn==="initial")return;const Pe=new ResizeObserver(([tt])=>{const{borderBoxSize:We,target:Je}=tt;let mt,vt;if(We){const{inlineSize:$t,blockSize:Le}=We[0]||We;mt=$t,vt=Le}else{const $t=Je.getBoundingClientRect();mt=$t.width,vt=$t.height}mt===0||vt===0||ii(mt,$o.current.width,1)&&ii(vt,$o.current.height,1)||nu(()=>{yf.current(),Ef()})}),$e=Qt.current;return Pe.observe($e,{box:"border-box"}),()=>Pe.unobserve($e)},[dn]),(0,C.useEffect)(()=>{ee||(fa({type:Wt.RESET}),He||ft());const Pe=setTimeout(()=>{!ee||!Qt.current||Qt.current.contains(document.activeElement)||(re&&Qt.current.focus(),De.position===Kn.FIRST?fa({type:Wt.FIRST}):De.position===Kn.LAST&&fa({type:Wt.LAST}))},He?170:100);return()=>clearTimeout(Pe)},[He,re,ee,De]);const Nf=ev>0,ov=(0,C.useMemo)(()=>({isParentOpen:ee,hoverIndex:xf,isSubmenuOpen:Nf,dispatch:fa}),[ee,xf,Nf]);let rl,al;je&&(nl.current?al=je.overflowAmt:rl=je.height);const sv=(0,C.useMemo)(()=>({reposSubmenu:wf,overflow:oe,overflowAmt:al}),[wf,oe,al]),lv=rl>=0?{maxHeight:rl,overflow:oe}:void 0,il=(0,C.useMemo)(()=>({open:ee,closing:Pt,animation:He,dir:He&&ht}),[ee,Pt,He,ht]),If=(0,C.useMemo)(()=>Object.freeze(S(E({},il),{dir:ht})),[il,ht]),Df=(0,C.useMemo)(()=>Object.freeze({dir:ht}),[ht]),cv=Vn({block:Qn,element:Bm,modifiers:Df,className:f}),uv=mr(h,Df),fv=Io({onKeyDown:av,onAnimationEnd:iv},ke);return p().createElement("ul",Object.assign({role:"menu",tabIndex:"-1","aria-disabled":Oe||void 0,"aria-label":n},ke,fv,{ref:Qt,className:Vn({block:Qn,modifiers:il,className:a,externalModifiers:If}),style:S(E(E({},mr(l,If)),lv),{left:`${Ae.x}px`,top:`${Ae.y}px`})}),P&&p().createElement("div",{className:cv,style:S(E({},uv),{left:_e.x&&`${_e.x}px`,top:_e.y&&`${_e.y}px`}),ref:io}),p().createElement(Ps.Provider,{value:sv},p().createElement(As.Provider,{value:ov},rv)))}),"MenuList");function Zm(e,{type:t}){switch(t){case No.OPEN:return e+1;case No.CLOSE:return Math.max(e-1,0);default:return e}}const gu=(e,{id:t,animation:n,boundingBoxRef:a,boundingBoxPadding:l,debugging:f,reposition:h,submenuOpenDelay:g,submenuCloseDelay:x,viewScroll:k,portal:P,theming:F,isMounted:Y,onItemClick:ce,onClick:oe,onClose:de,skipClick:re})=>{const ee=(0,C.useRef)(null),Oe=(0,C.useRef)(null),De=(0,C.useRef)(null),{anchorRef:Ye,isOpen:Re}=e,et=(0,C.useMemo)(()=>({animation:n,boundingBoxRef:a,boundingBoxPadding:l,rootMenuRef:ee,rootAnchorRef:Ye,scrollingRef:Oe,anchorScrollingRef:De,reposition:h,viewScroll:k}),[n,Ye,a,l,h,k]),he=(0,C.useMemo)(()=>({debugging:f,submenuOpenDelay:g,submenuCloseDelay:x}),[f,g,x]),ke=(0,C.useMemo)(()=>({handleClick(je,ft,Pt){ft||On(ce||oe,je);let yt=je.keepOpen;yt===void 0&&(yt=Pt&&je.key===Jt.SPACE),yt||On(de,{value:je.value,key:je.key,reason:Ki.CLICK})},handleClose(je){On(de,{key:je,reason:Ki.CLICK})}}),[ce,oe,de]),Ae=({key:je})=>{switch(je){case Jt.ESC:On(de,{key:je,reason:Ki.CANCEL});break}},Fe=je=>{Re&&!je.currentTarget.contains(je.relatedTarget||document.activeElement)&&!f&&(On(de,{reason:Ki.BLUR}),re&&(re.current=!0,setTimeout(()=>re.current=!1,300)))},_e=(0,C.useMemo)(()=>({theme:F}),[F]),Ze=p().createElement("div",{id:t,className:Vn({block:jm,modifiers:_e}),ref:ee,onKeyDown:Ae,onBlur:Fe},Y&&p().createElement(tu.Provider,{value:et},p().createElement(js.Provider,{value:he},p().createElement(Ls.Provider,{value:ke},p().createElement(mu,Object.assign({},e,{containerRef:ee,onClose:de}))))));return P?Lm().createPortal(Ze,document.body):Ze},$s=p().memo(function(e){var t=e,{"aria-label":n,id:a,animation:l,boundingBoxRef:f,boundingBoxPadding:h,captureFocus:g,debugging:x,reposition:k,viewScroll:P,keepMounted:F,menuButton:Y,portal:ce,submenuOpenDelay:oe,submenuCloseDelay:de,theming:re,onItemClick:ee,onClick:Oe,onChange:De}=t,Ye=O(t,["aria-label","id","animation","boundingBoxRef","boundingBoxPadding","captureFocus","debugging","reposition","viewScroll","keepMounted","menuButton","portal","submenuOpenDelay","submenuCloseDelay","theming","onItemClick","onClick","onChange"]);const{isMounted:Re,isOpen:et,menuItemFocus:he,openMenu:ke,closeMenu:Ae}=Vs(F),Fe=(0,C.useRef)(!1),_e=(0,C.useRef)(null),Ze=(0,C.useMemo)(()=>On(Y,{open:et}),[Y,et]);if(!Ze)throw new Error("Menu requires a menuButton prop.");const je=(0,C.useCallback)(Ge=>{Ae(),Ge.key&&_e.current.focus()},[Ae]),ft=(0,C.useCallback)(Ge=>{Fe.current||ke(Ge.detail===0?Kn.FIRST:Kn.INITIAL)},[ke]),Pt=(0,C.useCallback)(Ge=>{let He=!1;switch(Ge.key){case Jt.UP:ke(Kn.LAST),He=!0;break;case Jt.DOWN:ke(Kn.FIRST),He=!0;break}He&&Ge.preventDefault()},[ke]),yt=(0,C.useMemo)(()=>{const Ge=E({ref:_e},Io({onClick:ft,onKeyDown:Pt},Ze.props));return Fs(Ze.type)==="MenuButton"&&(Ge.isOpen=et),p().cloneElement(Ze,Ge)},[Ze,et,ft,Pt]),ht=gu(S(E({},Ye),{ariaLabel:n||(typeof Ze.props.children=="string"?Ze.props.children:"Menu"),anchorRef:_e,isOpen:et,menuItemFocus:he}),{id:a,animation:l,boundingBoxRef:f,boundingBoxPadding:h,debugging:x,reposition:k,submenuOpenDelay:oe,submenuCloseDelay:de,viewScroll:P,portal:ce,theming:re,isMounted:Re,onItemClick:ee,onClick:Oe,onClose:je,skipClick:Fe});return du(De,et),p().createElement(p().Fragment,null,yt,ht)});$s.propTypes=S(E({},lu),{keepMounted:se().bool,menuButton:se().oneOfType([se().element,se().func]).isRequired,onChange:se().func}),$s.defaultProps=S(E({},uu),{keepMounted:!0});const zs=p().memo(function(e){var t=e,{"aria-label":n,id:a,animation:l,boundingBoxRef:f,boundingBoxPadding:h,debugging:g,reposition:x,submenuOpenDelay:k,submenuCloseDelay:P,viewScroll:F,portal:Y,theming:ce,isMounted:oe,onItemClick:de,onClick:re,onClose:ee}=t,Oe=O(t,["aria-label","id","animation","boundingBoxRef","boundingBoxPadding","debugging","reposition","submenuOpenDelay","submenuCloseDelay","viewScroll","portal","theming","isMounted","onItemClick","onClick","onClose"]);return gu(S(E({},Oe),{ariaLabel:n||"Menu"}),{id:a,animation:l,boundingBoxRef:f,boundingBoxPadding:h,debugging:g,reposition:x,submenuOpenDelay:k,submenuCloseDelay:P,viewScroll:F,portal:Y,theming:ce,isMounted:oe,onItemClick:de,onClick:re,onClose:ee})});zs.propTypes=S(E({},lu),{anchorPoint:se().exact({x:se().number,y:se().number}),anchorRef:se().object,captureFocus:se().bool,isOpen:se().bool,isMounted:se().bool,menuItemFocus:se().exact({position:se().string}),onClose:se().func}),zs.defaultProps=S(E({},uu),{captureFocus:!0,isOpen:!1,isMounted:!0,menuItemFocus:{position:Kn.INITIAL}});const vu=jr(p().memo(function(e){var t=e,{"aria-label":n,itemClassName:a,itemStyles:l,disabled:f,keepMounted:h,label:g,index:x,onChange:k,captureFocus:P,repositionFlag:F}=t,Y=O(t,["aria-label","itemClassName","itemStyles","disabled","keepMounted","label","index","onChange","captureFocus","repositionFlag"]);const{isMounted:ce,isOpen:oe,menuItemFocus:de,openMenu:re,closeMenu:ee}=Vs(h),{isParentOpen:Oe,hoverIndex:De,isSubmenuOpen:Ye,dispatch:Re}=(0,C.useContext)(As),{debugging:et,submenuOpenDelay:he,submenuCloseDelay:ke}=(0,C.useContext)(js),Ae=De===x,Fe=!!f,_e=fu(Ae,Fe,Jt.RIGHT),{isActive:Ze,onKeyUp:je}=_e,ft=O(_e,["isActive","onKeyUp"]),Pt=(0,C.useRef)(null),yt=(0,C.useRef)(null),ht=(0,C.useRef)(),Ge=(0,C.useCallback)(()=>{ee(),yt.current.focus()},[ee]),He=Vt=>{Re({type:Wt.SET,index:x}),ht.current=setTimeout(re,Math.max(Vt,0))},Ft=()=>{Fe||oe||(Ye?ht.current=setTimeout(()=>He(he-ke),ke):He(he))},on=()=>{clearTimeout(ht.current),oe||Re({type:Wt.UNSET,index:x})},Bt=()=>{Fe||(clearTimeout(ht.current),re())},Nn=Vt=>{let Qt=!1;switch(Vt.key){case Jt.LEFT:oe&&(Ge(),Qt=!0);break;case Jt.RIGHT:oe||(Qt=!0);break}Qt&&(Vt.preventDefault(),Vt.stopPropagation())},Ut=Vt=>{if(Ze)switch(je(Vt),Vt.key){case Jt.SPACE:case Jt.ENTER:case Jt.RIGHT:re(Kn.FIRST);break}},tr=Vt=>{if(et)return;const Qt=Vt.relatedTarget||document.activeElement;Vt.currentTarget.contains(Qt)||(ee(),Re({type:Wt.UNSET,index:x}))};(0,C.useEffect)(()=>()=>clearTimeout(ht.current),[]),(0,C.useEffect)(()=>{Ae&&Oe?yt.current.focus():ee()},[Ae,Oe,ee]),(0,C.useEffect)(()=>{Re({type:oe?No.OPEN:No.CLOSE})},[Re,oe]),du(k,oe);const dn=(0,C.useMemo)(()=>Object.freeze({open:oe,hover:Ae,active:Ze,disabled:Fe}),[oe,Ae,Ze,Fe]);return p().createElement("li",{className:Vn({block:Qn,element:Hm}),role:"presentation",ref:Pt,onKeyDown:Nn,onBlur:tr},p().createElement("div",Object.assign({className:Vn({block:Qn,element:Rs,modifiers:dn,className:a}),style:mr(l,dn),role:"menuitem","aria-haspopup":"true","aria-expanded":oe,"aria-disabled":Fe||void 0,tabIndex:Ae&&!oe?0:-1,ref:yt,onMouseEnter:Ft,onMouseLeave:on,onMouseDown:()=>!Ae&&Re({type:Wt.SET,index:x}),onClick:Bt,onKeyUp:Ut},ft),(0,C.useMemo)(()=>On(g,dn),[g,dn])),ce&&p().createElement(mu,Object.assign({},Y,{ariaLabel:n||(typeof g=="string"?g:"Submenu"),anchorRef:yt,containerRef:Pt,isOpen:oe,isDisabled:Fe,menuItemFocus:de})))}),"SubMenu");vu.propTypes=S(E(E({},su),gr("item")),{disabled:se().bool,keepMounted:se().bool,label:se().oneOfType([se().node,se().func]).isRequired,onChange:se().func}),vu.defaultProps=S(E({},cu),{direction:"right",keepMounted:!0});const si=jr(p().memo(function(e){var t=e,{className:n,styles:a,value:l,href:f,type:h,checked:g,disabled:x,index:k,children:P,onClick:F}=t,Y=O(t,["className","styles","value","href","type","checked","disabled","index","children","onClick"]);const ce=!!x,{ref:oe,isHovering:de,setHover:re,onBlur:ee,onMouseEnter:Oe,onMouseLeave:De}=hu(ce,k),Ye=(0,C.useContext)(Ls),Re=(0,C.useContext)(eu),et=fu(de,ce),{isActive:he,onKeyUp:ke,onBlur:Ae}=et,Fe=O(et,["isActive","onKeyUp","onBlur"]),_e=h==="radio",Ze=h==="checkbox",je=!!f&&!ce&&!_e&&!Ze,ft=_e?Re.value===l:Ze?!!g:!1,Pt=Bt=>{if(ce)return;let Nn=!1;const Ut={value:l,syntheticEvent:Bt};Bt.key!==void 0&&(Ut.key=Bt.key),_e&&(Ut.name=Re.name,On(Re.onChange,Ut)),Ut.checked=Ze?!ft:!1,Nn=On(F,Ut)===!1,Ye.handleClick(Ut,Nn,Ze||_e)},yt=Bt=>{if(he)switch(ke(Bt),Bt.key){case Jt.SPACE:case Jt.ENTER:je?oe.current.click():Pt(Bt);break}},ht=Bt=>{Ae(Bt),ee(Bt)},Ge=(0,C.useMemo)(()=>Object.freeze({type:h,disabled:ce,hover:de,active:he,checked:ft,anchor:je}),[h,ce,de,he,ft,je]),He=Io(S(E({},Fe),{onMouseEnter:Oe,onMouseLeave:De,onMouseDown:re,onKeyUp:yt,onBlur:ht,onClick:Pt}),Y),Ft=S(E(E({role:_e?"menuitemradio":Ze?"menuitemcheckbox":"menuitem","aria-checked":_e||Ze?ft:void 0,"aria-disabled":ce||void 0,tabIndex:de?0:-1},Y),He),{ref:oe,className:Vn({block:Qn,element:Rs,modifiers:Ge,className:n}),style:mr(a,Ge)}),on=(0,C.useMemo)(()=>On(P,Ge),[P,Ge]);return je?p().createElement("li",{role:"presentation"},p().createElement("a",Object.assign({},Ft,{href:f}),on)):p().createElement("li",Ft,on)}),"MenuItem");si.propTypes=S(E({},gr()),{value:se().any,href:se().string,type:se().oneOf(["checkbox","radio"]),checked:se().bool,disabled:se().bool,children:se().oneOfType([se().node,se().func]).isRequired,onClick:se().func});const Gm=jr(p().memo(function(e){var t=e,{className:n,styles:a,disabled:l,index:f,children:h}=t,g=O(t,["className","styles","disabled","index","children"]);const x=!!l,{ref:k,isHovering:P,setHover:F,onBlur:Y,onMouseEnter:ce,onMouseLeave:oe}=hu(x,f),{handleClose:de}=(0,C.useContext)(Ls),re=(0,C.useMemo)(()=>Object.freeze({disabled:x,hover:P,focusable:!0}),[x,P]),ee=(0,C.useMemo)(()=>On(h,S(E({},re),{ref:k,closeMenu:de})),[k,h,re,de]),Oe=Io({onMouseEnter:ce,onMouseLeave:De=>oe(De,!0),onFocus:F,onBlur:Y},g);return p().createElement("li",Object.assign({"aria-disabled":x||void 0,role:"menuitem",tabIndex:"-1"},g,Oe,{className:Vn({block:Qn,element:Rs,modifiers:re,className:n}),style:mr(a,re)}),ee)}),"FocusableItem");Gm.propTypes=S(E({},gr()),{disabled:se().bool,children:se().func.isRequired});const Jm=jr(p().memo(function(e){var t=e,{className:n,styles:a}=t,l=O(t,["className","styles"]);return p().createElement("li",Object.assign({role:"separator"},l,{className:Vn({block:Qn,element:Vm,className:n}),style:mr(a)}))}),"MenuDivider");Jm.propTypes=E({},gr());const bu=jr(p().memo(function(e){var t=e,{className:n,styles:a}=t,l=O(t,["className","styles"]);return p().createElement("li",Object.assign({role:"presentation"},l,{className:Vn({block:Qn,element:$m,className:n}),style:mr(a)}))}),"MenuHeader");bu.propTypes=E({},gr());const qm=jr(p().memo(function(e){var t=e,{className:n,styles:a,takeOverflow:l}=t,f=O(t,["className","styles","takeOverflow"]);const h=(0,C.useRef)(null),[g,x]=(0,C.useState)(),{overflow:k,overflowAmt:P}=(0,C.useContext)(Ps);return eo(()=>{let F;l&&P>=0&&(F=h.current.getBoundingClientRect().height-P,F<0&&(F=0)),x(F>=0?{maxHeight:F,overflow:k}:void 0)},[l,k,P]),eo(()=>{g&&(h.current.scrollTop=0)},[g]),p().createElement("div",Object.assign({ref:h},f,{className:Vn({block:Qn,element:zm,className:n}),style:E(E({},mr(a)),g)}))}),"MenuGroup");qm.propTypes=S(E({},gr()),{takeOverflow:se().bool});const Xm=jr(p().memo(function(e){var t=e,{"aria-label":n,className:a,styles:l,name:f,value:h,children:g,onChange:x}=t,k=O(t,["aria-label","className","styles","name","value","children","onChange"]);const P=(0,C.useMemo)(()=>({name:f,value:h,onChange:x}),[f,h,x]);return p().createElement("li",{role:"presentation"},p().createElement("ul",Object.assign({role:"group","aria-label":n||f||"Radio group"},k,{className:Vn({block:Qn,element:Wm,className:a}),style:mr(l)}),p().createElement(eu.Provider,{value:P},g)))}),"MenuRadioGroup");Xm.propTypes=S(E({},gr()),{"aria-label":se().string,name:se().string,value:se().any,children:se().node.isRequired,onChange:se().func});var La=[],Ym=function(){return La.some(function(e){return e.activeTargets.length>0})},Qm=function(){return La.some(function(e){return e.skippedTargets.length>0})},yu="ResizeObserver loop completed with undelivered notifications.",Km=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:yu}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=yu),window.dispatchEvent(e)},to;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(to||(to={}));var ja=function(e){return Object.freeze(e)},eg=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,ja(this)}return e}(),wu=function(){function e(t,n,a,l){return this.x=t,this.y=n,this.width=a,this.height=l,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,ja(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,a=t.y,l=t.top,f=t.right,h=t.bottom,g=t.left,x=t.width,k=t.height;return{x:n,y:a,top:l,right:f,bottom:h,left:g,width:x,height:k}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),Hs=function(e){return e instanceof SVGElement&&"getBBox"in e},Eu=function(e){if(Hs(e)){var t=e.getBBox(),n=t.width,a=t.height;return!n&&!a}var l=e,f=l.offsetWidth,h=l.offsetHeight;return!(f||h||e.getClientRects().length)},xu=function(e){var t,n;if(e instanceof Element)return!0;var a=(n=(t=e)===null||t===void 0?void 0:t.ownerDocument)===null||n===void 0?void 0:n.defaultView;return!!(a&&e instanceof a.Element)},tg=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},no=typeof window<"u"?window:{},Do=new WeakMap,Su=/auto|scroll/,ng=/^tb|vertical/,rg=/msie|trident/i.test(no.navigator&&no.navigator.userAgent),vr=function(e){return parseFloat(e||"0")},li=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new eg((n?t:e)||0,(n?e:t)||0)},ku=ja({devicePixelContentBoxSize:li(),borderBoxSize:li(),contentBoxSize:li(),contentRect:new wu(0,0,0,0)}),Tu=function(e,t){if(t===void 0&&(t=!1),Do.has(e)&&!t)return Do.get(e);if(Eu(e))return Do.set(e,ku),ku;var n=getComputedStyle(e),a=Hs(e)&&e.ownerSVGElement&&e.getBBox(),l=!rg&&n.boxSizing==="border-box",f=ng.test(n.writingMode||""),h=!a&&Su.test(n.overflowY||""),g=!a&&Su.test(n.overflowX||""),x=a?0:vr(n.paddingTop),k=a?0:vr(n.paddingRight),P=a?0:vr(n.paddingBottom),F=a?0:vr(n.paddingLeft),Y=a?0:vr(n.borderTopWidth),ce=a?0:vr(n.borderRightWidth),oe=a?0:vr(n.borderBottomWidth),de=a?0:vr(n.borderLeftWidth),re=F+k,ee=x+P,Oe=de+ce,De=Y+oe,Ye=g?e.offsetHeight-De-e.clientHeight:0,Re=h?e.offsetWidth-Oe-e.clientWidth:0,et=l?re+Oe:0,he=l?ee+De:0,ke=a?a.width:vr(n.width)-et-Re,Ae=a?a.height:vr(n.height)-he-Ye,Fe=ke+re+Re+Oe,_e=Ae+ee+Ye+De,Ze=ja({devicePixelContentBoxSize:li(Math.round(ke*devicePixelRatio),Math.round(Ae*devicePixelRatio),f),borderBoxSize:li(Fe,_e,f),contentBoxSize:li(ke,Ae,f),contentRect:new wu(F,x,ke,Ae)});return Do.set(e,Ze),Ze},_u=function(e,t,n){var a=Tu(e,n),l=a.borderBoxSize,f=a.contentBoxSize,h=a.devicePixelContentBoxSize;switch(t){case to.DEVICE_PIXEL_CONTENT_BOX:return h;case to.BORDER_BOX:return l;default:return f}},ag=function(){function e(t){var n=Tu(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=ja([n.borderBoxSize]),this.contentBoxSize=ja([n.contentBoxSize]),this.devicePixelContentBoxSize=ja([n.devicePixelContentBoxSize])}return e}(),Cu=function(e){if(Eu(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},ig=function(){var e=1/0,t=[];La.forEach(function(f){if(f.activeTargets.length!==0){var h=[];f.activeTargets.forEach(function(g){var x=new ag(g.target),k=Cu(g.target);h.push(x),g.lastReportedSize=_u(g.target,g.observedBox),k<e&&(e=k)}),t.push(function(){f.callback.call(f.observer,h,f.observer)}),f.activeTargets.splice(0,f.activeTargets.length)}});for(var n=0,a=t;n<a.length;n++){var l=a[n];l()}return e},Mu=function(e){La.forEach(function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function(n){n.isActive()&&(Cu(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))})})},og=function(){var e=0;for(Mu(e);Ym();)e=ig(),Mu(e);return Qm()&&Km(),e>0},Ws,Ou=[],sg=function(){return Ou.splice(0).forEach(function(e){return e()})},lg=function(e){if(!Ws){var t=0,n=document.createTextNode(""),a={characterData:!0};new MutationObserver(function(){return sg()}).observe(n,a),Ws=function(){n.textContent=""+(t?t--:t++)}}Ou.push(e),Ws()},cg=function(e){lg(function(){requestAnimationFrame(e)})},Ro=0,ug=function(){return!!Ro},fg=250,hg={attributes:!0,characterData:!0,childList:!0,subtree:!0},Nu=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Iu=function(e){return e===void 0&&(e=0),Date.now()+e},Us=!1,dg=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=fg),!Us){Us=!0;var a=Iu(t);cg(function(){var l=!1;try{l=og()}finally{if(Us=!1,t=a-Iu(),!ug())return;l?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,hg)};document.body?n():no.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Nu.forEach(function(n){return no.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),Nu.forEach(function(n){return no.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),Zs=new dg,Du=function(e){!Ro&&e>0&&Zs.start(),Ro+=e,!Ro&&Zs.stop()},pg=function(e){return!Hs(e)&&!tg(e)&&getComputedStyle(e).display==="inline"},mg=function(){function e(t,n){this.target=t,this.observedBox=n||to.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=_u(this.target,this.observedBox,!0);return pg(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),gg=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),Ao=new WeakMap,Ru=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},Po=function(){function e(){}return e.connect=function(t,n){var a=new gg(t,n);Ao.set(t,a)},e.observe=function(t,n,a){var l=Ao.get(t),f=l.observationTargets.length===0;Ru(l.observationTargets,n)<0&&(f&&La.push(l),l.observationTargets.push(new mg(n,a&&a.box)),Du(1),Zs.schedule())},e.unobserve=function(t,n){var a=Ao.get(t),l=Ru(a.observationTargets,n),f=a.observationTargets.length===1;l>=0&&(f&&La.splice(La.indexOf(a),1),a.observationTargets.splice(l,1),Du(-1))},e.disconnect=function(t){var n=this,a=Ao.get(t);a.observationTargets.slice().forEach(function(l){return n.unobserve(t,l.target)}),a.activeTargets.splice(0,a.activeTargets.length)},e}(),vg=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Po.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!xu(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Po.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!xu(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Po.unobserve(this,t)},e.prototype.disconnect=function(){Po.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const bg=p()[typeof document<"u"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"],yg=e=>{const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),t};var wg=function(e){var t=[],n=null,a=function(){for(var l=arguments.length,f=new Array(l),h=0;h<l;h++)f[h]=arguments[h];t=f,!n&&(n=requestAnimationFrame(function(){n=null,e.apply(void 0,t)}))};return a.cancel=function(){!n||(cancelAnimationFrame(n),n=null)},a};const Eg=wg,xg=typeof window<"u"&&"ResizeObserver"in window?window.ResizeObserver:vg;function Sg(){}function kg(e,t){const n=_g(),a=yg(t);return bg(()=>{let l=!1;const f=e&&"current"in e?e.current:e;if(!f)return Sg;function h(g,x){l||a.current(g,x)}return n.subscribe(f,h),()=>{l=!0,n.unsubscribe(f,h)}},[e,n,a]),n.observer}function Tg(){const e=new Map,t=new xg(Eg((n,a)=>{for(let l=0;l<n.length;l++){const f=e.get(n[l].target);f==null||f.forEach(h=>h(n[l],a))}}));return{observer:t,subscribe(n,a){var l;t.observe(n);const f=(l=e.get(n))!==null&&l!==void 0?l:[];f.push(a),e.set(n,f)},unsubscribe(n,a){var l;const f=(l=e.get(n))!==null&&l!==void 0?l:[];if(f.length===1){t.unobserve(n),e.delete(n);return}const h=f.indexOf(a);h!==-1&&f.splice(h,1),e.set(n,f)}}}let Au;const _g=()=>Au||(Au=Tg()),Gs=kg;var Cg=$(594),Mg=$.n(Cg);const Og={canvas:"OblL49alHyHyc9eQg8j4nA=="},Ng={highlight:"rnaOpSl6-Al2+GT07ZkG5Q=="};var Ig=Object.defineProperty,Dg=Object.defineProperties,Rg=Object.getOwnPropertyDescriptors,Pu=Object.getOwnPropertySymbols,Ag=Object.prototype.hasOwnProperty,Pg=Object.prototype.propertyIsEnumerable,Lu=(e,t,n)=>t in e?Ig(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ju=(e,t)=>{for(var n in t||(t={}))Ag.call(t,n)&&Lu(e,n,t[n]);if(Pu)for(var n of Pu(t))Pg.call(t,n)&&Lu(e,n,t[n]);return e},Lg=(e,t)=>Dg(e,Rg(t));function jg(e){const{canvasRef:t,barHeight:n,xyToHighlightData:a,zoom:l}=e,[f,h]=p().useState({height:"0px",visibility:"hidden"});p().useEffect(()=>{h({height:"0px",visibility:"hidden"})},[l]);const g=k=>{const P=a(k.offsetX,k.offsetY);if(P.isJust){const F=P.value;h(ju({visibility:"visible",height:`${n}px`},F))}else x()},x=()=>{h(Lg(ju({},f),{visibility:"hidden"}))};return p().useEffect(()=>{const k=t.current;return k?(k.addEventListener("mousemove",g),k.addEventListener("mouseout",x),()=>{k.removeEventListener("mousemove",g),k.removeEventListener("mouseout",x)}):()=>{}},[t.current,g,x]),p().createElement("div",{className:Ng.highlight,style:f,"data-testid":"flamegraph-highlight"})}const Fg={highlightContextMenu:"_2aEs2ORKQVtdd+CAuIWrcA=="};var Bg=Object.defineProperty,Fu=Object.getOwnPropertySymbols,Vg=Object.prototype.hasOwnProperty,$g=Object.prototype.propertyIsEnumerable,Bu=(e,t,n)=>t in e?Bg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zg=(e,t)=>{for(var n in t||(t={}))Vg.call(t,n)&&Bu(e,n,t[n]);if(Fu)for(var n of Fu(t))$g.call(t,n)&&Bu(e,n,t[n]);return e};const Vu={height:"0px",visibility:"hidden"};function Hg(e){const{node:t,barHeight:n}=e,[a,l]=p().useState(Vu);return p().useEffect(()=>{t.match({Nothing:()=>l(Vu),Just:f=>l(zg({visibility:"visible",height:`${n}px`},f))})},[t]),p().createElement("div",{className:Fg.highlightContextMenu,style:a,"data-testid":"flamegraph-highlight-contextmenu"})}var Wg=Object.defineProperty,Ug=Object.defineProperties,Zg=Object.getOwnPropertyDescriptors,$u=Object.getOwnPropertySymbols,Gg=Object.prototype.hasOwnProperty,Jg=Object.prototype.propertyIsEnumerable,zu=(e,t,n)=>t in e?Wg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qg=(e,t)=>{for(var n in t||(t={}))Gg.call(t,n)&&zu(e,n,t[n]);if($u)for(var n of $u(t))Jg.call(t,n)&&zu(e,n,t[n]);return e},Xg=(e,t)=>Ug(e,Zg(t));const ci={name:"Default",goodColor:Ce().rgb(0,170,0),neutralColor:Ce().rgb(148,142,142),badColor:Ce().rgb(200,0,0),colors:[Ce().hsl(24,69,60),Ce().hsl(34,65,65),Ce().hsl(194,52,61),Ce().hsl(163,45,55),Ce().hsl(211,48,60),Ce().hsl(246,40,65),Ce().hsl(305,63,79),Ce().hsl(47,100,73),Ce().rgb(183,219,171),Ce().rgb(244,213,152),Ce().rgb(78,146,249),Ce().rgb(249,186,143),Ce().rgb(242,145,145),Ce().rgb(130,181,216),Ce().rgb(229,168,226),Ce().rgb(174,162,224),Ce().rgb(154,196,138),Ce().rgb(242,201,109),Ce().rgb(101,197,219),Ce().rgb(249,147,78),Ce().rgb(234,100,96),Ce().rgb(81,149,206),Ce().rgb(214,131,206),Ce().rgb(128,110,183)]},Yg=Xg(qg({},ci),{name:"Color Blind",goodColor:Ce().rgb(26,133,255),neutralColor:Ce().rgb(148,142,142),badColor:Ce().rgb(220,50,32)});function Qg(){return p().createElement("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30"},p().createElement("defs",null),p().createElement("path",{style:{fill:"#7d7d7f"},d:"M5,19.56c0,5.22,3.54,9.44,7.92,9.44h3.17c4.37,0,7.92-4.23,7.92-9.44v-7.56H5v7.56Z"}),p().createElement("path",{style:{fill:"#7d7d7f"},d:"M14,1h-.82c-4.52,0-8.18,3.73-8.18,8.33v1.67H14V1Z"}),p().createElement("path",{d:"M15.82,1h-.82V11h9v-1.67c0-4.6-3.66-8.33-8.18-8.33Z"}))}function Kg(){return p().createElement("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30"},p().createElement("defs",null),p().createElement("path",{style:{fill:"#7d7d7f"},d:"M24,19.56c0,5.22-3.54,9.44-7.92,9.44h-3.17c-4.37,0-7.92-4.23-7.92-9.44v-7.56H24v7.56Z"}),p().createElement("path",{style:{fill:"#7d7d7f"},d:"M15,1h.82c4.52,0,8.18,3.73,8.18,8.33v1.67H15V1Z"}),p().createElement("path",{d:"M13.18,1h.82V11H5v-1.67c0-4.6,3.66-8.33,8.18-8.33Z"}))}const Fa={tooltip:"EitWfLJlRhB605WKBhJqJA==",flamegraphDiffTooltip:"JDNfewH9FpPntx5Wu1nQjw==",tooltipName:"OYP-AU7HdIz-U3S15iaSMQ==",functionName:"wx9q4ZorgH1vtYtZv7yIAg==",tooltipTable:"+0L0FytvTTAXpH3pPg1wZw==",clickInfo:"_8y0K87bqdGd-mxDZz+YoPg=="};function Hu({shouldShowFooter:e=!0,shouldShowTitle:t=!0,dataSourceRef:n,clickInfoSide:a,setTooltipContent:l}){const f=(0,C.useRef)(null),[h,g]=p().useState({title:{text:"",diff:{text:"",color:""}},tooltipData:[]}),[x,k]=(0,C.useState)(),P=()=>{k({visibility:"hidden"}),g({title:{text:"",diff:{text:"",color:""}},tooltipData:[]})},F=(0,C.useCallback)(Y=>{if(!f||!f.current)throw new Error("Missing tooltipElement");const ce=Math.min(Y.clientX+12,window.innerWidth-f.current.clientWidth-20),oe={top:Y.clientY+20,left:ce,visibility:"visible"};l(g,P,Y),k(oe)},[f,l]);return(0,C.useEffect)(()=>{const Y=n.current;return Y?(Y.addEventListener("mousemove",F),Y.addEventListener("mouseout",P),()=>{Y.removeEventListener("mousemove",F),Y.removeEventListener("mouseout",P)}):()=>{}},[n.current,F]),p().createElement("div",{"data-testid":"tooltip",className:Ar(Fa.tooltip,{[Fa.flamegraphDiffTooltip]:h.tooltipData.length>1}),style:x,ref:f},h.tooltipData.length>0&&p().createElement(p().Fragment,null,t&&p().createElement("div",{className:Fa.tooltipName,"data-testid":"tooltip-title"},h.title.text),p().createElement("div",{className:Fa.functionName,"data-testid":"tooltip-function-name"},h.title.text),h.title.diff.text.length>0?p().createElement(Wu,{data:h.tooltipData,diff:h.title.diff}):p().createElement(Wu,{data:h.tooltipData}),e&&p().createElement(e0,{clickInfoSide:a})))}const ro={objects:{percent:"% of objects in RAM",formattedValue:"Objects in RAM",total:"% of total RAM"},goroutines:{percent:"% of goroutines",formattedValue:"Goroutines",total:"% of total goroutines"},bytes:{percent:"% of RAM",formattedValue:"RAM",total:"% of total bytes"},samples:{percent:"Share of CPU",formattedValue:"CPU Time",total:"% of total CPU"},lock_nanoseconds:{percent:"% of Time spent",formattedValue:"Time",total:"% of total seconds"},lock_samples:{percent:"% of contended locks",formattedValue:"Contended locks",total:"% of total locks"},trace_samples:{percent:"% of time",formattedValue:"Samples",total:"% of total samples"},"":{percent:"Percentage",formattedValue:"Units",total:"% of total units"}};function Wu({data:e,diff:t}){const[n,a]=e;if(!n)return null;let l;switch(n.tooltipType){case"flamegraph":l=()=>p().createElement(p().Fragment,null,a&&p().createElement("thead",null,p().createElement("tr",null,p().createElement("th",null),p().createElement("th",null,"Baseline"),p().createElement("th",null,"Comparison"),p().createElement("th",null,"Diff"))),p().createElement("tbody",null,p().createElement("tr",null,p().createElement("td",null,ro[n.units].percent,":"),p().createElement("td",null,n.percent),a&&p().createElement(p().Fragment,null,p().createElement("td",null,a.percent),p().createElement("td",null,t&&p().createElement("span",{"data-testid":"tooltip-diff",style:{color:t.color}},t.text)))),p().createElement("tr",null,p().createElement("td",null,ro[n.units].formattedValue,":"),p().createElement("td",null,n.formattedValue),a&&p().createElement(p().Fragment,null,p().createElement("td",null,a.formattedValue),p().createElement("td",null))),p().createElement("tr",null,p().createElement("td",null,"Samples:"),p().createElement("td",null,n.samples),a&&p().createElement(p().Fragment,null,p().createElement("td",null,a.samples),p().createElement("td",null)))));break;case"table":l=()=>p().createElement(p().Fragment,null,p().createElement("thead",null,p().createElement("tr",null,p().createElement("td",null),p().createElement("td",null,"Self (",ro[n.units].total,")"),p().createElement("td",null,"Total (",ro[n.units].total,")"))),p().createElement("tbody",null,p().createElement("tr",null,p().createElement("td",null,ro[n.units].formattedValue,":"),p().createElement("td",null,n.self),p().createElement("td",null,n.total))));break;default:l=()=>null}return p().createElement("table",{"data-testid":"tooltip-table",className:Ar(Fa.tooltipTable,{[Fa[`${n.tooltipType}${a?"Diff":""}`]]:n.tooltipType})},l())}function e0({clickInfoSide:e}){let t;switch(e){case"right":t=p().createElement(p().Fragment,null,p().createElement(Qg,null),p().createElement("span",null,"Right click for more node viewing options"));break;case"left":t=p().createElement(p().Fragment,null,p().createElement(Kg,null),p().createElement("span",null,"Click to highlight node in flamegraph"));break;default:t=p().createElement(p().Fragment,null)}return p().createElement("div",{"data-testid":"tooltip-footer",className:Fa.clickInfo},t)}function t0(e){const{format:t,canvasRef:n,xyToData:a,numTicks:l,sampleRate:f,units:h,leftTicks:g,rightTicks:x,palette:k}=e,P=(0,C.useCallback)((F,Y,ce)=>{const oe=b(l,f,h),de=a(ce.offsetX,ce.offsetY);let re;if(de.isJust)re=de.value;else{Y();return}switch(re.format){case"single":{const ee={percent:y(re.total/l),samples:h==="trace_samples"?"":Pa(re.total),units:h,formattedValue:oe.format(re.total,f),tooltipType:"flamegraph"};F({title:{text:re.name,diff:{text:"",color:""}},tooltipData:[ee]});break}case"double":{if(t==="single")throw new Error("props format is 'single' but it has been mapped to 'double'");const ee=n0({formatter:oe,sampleRate:f,totalLeft:re.totalLeft,leftTicks:g,totalRight:re.totalRight,rightTicks:x,title:re.name,units:h},k);F({title:ee.title,tooltipData:ee.tooltipData});break}default:throw new Error("Unsupported format:'")}},[l,f,h,g,x,k]);return p().createElement(Hu,{dataSourceRef:n,clickInfoSide:"right",setTooltipContent:P})}function n0({formatter:e,sampleRate:t,totalLeft:n,leftTicks:a,totalRight:l,rightTicks:f,title:h,units:g},x=ci){const k=n/a,P=l/f,F=u(k),Y=u(P),ce={percent:`${F}%`,samples:Pa(n),units:g,formattedValue:e.format(n,t),tooltipType:"flamegraph"},oe={percent:`${Y}%`,samples:Pa(l),units:g,formattedValue:e.format(l,t),tooltipType:"flamegraph"},de=r0(F,Y);let re="";de>0?re=x.badColor.rgb().string():de<0&&(re=x.goodColor.rgb().string());let ee="";return n?l?de>0?ee=`(+${de.toFixed(2)}%)`:de<0&&(ee=`(${de.toFixed(2)}%)`):ee="(removed)":ee="(new)",{title:{text:h,diff:{text:ee,color:re}},tooltipData:[ce,oe]}}function r0(e,t){return(t-e)/e*100}const a0={dummy:"_8jsg5CgIlsOOE89k5kk7iA=="};var Uu=Object.getOwnPropertySymbols,i0=Object.prototype.hasOwnProperty,o0=Object.prototype.propertyIsEnumerable,s0=(e,t)=>{var n={};for(var a in e)i0.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&Uu)for(var a of Uu(e))t.indexOf(a)<0&&o0.call(e,a)&&(n[a]=e[a]);return n};function l0(e){const t=Vs(!1),{openMenu:n,closeMenu:a}=t,l=s0(t,["openMenu","closeMenu"]),[f,h]=p().useState({x:0,y:0}),{canvasRef:g}=e,[x,k]=p().useState([]),{xyToMenuItems:P,onClose:F,onOpen:Y}=e,ce=()=>{a(),F()};return p().useEffect(()=>{a();const oe=g.current;if(!oe)return()=>{};const de=re=>{re.preventDefault();const ee=P(re.offsetX,re.offsetY);k(ee);const Oe=re.clientX,De=re.clientY+20;h({x:Oe,y:De}),n(),Y(re.offsetX,re.offsetY)};return oe.addEventListener("contextmenu",de),()=>{oe.removeEventListener("contextmenu",de)}},[P]),p().createElement(zs,{className:a0.dummy,menuItemFocus:l.menuItemFocus,isMounted:l.isMounted,isOpen:l.isOpen,anchorPoint:f,onClose:ce},x)}const c0={logoLink:"HqveVyKaVoFyC4vstbKG5g=="};function u0(){return p().createElement("svg",{width:"22px",height:"22px",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},p().createElement("defs",null,p().createElement("radialGradient",{cx:"49.4236252%",cy:"92.6627823%",fx:"49.4236252%",fy:"92.6627823%",r:"195.066755%",gradientTransform:"translate(0.494236,0.926628),scale(1.000000,0.735610),rotate(-90.000000),translate(-0.494236,-0.926628)",id:"radialGradient-1"},p().createElement("stop",{stopColor:"#FFB90C",offset:"0%"}),p().createElement("stop",{stopColor:"#F9243A",offset:"38.390924%"}),p().createElement("stop",{stopColor:"#F9243A",offset:"50.5405%"}),p().createElement("stop",{stopColor:"#B51424",offset:"73.98091%"}),p().createElement("stop",{stopColor:"#B51424",offset:"100%"}))),p().createElement("g",{id:"Artboard",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},p().createElement("g",{id:"fire-part",transform:"translate(148.516736, 0.000000)",fillRule:"nonzero"},p().createElement("g",{id:"whole-thing",transform:"translate(363.983264, 495.000000) scale(-1, 1) rotate(-180.000000) translate(-363.983264, -495.000000) translate(0.483264, 0.000000)"},p().createElement("g",{id:"g70",transform:"translate(-0.000091, 0.685815)",fill:"url(#radialGradient-1)"},p().createElement("path",{d:"M65.3646667,571.739321 L65.4492471,571.698868 C19.5139147,505.999969 -5.32464048,424.477859 1.04305801,336.877516 L1.04305801,336.877516 C14.0321963,158.179446 159.192462,13.7596653 338.059844,1.5917266 L338.059844,1.5917266 C419.418369,-3.93888015 495.500283,17.3823334 558.456522,57.4611191 L558.456522,57.4611191 L481.301947,162.097965 C437.516468,136.521928 399.367671,129.590556 363.486536,130.155994 L363.486536,130.155994 C234.497143,130.155994 129.556988,235.032238 129.556988,363.946998 L129.556988,363.946998 C129.556988,492.865683 234.497143,597.738003 363.486536,597.738003 L363.486536,597.738003 C492.483783,597.738003 597.427864,492.865683 597.427864,363.946998 L597.427864,363.946998 C597.41276,304.634864 581.39383,255.677522 530.630465,199.668053 L607.770843,95.1329436 C680.936847,161.576603 726.932594,257.364176 726.932594,363.946998 L726.932594,363.946998 C726.932594,458.031616 691.13483,543.75602 632.416071,608.271816 L632.416071,608.271816 L632.416071,608.275741 L533.597728,748.122808 L428.601388,617.203806 L434.703262,646.563419 C459.453008,765.59222 433.664131,889.543925 363.49439,988.853335 L363.49439,988.853335 L65.3646667,571.723019 L65.3646667,571.739321 Z",id:"path84"})),p().createElement("g",{id:"blue",transform:"translate(191.447039, 191.331780)"},p().createElement("g",{id:"g88",transform:"translate(-0.000063, 0.685930)"},p().createElement("g",{id:"g94",transform:"translate(0.177296, 0.699054)",fill:"#3EC1D3"},p().createElement("path",{d:"M171.862466,343.697728 C77.0961324,343.697728 -0.00497405932,266.647602 -0.00497405932,171.934957 C-0.00497405932,77.2182874 77.0961324,0.168162396 171.862466,0.168162396 C266.632828,0.168162396 343.741988,77.2182874 343.741988,171.934957 C343.741988,266.647602 266.632828,343.697728 171.862466,343.697728",id:"path96"})),p().createElement("g",{id:"g98",transform:"translate(29.362379, 172.629585)",fill:"#FFFFFF"},p().createElement("path",{d:"M22.8397982,0 L0.671669409,0 C0.671669409,78.2496309 64.380874,141.920035 142.678189,141.920035 L142.678189,119.765407 C76.6007327,119.765407 22.8397982,66.0372141 22.8397982,0",id:"path100"}))))))))}function f0(){return p().createElement("a",{className:c0.logoLink,href:"https://github.com/pyroscope-io/pyroscope/",target:"_blank",rel:"noreferrer"},[u0(),p().createElement("span",null,"Pyroscope")])}const Lo={flamegraphHeader:"F5gLmM2HlBS6Lh2eA+TOLA==",row:"-11Zgjyiq3PJ2gS11OZevw==",flamegraphTitle:"Jw-yvX-dsWn+UNQdvsw+FQ==",buttons:"X-KASulGPmT7oMsRdlQqnA=="};var h0=$(779),Zu=$.n(h0);const Js={"flamegraph-legend":"PETh3MyDcaGQCI1Nw0+g+g==","flamegraph-legend-list":"A3ypFowL4h2Jv2vkSIjs6Q==","flamegraph-legend-item":"h-tSfWrzSrCEL9uo2nsHtA=="};function Gu(e){const{palette:t,showMode:n}=e,a=d0(n),l=nc(t);return p().createElement("div",{"data-testid":"flamegraph-legend",className:`${Js["flamegraph-legend"]} ${Js["flamegraph-legend-list"]}`},a.map(f=>p().createElement("div",{key:f,className:Js["flamegraph-legend-item"],style:{backgroundColor:l(f).rgb().toString()}},f>0?"+":"",f,"%")))}function d0(e){switch(e){case"large":return[-100,-80,-60,-40,-20,-10,0,10,20,40,60,80,100];case"small":return[-100,-40,-20,0,20,40,100];default:throw new Error(`Unsupported ${e}`)}}function Ju(){return p().createElement("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"12px",height:"12px",viewBox:"0 0 405.272 405.272"},p().createElement("g",null,p().createElement("path",{d:`M393.401,124.425L179.603,338.208c-15.832,15.835-41.514,15.835-57.361,0L11.878,227.836

		c-15.838-15.835-15.838-41.52,0-57.358c15.841-15.841,41.521-15.841,57.355-0.006l81.698,81.699L336.037,67.064

		c15.841-15.841,41.523-15.829,57.358,0C409.23,82.902,409.23,108.578,393.401,124.425z`})))}const qs={dropdownMenu:"J678hvn1r+E07yCv8bQwPQ==",dropdownMenuButton:"tKAw4h6chUOdq3FlfFl3Iw=="};var qu=Object.getOwnPropertySymbols,p0=Object.prototype.hasOwnProperty,m0=Object.prototype.propertyIsEnumerable,g0=(e,t)=>{var n={};for(var a in e)p0.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&qu)for(var a of qu(e))t.indexOf(a)<0&&m0.call(e,a)&&(n[a]=e[a]);return n};function Xu(e){var t=e,{id:n,children:a,className:l,disabled:f,value:h,label:g,onItemClick:x,overflow:k,position:P,direction:F,align:Y,viewScroll:ce,arrow:oe,offsetX:de,offsetY:re,menuButtonClassName:ee="",ariaLabel:Oe}=t,De=g0(t,["id","children","className","disabled","value","label","onItemClick","overflow","position","direction","align","viewScroll","arrow","offsetX","offsetY","menuButtonClassName","ariaLabel"]);const Ye=De.menuButton||p().createElement(Qu,{"aria-label":Oe,className:`${qs.dropdownMenuButton} ${ee}`,disabled:f,type:"button"},h||g);return p().createElement($s,{id:n,"aria-label":Oe,className:Zu()(l,qs.dropdownMenu),"data-testid":De["data-testid"],onItemClick:x,overflow:k,position:P,direction:F,align:Y,viewScroll:ce,arrow:oe,offsetX:de,offsetY:re,menuButton:Ye},p().createElement(bu,null,g),a)}const Yu=si,Qu=pu,jo={diffPaletteDropdown:"_6c8KIUK3wkkAS+zkvzR6PQ==",dropdownWrapper:"-ufQfGGUIgxKWexx4vHnlw==",dropdownItem:"ZmNLcnPdS72h63urXHirRw==","rc-menu-item":"Vh5XCujqCzvUq1Sd4g0JLg==",row:"v0fu72DcFs5hE2iPZcxYbA=="},v0=[ci,Yg],b0=e=>{const{palette:t=ci,onChange:n}=e,a=p().useRef(null),l=w0(a);return p().createElement(p().Fragment,null,p().createElement("div",{className:jo.row,role:"heading","aria-level":2},p().createElement("p",{style:{color:t.goodColor.rgb().string()}},"(-) Removed"),p().createElement("p",{style:{color:t.badColor.rgb().string()}},"Added (+)")),p().createElement("div",{ref:a,className:jo.dropdownWrapper},p().createElement(Xu,{label:"Select a palette",menuButton:p().createElement(Qu,{className:Zu()(qs.dropdownMenuButton,jo.diffPaletteDropdown)},p().createElement(Gu,{palette:t,showMode:l})),onItemClick:f=>n(f.value)},v0.map(f=>p().createElement(Yu,{key:f.name,value:f},p().createElement("div",null,p().createElement("label",null,f.name),p().createElement("div",{className:jo.dropdownItem},p().createElement(Gu,{palette:f,showMode:l}),f===t?p().createElement(Ju,null):null)))))))},y0=13*37,w0=e=>{const[t,n]=p().useState("large"),a=l=>l<y0?"small":"large";return p().useLayoutEffect(()=>{if(e.current){const{width:l}=e.current.getBoundingClientRect();n(a(l))}},[e.current]),Gs(e,l=>{n(a(l.contentRect.width))}),t};function E0(e){const{format:t,units:n,ExportData:a=p().createElement(p().Fragment,null),palette:l,setPalette:f,toolbarVisible:h}=e,g={objects:"number of objects in RAM per function",goroutines:"number of goroutines",bytes:"amount of RAM per function",samples:"CPU time per function",lock_nanoseconds:"time spent waiting on locks per function",lock_samples:"number of contended locks per function",trace_samples:"aggregated span duration","":""},x=h?(()=>{switch(t){case"single":return p().createElement("div",null,p().createElement("div",{className:`${Lo.row} ${Lo.flamegraphTitle}`,role:"heading","aria-level":2},g[n]&&p().createElement(p().Fragment,null,"Frame width represents ",g[n])));case"double":return p().createElement(p().Fragment,null,p().createElement(b0,{palette:l,onChange:f}));default:throw new Error(`unexpected format ${t}`)}})():null;return p().createElement("div",{className:Lo.flamegraphHeader},p().createElement("div",null,x),a?p().createElement("div",{className:Lo.buttons},a):p().createElement(p().Fragment,null))}const x0={flamegraphPane:"sQhkbo9-hkp-QcidoRJEzQ=="};function S0(e){const t=p().useRef(null),n=(0,C.useRef)(),[a,l]=p().useState(zt.nothing()),{flamebearer:f,focusedNode:h,fitMode:g,highlightQuery:x,zoom:k,toolbarVisible:P,showCredit:F,setActiveItem:Y,selectedItem:ce}=e,{onZoom:oe,onReset:de,isDirty:re,onFocusOnNode:ee}=e,{ExportData:Oe}=e,{"data-testid":De}=e,{palette:Ye,setPalette:Re}=e,et=(0,C.useCallback)(Mg()(()=>{ft()},50),[]);Gs(t,()=>{n&&et()});const he=Ge=>{const He=ht().xyToBar(Ge.nativeEvent.offsetX,Ge.nativeEvent.offsetY);He.match({Nothing:()=>{},Just:Ft=>{k.match({Nothing:()=>{oe(He)},Just:on=>{Ft.i===on.i&&Ft.j===on.j?oe(zt.nothing()):oe(He)}})}})},ke=(Ge,He)=>ht().xyToBar(Ge,He).map(Ft=>({left:yt().offsetLeft+Ft.x,top:yt().offsetTop+Ft.y,width:Ft.width})),Ae=(Ge,He)=>ht().xyToBar(Ge,He),Fe=()=>{l(zt.nothing())},_e=(Ge,He)=>{l(ke(Ge,He))},Ze=(0,C.useCallback)((Ge,He)=>{const Ft=re(),on=ht().xyToBar(Ge,He),Bt=on.isJust?on.value.name:"",Nn=()=>{const dn=on.mapOrElse(()=>!1,()=>!0),Vt=on.mapOrElse(()=>()=>{},Qt=>ee.bind(null,Qt.i,Qt.j));return p().createElement(si,{key:"focus",disabled:!dn,onClick:Vt},p().createElement(pr,{icon:Qc.V9}),"Collapse nodes above")},Ut=()=>{const dn=()=>{!navigator.clipboard||navigator.clipboard.writeText(Bt)};return p().createElement(si,{key:"copy",onClick:dn},p().createElement(pr,{icon:Am.kZ}),"Copy function name")},tr=()=>{const dn=()=>{Y({name:Bt})},Vt=ce.isJust&&ce.value===Bt?"Clear highlight":"Highlight similar nodes";return p().createElement(si,{key:"highlight-similar-nodes",onClick:dn},p().createElement(pr,{icon:Pm.Y6}),Vt)};return[p().createElement(si,{key:"reset",disabled:!Ft,onClick:de},p().createElement(pr,{icon:Rm.XS}),"Reset View"),Nn(),Ut(),tr()]},[n,ce]),je=()=>{if(t.current){const Ge=new dc(f,t.current,h,g,x,k,Ye);n.current=Ge}};p().useEffect(()=>{je(),ft()},[Ye]),p().useEffect(()=>{je(),ft()},[t.current,f,h,g,x,k]);const ft=()=>{var Ge,He,Ft;(Ge=t==null?void 0:t.current)==null||Ge.setAttribute("data-state","rendering"),(He=n==null?void 0:n.current)==null||He.render(),(Ft=t==null?void 0:t.current)==null||Ft.setAttribute("data-state","rendered")},Pt=!f||f&&f.names.length<=1,yt=()=>{if(!t.current)throw new Error("Missing canvas");return t.current},ht=()=>{if(!n.current)throw new Error("Missing canvas");return n.current};return p().createElement("div",{"data-testid":"flamegraph-view",className:Ar(x0.flamegraphPane,{"vertical-orientation":f.format==="double"})},p().createElement(E0,{format:f.format,units:f.units,ExportData:Oe,palette:Ye,setPalette:Re,toolbarVisible:P}),p().createElement("div",{"data-testid":De,style:{opacity:Pt?0:1}},p().createElement("canvas",{height:"0","data-testid":"flamegraph-canvas","data-highlightquery":x,className:Ar("flamegraph-canvas",Og.canvas),ref:t,onClick:he})),F?p().createElement(f0,null):"",n&&t&&p().createElement(jg,{barHeight:Xn,canvasRef:t,zoom:k,xyToHighlightData:ke}),n&&p().createElement(Hg,{barHeight:Xn,node:a}),n&&p().createElement(t0,{format:f.format,canvasRef:t,xyToData:Ae,numTicks:f.numTicks,sampleRate:f.sampleRate,leftTicks:f.format==="double"?f.leftTicks:0,rightTicks:f.format==="double"?f.rightTicks:0,units:f.units,palette:Ye}),n&&t&&p().createElement(l0,{canvasRef:t,xyToMenuItems:Ze,onClose:Fe,onOpen:_e}))}const Ba={table:"lEpSh-rOmaE5zcLKRPK0zg==",sortable:"EgDtrXnincRVPXTb58YV7g==",sortArrow:"K8lX8n2m68NgdYq1vXrGQA==",asc:"kf05VUyDM4gEXaiYchZLDQ==",desc:"SwVSTFb7+JtI0Ter5socwQ==",isRowSelected:"+NsZxUzwZfmKMTT3UeTBug==",isRowDisabled:"Jhqi+nxb2FEJkOLMACjE0A==",loadingSpinner:"uqa4BHuGVRjAsdPIyEz8KQ=="};var k0=$(424),T0=$.n(k0);function _0({className:e}){return p().createElement("span",{role:"progressbar",className:e},p().createElement(T0(),{color:"rgba(255,255,255,0.6)",size:"20px"}))}var C0=Object.defineProperty,M0=Object.defineProperties,O0=Object.getOwnPropertyDescriptors,Fo=Object.getOwnPropertySymbols,Ku=Object.prototype.hasOwnProperty,ef=Object.prototype.propertyIsEnumerable,tf=(e,t,n)=>t in e?C0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bo=(e,t)=>{for(var n in t||(t={}))Ku.call(t,n)&&tf(e,n,t[n]);if(Fo)for(var n of Fo(t))ef.call(t,n)&&tf(e,n,t[n]);return e},nf=(e,t)=>M0(e,O0(t)),Xs=(e,t)=>{var n={};for(var a in e)Ku.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&Fo)for(var a of Fo(e))t.indexOf(a)<0&&ef.call(e,a)&&(n[a]=e[a]);return n};const N0=e=>{const t=e.filter(h=>h==null?void 0:h.default)[0]||e[0],[n,a]=(0,C.useState)(t.name),[l,f]=(0,C.useState)("desc");return{sortBy:n,sortByDirection:l,updateSortParams:h=>{let g=l;n===h?g=g==="asc"?"desc":"asc":g="desc",a(h),f(g)}}};function I0({sortByDirection:e,sortBy:t,updateSortParams:n,table:a,tableBodyRef:l,className:f,isLoading:h}){var g;const x=e&&t&&n;return h?p().createElement("div",{className:Ba.loadingSpinner},p().createElement(_0,null)):p().createElement("table",{className:Ar(Ba.table,{[f||""]:f}),"data-testid":"table-ui"},p().createElement("thead",null,p().createElement("tr",null,a.headRow.map((k,P)=>{var F=k,{sortable:Y,label:ce,name:oe}=F,de=Xs(F,["sortable","label","name"]);return!Y||a.type==="not-filled"||!x?p().createElement("th",Bo({key:P},de),ce):p().createElement("th",nf(Bo({},de),{key:P,className:Ba.sortable,onClick:()=>n(oe)}),ce,p().createElement("span",{className:Ar(Ba.sortArrow,{[Ba[e]]:t===oe})}))}))),p().createElement("tbody",{ref:l},a.type==="not-filled"?p().createElement("tr",{className:a==null?void 0:a.bodyClassName},p().createElement("td",{colSpan:a.headRow.length},a.value)):(g=a.bodyRows)==null?void 0:g.map(k=>{var P=k,{cells:F,isRowSelected:Y,isRowDisabled:ce,className:oe}=P,de=Xs(P,["cells","isRowSelected","isRowDisabled","className"]);const re=Math.random();return p().createElement("tr",nf(Bo({key:re},de),{className:Ar(oe,{[Ba.isRowSelected]:Y,[Ba.isRowDisabled]:ce})}),F&&F.map((ee,Oe)=>{var De=ee,{style:Ye,value:Re}=De,et=Xs(De,["style","value"]);return p().createElement("td",Bo({key:re+Oe,style:Ye},et),Re)}))})))}const D0=I0;function R0({numTicks:e,sampleRate:t,units:n,tableBodyRef:a}){const l=b(e,t,n),f=l.format(e,t),h=(0,C.useCallback)((g,x,k)=>{var P;const F=(P=k.target.closest("tr"))==null?void 0:P.dataset.row;if(!F){x();return}const[Y,ce,oe]=F.split(";"),de=l.format(parseInt(ce,10),t),re=l.format(parseInt(oe,10),t),ee=f.split(" "),Oe=ee[0]==="<"?ee[1]:ee[0],De=de.split(" "),Ye=De[0]==="<"?De[1]:De[0],Re=re.split(" "),et=Re[0]==="<"?Re[1]:Re[0],he={units:n,self:`${de}(${(parseFloat(Ye)/parseFloat(Oe)*100).toFixed(2)}%)`,total:`${re}(${(parseFloat(et)/parseFloat(Oe)*100).toFixed(2)}%)`,tooltipType:"table"};g({title:{text:Y,diff:{text:"",color:""}},tooltipData:[he]})},[a,e,l,t]);return p().createElement(Hu,{dataSourceRef:a,shouldShowTitle:!1,clickInfoSide:"left",setTooltipContent:h})}var A0=Object.defineProperty,P0=Object.defineProperties,L0=Object.getOwnPropertyDescriptors,rf=Object.getOwnPropertySymbols,j0=Object.prototype.hasOwnProperty,F0=Object.prototype.propertyIsEnumerable,af=(e,t,n)=>t in e?A0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,of=(e,t)=>{for(var n in t||(t={}))j0.call(t,n)&&af(e,n,t[n]);if(rf)for(var n of rf(t))F0.call(t,n)&&af(e,n,t[n]);return e},B0=(e,t)=>P0(e,L0(t));const br=e=>e||0;function V0(e,t,n,a){const l=t;return l.type="single",l.self=br(l.self)+e.getBarSelf(n,a),l.total=br(l.total)+e.getBarTotal(n,a),l}function $0(e,t,n,a){const l=t;return l.type="double",l.self=br(l.self)+e.getBarSelf(n,a),l.total=br(l.total)+e.getBarTotal(n,a),l.selfLeft=br(l.selfLeft)+e.getBarSelfLeft(n,a),l.selfRght=br(l.selfRght)+e.getBarSelfRght(n,a),l.selfDiff=br(l.selfDiff)+e.getBarSelfDiff(n,a),l.totalLeft=br(l.totalLeft)+e.getBarTotalLeft(n,a),l.totalRght=br(l.totalRght)+e.getBarTotalRght(n,a),l.totalDiff=br(l.totalDiff)+e.getBarTotalDiff(n,a),l}function z0(e){const t=[];if(!e)return t;const{names:n,levels:a,format:l}=e,f=l!=="double"?Yt:Jn,h={};for(let g=0;g<a.length;g++){const x=a[g];for(let k=0;k<x.length;k+=f.jStep){const P=f.getBarName(x,k),F=n[P];h[F]=h[F]||{name:F||"<empty>"},l==="single"?V0(Yt,h[F],x,k):$0(Jn,h[F],x,k)}}return Object.values(h)}function Vo(e){return Math.min(0,e)}function sf(e,t,n){const a=148-e/t*148,l=n.alpha(1);return{backgroundImage:`linear-gradient(${l}, ${l})`,backgroundPosition:`-${a}px 0px`,backgroundRepeat:"no-repeat"}}function ui(e,t,n,a,l,f){const h=148-Math.min(t,n)/a*148,g=148-Math.max(t,n)/a*148,x=l.alpha(1),k=n<t?e.goodColor.alpha(.8):e.badColor.alpha(.8);return f==="L"&&t<n?{backgroundImage:`linear-gradient(${x}, ${x})`,backgroundPosition:`${Vo(-h)}px 0px`,backgroundRepeat:"no-repeat"}:f==="R"&&n<t?{backgroundImage:`linear-gradient(${x}, ${x})`,backgroundPosition:`${Vo(-h)}px 0px`,backgroundRepeat:"no-repeat"}:{backgroundImage:`linear-gradient(${x}, ${x}), linear-gradient(${k}, ${k})`,backgroundPosition:`${Vo(-h)}px 0px, ${Vo(-g)}px 0px`,backgroundRepeat:"no-repeat"}}const H0=[{sortable:1,name:"name",label:"Location"},{sortable:1,name:"self",label:"Self",default:!0},{sortable:1,name:"total",label:"Total"}],W0=(e=>({diff:[e.name,e.selfDiff,e.totalDiff],self:[e.name,e.selfLeft,e.selfRght],total:[e.name,e.totalLeft,e.totalRght]}))({name:{sortable:1,name:"name",label:"Location"},selfLeft:{sortable:1,name:"selfLeft",label:"Self (Left)",default:!0},selfRght:{sortable:1,name:"selfRght",label:"Self (Right)"},selfDiff:{sortable:1,name:"selfDiff",label:"Self (Diff)",default:!0},totalLeft:{sortable:1,name:"totalLeft",label:"Total (Left)",default:!0},totalRght:{sortable:1,name:"totalRght",label:"Total (Right)"},totalDiff:{sortable:1,name:"totalDiff",label:"Total (Diff)"}});function U0({tableBodyRef:e,flamebearer:t,viewDiff:n,fitMode:a,handleTableItemClick:l,highlightQuery:f,selectedItem:h,palette:g}){const x=n?W0[n]:H0,k=N0(x),P=of({headRow:x},Z0({flamebearer:t,sortBy:k.sortBy,sortByDirection:k.sortByDirection,viewDiff:n,fitMode:a,handleTableItemClick:l,highlightQuery:f,palette:g,selectedItem:h}));return p().createElement(D0,B0(of({},k),{tableBodyRef:e,table:P,className:"flamegraph-table"}))}const Z0=({flamebearer:e,sortBy:t,sortByDirection:n,viewDiff:a,fitMode:l,handleTableItemClick:f,highlightQuery:h,palette:g,selectedItem:x})=>{const{numTicks:k,maxSelf:P,sampleRate:F,spyName:Y,units:ce}=e,oe=z0(e).sort((he,ke)=>ke.total-he.total),de=n==="asc"?1:-1;let re;if(t==="name")re=oe.sort((he,ke)=>de*he[t].localeCompare(ke[t]));else switch(t){case"total":case"self":{re=oe.sort((he,ke)=>de*(he[t]-ke[t]));break}default:re=oe.sort((he,ke)=>de*(he[t]-ke[t]))}const ee=b(k,F,ce),Oe=he=>x.isJust?he===x.value:!1,De=(he,ke)=>p().createElement("button",{className:"table-item-button"},p().createElement("span",{className:"color-reference",style:ke}),p().createElement("div",{className:"symbol-name",style:ut(l)},he.name)),Ye=(he,ke,Ae)=>({"data-row":`${he.name};${he.self};${he.total};${he.type}`,isRowSelected:Oe(he.name),onClick:()=>f(he),cells:[{value:De(he,Ae)},{value:ee.format(he.self,F),style:sf(he.self,P,ke)},{value:ee.format(he.total,F),style:sf(he.total,k,ke)}]}),Re=(()=>{switch(a){case"self":return(he,ke,Ae)=>({type:"self",isRowSelected:Oe(he.name),onClick:()=>f(he),cells:[{value:De(he,Ae)},{style:ui(g,he.selfLeft,he.selfRght,P,ke,"L"),value:(()=>p().createElement("span",{title:ee.format(he.selfLeft,F)},ee.format(he.selfLeft,F)))()},{style:ui(g,he.selfLeft,he.selfRght,P,ke,"R"),value:p().createElement("span",{title:ee.format(he.selfRght,F)},ee.format(he.selfRght,F))}]});case"total":return(he,ke,Ae)=>({type:"total",isRowSelected:Oe(he.name),onClick:()=>f(he),cells:[{value:De(he,Ae)},{style:ui(g,he.totalLeft,he.totalRght,k/2,ke,"L"),value:(()=>p().createElement("span",{title:ee.format(he.totalLeft,F)},ee.format(he.totalLeft,F)))()},{style:ui(g,he.totalLeft,he.totalRght,k/2,ke,"R"),value:(()=>p().createElement("span",{title:ee.format(he.totalRght,F)},ee.format(he.totalRght,F)))()}]});case"diff":return(he,ke,Ae)=>({type:"diff",isRowSelected:Oe(he.name),onClick:()=>f(he),cells:[{value:De(he,Ae)},{style:ui(g,he.selfLeft,he.selfRght,P,Ql),value:(()=>p().createElement("span",{title:ee.format(he.selfDiff,F)},ee.format(he.selfDiff,F)))()},{style:ui(g,he.totalLeft,he.totalRght,k/2,ke),value:(()=>p().createElement("span",{title:ee.format(he.totalDiff,F)},ee.format(he.totalDiff,F)))()}]});default:return()=>({type:"unsupported"})}})(),et=re.filter(he=>h?rc(h,he.name):!0).reduce((he,ke)=>{const Ae=ec(Y,ke.name),Fe=a?Ql:tc(g,Ae),_e={backgroundColor:Fe.rgb().toString()};if(ke.type==="double"){const Ze=Re(ke,Fe,_e);return Ze.type==="unsupported"||he.push(Ze),he}return he.push(Ye(ke,Fe,_e)),he},[]);return et.length>0?{bodyRows:et,type:"filled"}:{value:p().createElement("div",{className:"unsupported-format"},"Unsupported"),type:"not-filled"}};function G0({flamebearer:e,viewDiff:t,fitMode:n,handleTableItemClick:a,highlightQuery:l,palette:f,selectedItem:h}){const g=(0,C.useRef)(null);return p().createElement(p().Fragment,null,p().createElement(U0,{tableBodyRef:g,flamebearer:e,viewDiff:t,fitMode:n,highlightQuery:l,handleTableItemClick:a,palette:f,selectedItem:h}),p().createElement(R0,{tableBodyRef:g,numTicks:e.numTicks,sampleRate:e.sampleRate,units:e.units}))}var J0=$(899),q0=$(459),X0=$(971),Y0=$(384),Q0=$(646),K0=$(769),e1=$(692);const Va={button:"D8639n1+pFnktQbfHEdhiQ==",iconWithText:"iUJrf0Zra72Ylrkdwe4m3g==",default:"HsSMSsZ6IvGC0zvef-oyEg==",primary:"uRSawyfmnPCTMB2RaexM7Q==",secondary:"uLhy-1n6bQNSjQ8XlHT5hA==",danger:"Zcv+sg60tkrHTHSCxMwOCA==",grouped:"h-JyltywHaflsNfDj7ETjw=="};var lf=Object.getOwnPropertySymbols,t1=Object.prototype.hasOwnProperty,n1=Object.prototype.propertyIsEnumerable,r1=(e,t)=>{var n={};for(var a in e)t1.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&lf)for(var a of lf(e))t.indexOf(a)<0&&n1.call(e,a)&&(n[a]=e[a]);return n};function ua(e){var t=e,{disabled:n=!1,kind:a="default",type:l="button",icon:f,children:h,grouped:g,onClick:x,id:k,className:P}=t,F=r1(t,["disabled","kind","type","icon","children","grouped","onClick","id","className"]);return p().createElement("button",{id:k,type:l,"data-testid":F["data-testid"],disabled:n,onClick:x,"aria-label":F["aria-label"],className:`${Va.button} ${g?Va.grouped:""} ${a1(a)} ${P}`},f?p().createElement(pr,{icon:f,className:h?Va.iconWithText:""}):null,h)}function a1(e){switch(e){case"default":return Va.default;case"primary":return Va.primary;case"secondary":return Va.secondary;case"danger":return Va.danger;default:throw Error(`Unsupported kind ${e}`)}}const i1={select:"OqcAa70--BCY73rHYPrNmg=="};function cf({ariaLabel:e,className:t,value:n,onChange:a,children:l,name:f,id:h,disabled:g}){return p().createElement("select",{id:h,disabled:g||!1,name:f,"aria-label":e,className:`${i1.select} ${t||""}`,value:n,onChange:a},l)}var o1=$(687),s1=$(912);const l1={input:"m7PZEM-Vxkue2eKuRu3yZQ=="},c1=p().forwardRef(({testId:e,className:t,type:n,name:a,placeholder:l,minLength:f=0,debounceTimeout:h=100,onChange:g,value:x,htmlId:k},P)=>p().createElement(s1.DebounceInput,{inputRef:P,"data-testid":e,className:`${l1.input} ${t||""}`,type:n,name:a,placeholder:l,minLength:f,debounceTimeout:h,onChange:g,value:x,id:k})),Ys={tooltip:"izIbNRLbF9xJDKe-4AJ+JQ==",left:"zT3KmMrzKP41T7FMS0SJtw==",right:"Xl2deKCyOq2flu8vgSgbjA==",bottom:"uG9bli7m866SO8q5AjDy3A==",top:"-bV6ZtBg6DRt5-1XGDZXSw==",visible:"sxcNNSa167Ke4esKRMThTw=="},u1=({title:e,visible:t,className:n,placement:a})=>{var l;return p().createElement("div",{onClick:f=>f.stopPropagation(),className:`${Ys.tooltip} ${t?Ys.visible:""} ${(l=Ys)==null?void 0:l[a]} ${n||""} `,role:"tooltip"},e)},Fr={wrapper:"_1tNAjeMOzQp8uOuaYq+Hlg==",search:"Oa7YSy+wTDaxwMXZB4v5Gw==","search-synced":"jaKSuzEc2kMgsQY1Ei1zIQ==",searchWithSync:"bMvkv+pO8CFQYIzcx9hNPw==","search-small":"tgQzYT5gJmC8BxJWeVbhNg==",icon:"EXyIVsmmjw+Gmj5qWe4lFA==",checked:"bzaIPy4-2topIZ9a1V0log==",sync:"ZX3TafJkUlq6K5k390H1nw==",syncSelected:"dSO0qFp27L959Gj33bDomw=="},f1=e=>{const t=(0,C.useRef)();return(0,C.useEffect)(()=>{t.current=e}),t.current},h1=({onHighlightChange:e,showMode:t,highlightQuery:n,sharedQuery:a})=>{const l=f1(a==null?void 0:a.syncEnabled),[f,h]=(0,C.useState)(!1),g=F=>{e(F.target.value),a&&a.syncEnabled&&a.onQueryChange(F.target.value)};(0,C.useEffect)(()=>{typeof(a==null?void 0:a.searchQuery)=="string"&&(a.syncEnabled&&e(a.searchQuery),!a.syncEnabled&&l&&l!==(a==null?void 0:a.id)&&e(""))},[a==null?void 0:a.searchQuery,a==null?void 0:a.syncEnabled]);const x=()=>{const F=a!=null&&a.syncEnabled?!1:a==null?void 0:a.id;a==null||a.toggleSync(F),F?a==null||a.onQueryChange(n):(e(n),a==null||a.onQueryChange(""))},k=(0,C.useMemo)(()=>a&&a.syncEnabled?a.searchQuery||"":n,[a,n]),P=(0,C.useMemo)(()=>`${a?Fr.searchWithSync:Fr.search} ${t==="small"?Fr["search-small"]:""} ${a!=null&&a.syncEnabled?Fr["search-synced"]:""}`,[a,t]);return p().createElement("div",{className:Fr.wrapper},p().createElement(c1,{testId:"flamegraph-search",className:P,type:"search",name:"flamegraph-search",placeholder:"Search",minLength:2,debounceTimeout:100,onChange:g,value:k}),a?p().createElement("button",{className:a.syncEnabled?Fr.syncSelected:Fr.sync,onClick:x,onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1)},p().createElement(pr,{className:`${a.syncEnabled?Fr.checked:Fr.icon}`,icon:o1.nN}),p().createElement(u1,{placement:"top",visible:f,title:a.syncEnabled?"Unsync search bars":"Sync search bars"})):null)},ao={navbar:"YA6yFCiTuhT9605JIjPYsA==","space-filler":"cgRZhc4M4hYARCOdbJigOA==",fitModeDropdownMenuItem:"X3FRWBEqbFJ2BneRkbVfsA==",fitModeDropdownSmall:"hLxcZfkuovRKDwfNBljW1A==",fitModeDropdownLarge:"_7IQU1MziDWeX+DyRDdXHYg=="},d1=900,p1=e=>{const[t,n]=p().useState("large"),a=l=>l<d1?"small":"large";return p().useLayoutEffect(()=>{if(e.current){const{width:l}=e.current.getBoundingClientRect();n(a(l))}},[e.current]),Gs(e,l=>{n(a(l.contentRect.width))}),t},m1=p().memo(({view:e,viewDiff:t,handleSearchChange:n,highlightQuery:a,isFlamegraphDirty:l,reset:f,updateFitMode:h,fitMode:g,updateView:x,updateViewDiff:k,selectedNode:P,onFocusOnSubtree:F,flamegraphType:Y,disableChangingDisplay:ce=!1,sharedQuery:oe})=>{const de=p().useRef(null),re=p1(de);return p().createElement("div",{role:"toolbar",ref:de,"data-mode":re},p().createElement("div",{className:ao.navbar},p().createElement(h1,{showMode:re,onHighlightChange:n,highlightQuery:a,sharedQuery:oe}),Y==="double"&&p().createElement(y1,{showMode:re,viewDiff:t,updateViewDiff:k}),p().createElement("div",{className:ao["space-filler"]}),p().createElement(b1,{showMode:re,fitMode:g,updateFitMode:h}),p().createElement(v1,{showMode:re,isFlamegraphDirty:l,reset:f}),p().createElement(g1,{showMode:re,selectedNode:P,onFocusOnSubtree:F}),!ce&&p().createElement(w1,{showMode:re,view:e,updateView:x})))});function g1({onFocusOnSubtree:e,selectedNode:t,showMode:n}){let a="";switch(n){case"small":{a="Collapse";break}case"large":{a="Collapse nodes above";break}default:throw new Error("Wrong mode")}const l=t.mapOr(()=>{},f=>()=>e(f.i,f.j));return p().createElement(ua,{disabled:!t.isJust,onClick:l,icon:Qc.V9},a)}function v1({isFlamegraphDirty:e,reset:t,showMode:n}){let a="";switch(n){case"small":{a="Reset";break}case"large":{a="Reset View";break}default:throw new Error("Wrong mode")}return p().createElement(p().Fragment,null,p().createElement(ua,{id:"reset","data-testid":"reset-view",disabled:!e,onClick:t,icon:e1.X7},a))}function b1({fitMode:e,updateFitMode:t,showMode:n}){let a={label:"",[Ie]:"",[Ee]:""},l="";switch(n){case"small":a={label:"Fit",[Ie]:"Head",[Ee]:"Tail"},l=ao.fitModeDropdownSmall;break;case"large":a={label:"Prefer to Fit",[Ie]:"Head first",[Ee]:"Tail first"},l=ao.fitModeDropdownLarge;break;default:throw new Error("Wrong mode")}const f=[Ie,Ee].map(h=>p().createElement(Yu,{key:h,value:h},p().createElement("div",{className:ao.fitModeDropdownMenuItem,"data-testid":h},a[h],e===h?p().createElement(Ju,null):null)));return p().createElement(Xu,{label:a.label,ariaLabel:"Fit Mode",value:a[e],onItemClick:h=>t(h.value),menuButtonClassName:l},f)}function y1({viewDiff:e,updateViewDiff:t,showMode:n}){if(!e)return null;const a=p().createElement(cf,{name:"viewDiff",ariaLabel:"view-diff",value:e,onChange:g=>{t(g.target.value)}},p().createElement("option",{value:"self"},"Self"),p().createElement("option",{value:"total"},"Total"),p().createElement("option",{value:"diff"},"Diff")),l=g=>e===g?"primary":"default",f=p().createElement(p().Fragment,null,p().createElement(ua,{grouped:!0,icon:Q0.gf,kind:l("self"),onClick:()=>t("self")},"Self"),p().createElement(ua,{grouped:!0,icon:q0.xi,kind:l("total"),onClick:()=>t("total")},"Total"),p().createElement(ua,{grouped:!0,icon:J0.el,kind:l("diff"),onClick:()=>t("diff")},"Diff")),h=()=>{switch(n){case"small":return a;case"large":return f;default:throw new Error(`Invalid option: '${n}'`)}};return p().createElement("div",{className:"btn-group viz-switch","data-testid":"diff-view"},h())}function w1({view:e,updateView:t,showMode:n}){const a=p().createElement(cf,{ariaLabel:"view",name:"view",value:e,onChange:g=>{t(g.target.value)}},p().createElement("option",{value:"table"},"Table"),p().createElement("option",{value:"both"},"Both"),p().createElement("option",{value:"flamegraph"},"Flame")),l=g=>e===g?"primary":"default",f=p().createElement(p().Fragment,null,p().createElement(ua,{grouped:!0,kind:l("table"),icon:K0.B3,onClick:()=>t("table")},"Table"),p().createElement(ua,{grouped:!0,kind:l("both"),icon:X0.rW,onClick:()=>t("both")},"Both"),p().createElement(ua,{grouped:!0,kind:l("flamegraph"),icon:Y0.$P,onClick:()=>t("flamegraph")},"Flamegraph")),h=()=>{switch(n){case"small":return a;case"large":return f;default:throw new Error(`Invalid option: '${n}'`)}};return p().createElement("div",{className:"btn-group viz-switch"},h())}const E1=m1,x1={noProfilingData:"uf0fDCR2p7mFe03meuOCpw=="};function S1(){return p().createElement("div",{"data-testid":"no-profiling-data",className:x1.noProfilingData},p().createElement("span",null,"No profiling data available for this application / time range."))}const Br={flamegraphContainer:"dp4rYndtkn5OL137gNcXFw==",createdBy:"Sg8G+XWf37nf2z2mq0UlZA==",horizontal:"Fa+QibGLT2PTOlQu9kZ42w==",vertical:"_1fK+ZP5KAHBMI34rObiBpA==",panesWrapper:"UiDrEFZwwNI6mFmaWDftKw==",tablePane:"rcGeWTV5hY5txTEQvQenVg=="};var k1=["styles"];function T1(e,t){if(e==null)return{};var n=_1(e,t),a,l;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(e);for(l=0;l<f.length;l++)a=f[l],!(t.indexOf(a)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,a)||(n[a]=e[a]))}return n}function _1(e,t){if(e==null)return{};var n={},a=Object.keys(e),l,f;for(f=0;f<a.length;f++)l=a[f],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function Qs(){return Qs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Qs.apply(this,arguments)}const C1=function(e){e.styles;var t=T1(e,k1);return p().createElement("svg",Qs({width:"1024",height:"1024",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},t),p().createElement("defs",null,p().createElement("radialGradient",{cx:"49.424%",cy:"92.663%",fx:"49.424%",fy:"92.663%",r:"195.067%",gradientTransform:"matrix(0 -.73561 1 0 -.432 1.29)",id:"a"},p().createElement("stop",{stopColor:"#FFB90C",offset:"0%"}),p().createElement("stop",{stopColor:"#F9243A",offset:"38.391%"}),p().createElement("stop",{stopColor:"#F9243A",offset:"50.541%"}),p().createElement("stop",{stopColor:"#B51424",offset:"73.981%"}),p().createElement("stop",{stopColor:"#B51424",offset:"100%"}))),p().createElement("g",{fillRule:"nonzero",fill:"none"},p().createElement("path",{d:"M65.365 571.74l.084-.041C19.514 506-5.325 424.478 1.043 336.878 14.033 158.179 159.193 13.76 338.06 1.592c81.358-5.53 157.44 15.79 220.397 55.87l-77.155 104.636c-43.786-25.576-81.934-32.507-117.815-31.942-128.99 0-233.93 104.876-233.93 233.791 0 128.919 104.94 233.791 233.93 233.791 128.997 0 233.94-104.872 233.94-233.791-.014-59.312-16.033-108.27-66.797-164.279l77.14-104.535c73.167 66.444 119.163 162.231 119.163 268.814 0 94.085-35.798 179.809-94.517 244.325v.004l-98.818 139.847L428.6 617.203l6.102 29.36c24.75 119.03-1.039 242.98-71.209 342.29l-298.13-417.13v.016z",transform:"matrix(1 0 0 -1 149 989.314)",fill:"url(#a)"}),p().createElement("path",{d:"M512.487 453.586c-94.767 0-171.868 77.05-171.868 171.762 0 94.717 77.101 171.767 171.868 171.767 94.77 0 171.88-77.05 171.88-171.767 0-94.712-77.11-171.762-171.88-171.762",fill:"#3EC1D3"}),p().createElement("path",{d:"M392.65 625.353H370.48c0-78.25 63.71-141.92 142.007-141.92v22.154c-66.078 0-119.839 53.728-119.839 119.766",fill:"#FFF"})))};function uf(e,t){const n=[...t];function a(l,f,h){for(const g of l){let x=0;for(let k=f;k<g.length;k+=h)g[k]-=x,x+=g[k]+g[k+1]}}return e==="double"?(a(n,0,7),a(n,3,7)):a(n,0,4),n}function Ks(e,t){const n=[...t];function a(l,f,h){for(const g of l){let x=0;for(let k=f;k<g.length;k+=h)g[k]+=x,x=g[k]+g[k+1]}}return e==="double"?(a(n,0,7),a(n,3,7)):a(n,0,4),n}function M1(e){const t=JSON.parse(JSON.stringify(e));return t.flamebearer.levels=Ks(t.metadata.format,t.flamebearer.levels),t}var O1=Object.defineProperty,N1=Object.defineProperties,I1=Object.getOwnPropertyDescriptors,ff=Object.getOwnPropertySymbols,D1=Object.prototype.hasOwnProperty,R1=Object.prototype.propertyIsEnumerable,hf=(e,t,n)=>t in e?O1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sn=(e,t)=>{for(var n in t||(t={}))D1.call(t,n)&&hf(e,n,t[n]);if(ff)for(var n of ff(t))R1.call(t,n)&&hf(e,n,t[n]);return e},fi=(e,t)=>N1(e,I1(t));function el(e){if(e.profile&&e.flamebearer&&console.warn("'profile' and 'flamebearer' properties are mutually exclusive. Please use profile if possible."),e.profile){const t=JSON.parse(JSON.stringify(e.profile)),n=M1(t);return Sn(Sn(Sn({},n),n.flamebearer),n.metadata)}return e.flamebearer?e.flamebearer:{format:"single",names:[],units:"",levels:[[]],spyName:"unknown",numTicks:0,sampleRate:0,maxSelf:0}}class df extends p().Component{constructor(t){super(t),this.resetFlamegraphState={focusedNode:zt.nothing(),zoom:zt.nothing()},this.initialFlamegraphState=this.resetFlamegraphState,this.calcNewConfigs=(n,a)=>{const l=this.state.flamegraphConfigs,f=(x,k,P)=>{const F=(Y,ce,oe)=>Y.names[lr(Y.format).getBarName(Y.levels[ce],oe)];if(P.isNothing)return!0;try{const Y=F(x,P.value.i,P.value.j),ce=F(k,P.value.i,P.value.j);return Y===ce}catch{return!1}},h=this.state.flamegraphConfigs.zoom;f(n,a,h)||(l.zoom=this.resetFlamegraphState.zoom);const g=this.state.flamegraphConfigs.focusedNode;return f(n,a,g)||(l.focusedNode=this.resetFlamegraphState.focusedNode),l},this.onSearchChange=n=>{this.setState({searchQuery:n})},this.isSameFlamebearer=(n,a)=>JSON.stringify(n)===JSON.stringify(a),this.onReset=()=>{this.setState(fi(Sn({},this.state),{flamegraphConfigs:Sn(Sn({},this.state.flamegraphConfigs),this.initialFlamegraphState)}))},this.onFlamegraphZoom=n=>{if(n.isJust&&n.value.i===0&&n.value.j===0){this.onReset();return}this.setState(fi(Sn({},this.state),{flamegraphConfigs:fi(Sn({},this.state.flamegraphConfigs),{zoom:n})}))},this.onFocusOnNode=(n,a)=>{if(n===0&&a===0){this.onReset();return}let l=Sn({},this.state.flamegraphConfigs);const{zoom:f}=this.state.flamegraphConfigs;f.isJust&&f.value.i<=n&&(l=fi(Sn({},l),{zoom:this.initialFlamegraphState.zoom})),this.setState(fi(Sn({},this.state),{flamegraphConfigs:fi(Sn({},l),{focusedNode:zt.just({i:n,j:a})})}))},this.setActiveItem=n=>{const{name:a}=n;if(this.state.selectedItem.isJust&&a===this.state.selectedItem.value){this.setState({selectedItem:zt.nothing()});return}this.setState({selectedItem:zt.just(a)})},this.getHighlightQuery=()=>this.state.selectedItem.isJust?this.state.selectedItem.value:this.state.searchQuery,this.updateViewDiff=n=>{this.setState({viewDiff:n})},this.updateView=n=>{this.setState({view:n})},this.updateFlamegraphDirtiness=()=>{const n=this.isDirty();this.setState({isFlamegraphDirty:n})},this.updateFitMode=n=>{this.setState({fitMode:n})},this.isDirty=()=>JSON.stringify(this.initialFlamegraphState)!==JSON.stringify(this.state.flamegraphConfigs),this.render=()=>{var n;const a=p().createElement("div",{key:"table-pane",className:Ar(Br.tablePane,this.state.panesOrientation==="vertical"?Br.vertical:Br.horizontal)},p().createElement(G0,{"data-testid":"table-view",flamebearer:this.state.flamebearer,viewDiff:((n=this.state.flamebearer)==null?void 0:n.format)==="double"&&this.state.viewDiff,fitMode:this.state.fitMode,highlightQuery:this.state.searchQuery,selectedItem:this.state.selectedItem,handleTableItemClick:this.setActiveItem,palette:this.state.palette})),l=this.shouldShowToolbar(),f=p().createElement(S0,{key:"flamegraph-pane",showCredit:this.props.showCredit,flamebearer:this.state.flamebearer,ExportData:this.props.ExportData||p().createElement(p().Fragment,null),highlightQuery:this.getHighlightQuery(),setActiveItem:this.setActiveItem,selectedItem:this.state.selectedItem,fitMode:this.state.fitMode,zoom:this.state.flamegraphConfigs.zoom,focusedNode:this.state.flamegraphConfigs.focusedNode,onZoom:this.onFlamegraphZoom,onFocusOnNode:this.onFocusOnNode,onReset:this.onReset,isDirty:this.isDirty,palette:this.state.palette,toolbarVisible:l,setPalette:x=>this.setState({palette:x})}),h=!this.state.flamebearer||this.state.flamebearer.names.length<=1,g=A1(this.state.view,f,a);return p().createElement("div",{"data-flamegraph-color-mode":this.props.colorMode||"dark"},p().createElement("div",null,l&&p().createElement(E1,{sharedQuery:this.props.sharedQuery,disableChangingDisplay:!!this.props.onlyDisplay,flamegraphType:this.state.flamebearer.format,view:this.state.view,viewDiff:this.state.viewDiff,handleSearchChange:this.onSearchChange,reset:this.onReset,updateView:this.updateView,updateViewDiff:this.updateViewDiff,updateFitMode:this.updateFitMode,fitMode:this.state.fitMode,isFlamegraphDirty:this.state.isFlamegraphDirty,selectedNode:this.state.flamegraphConfigs.zoom,highlightQuery:this.state.searchQuery,onFocusOnSubtree:this.onFocusOnNode}),this.props.children,p().createElement("div",{className:`${Br.flamegraphContainer} ${Ar(this.state.panesOrientation==="vertical"?Br.vertical:Br.horizontal,Br[this.state.panesOrientation],Br.panesWrapper)}`},h?p().createElement(S1,null):g.map(x=>x))),this.props.showPyroscopeLogo&&p().createElement("div",{className:Br.createdBy},"Created by",p().createElement("a",{href:"https://twitter.com/PyroscopeIO",rel:"noreferrer",target:"_blank"},p().createElement(C1,{width:"30",height:"30"}),"@PyroscopeIO")))},this.state={isFlamegraphDirty:!1,view:this.props.onlyDisplay?this.props.onlyDisplay:"both",viewDiff:"diff",fitMode:"HEAD",flamebearer:el(t),panesOrientation:t.panesOrientation?t.panesOrientation:"horizontal",searchQuery:"",selectedItem:zt.nothing(),flamegraphConfigs:this.initialFlamegraphState,palette:ci}}componentDidUpdate(t,n){const a=el(t),l=el(this.props);if(!this.isSameFlamebearer(a,l)){const f=this.calcNewConfigs(a,l);this.setState({flamebearer:l,flamegraphConfigs:Sn(Sn({},this.state.flamegraphConfigs),f),selectedItem:zt.nothing()});return}n.flamegraphConfigs!==this.state.flamegraphConfigs&&this.updateFlamegraphDirtiness()}shouldShowToolbar(){return this.props.showToolbar!==void 0?this.props.showToolbar:!0}}df.defaultProps={showCredit:!0};function A1(e,t,n){switch(e){case"table":return[n];case"flamegraph":return[t];case"both":return[n,t];default:throw new Error(`Invalid view '${e}'`)}}const P1=df;var L1=Object.defineProperty,pf=Object.getOwnPropertySymbols,j1=Object.prototype.hasOwnProperty,F1=Object.prototype.propertyIsEnumerable,mf=(e,t,n)=>t in e?L1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gf=(e,t)=>{for(var n in t||(t={}))j1.call(t,n)&&mf(e,n,t[n]);if(pf)for(var n of pf(t))F1.call(t,n)&&mf(e,n,t[n]);return e};const B1={showPyroscopeLogo:!1},V1=e=>p().createElement("pyro-flamegraph",{is:"span"},p().createElement(P1,gf(gf({},e),B1)));var $1=$(572),z1=$.n($1),H1=$(343),W1=$.n(H1);function U1(e){const t={numTicks:0,maxSelf:0,names:[],levels:[]},n={},a={children:[]};e.spans.forEach(h=>{h.children=[],n[h.spanID]=h}),e.spans.forEach(h=>{let g=a;h.references&&h.references.length>0&&(g=n[h.references[0].spanID]||a),g.children.push(h)});function l(h,g){(h.children||[]).forEach(P=>l(P));let x=0;const k=z1()(h.children||[],P=>P.operationName);h.children=W1()(k,P=>{const F=P[0];for(let Y=1;Y<P.length;Y+=1)F.duration+=P[Y].duration;return x+=F.duration,F}),h.total=h.duration||x,h.self=Math.max(0,h.total-x)}l(a);function f(h,g,x){var k;return t.numTicks||(t.numTicks=h.total),(k=t.levels)[g]||(k[g]=[]),t.levels[g].push(x),t.levels[g].push(h.total),t.levels[g].push(h.self),t.names.push((h.processID?`${e.processes[h.processID].serviceName}: `:"")+(h.operationName||"total")),t.levels[g].push(t.names.length-1),(h.children||[]).forEach(P=>{x+=f(P,g+1,x)}),h.total}return f(a,0,0),t.levels=uf("single",t.levels),{version:1,flamebearer:t,metadata:{format:"single",units:"trace_samples",spyName:"tracing",sampleRate:1e6}}}var Z1=Object.defineProperty,vf=Object.getOwnPropertySymbols,G1=Object.prototype.hasOwnProperty,J1=Object.prototype.propertyIsEnumerable,bf=(e,t,n)=>t in e?Z1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,q1=(e,t)=>{for(var n in t||(t={}))G1.call(t,n)&&bf(e,n,t[n]);if(vf)for(var n of vf(t))J1.call(t,n)&&bf(e,n,t[n]);return e};function X1(e,t){const n={},a={};let l;return[e,t].forEach((f,h)=>{var g,x;for(let k=0;k<f.levels.length;k+=1)for(let P=0;P<f.levels[k].length;P+=4){const F=[h,k,P].join("/"),Y=f.names[f.levels[k][P+3]],ce=f.levels[k][P+0];let oe;if(k!==0){const ee=k-1;for(let Oe=0;Oe<f.levels[ee].length;Oe+=4){const De=f.levels[ee][Oe+0],Ye=f.levels[ee][Oe+1];if(ce>=De&&ce<De+Ye){const Re=[h,ee,Oe].join("/");oe=a[Re].key;break}}}const de=[oe||"",Y].join("/");n[de]||(n[de]={name:Y,children:[],self:[],total:[],key:de});const re=n[de];(g=re.total)[h]||(g[h]=0),re.total[h]+=f.levels[k][P+1],(x=re.self)[h]||(x[h]=0),re.self[h]+=f.levels[k][P+2],a[F]=re,oe&&n[oe].children.push(re),k===0&&(l=re)}}),l}function Y1(e,t){const n={format:"double",numTicks:e.numTicks+t.numTicks,leftTicks:e.numTicks,rightTicks:t.numTicks,maxSelf:100,sampleRate:e.sampleRate,names:[],levels:[],units:e.units,spyName:e.spyName},a=X1(e,t),l=(f,h,g,x)=>{var k;const{name:P,children:F,self:Y,total:ce}=f;n.names.push(P),(k=n.levels)[h]||(k[h]=[]),n.maxSelf=Math.max(n.maxSelf,Y[0]||0,Y[1]||0),n.levels[h]=n.levels[h].concat([g,ce[0]||0,Y[0]||0,x,ce[1]||0,Y[1]||0,n.names.length-1]);for(let oe=0;oe<F.length;oe+=1){const[de,re]=l(F[oe],h+1,g,x);g+=de,x+=re}return[ce[0]||0,ce[1]||0]};return l(a,0,0,0),n}function Q1(e,t){e.flamebearer.levels=Ks("single",e.flamebearer.levels),t.flamebearer.levels=Ks("single",t.flamebearer.levels);const n=Y1(e.flamebearer,t.flamebearer);n.levels=uf("double",n.levels);const a=q1({},e.metadata);return a.format="double",{version:1,flamebearer:n,metadata:a,leftTicks:e.flamebearer.numTicks,rightTicks:t.flamebearer.numTicks}}})(),pe})())})(sd);var oh=sd.exports;const o5=N.memo(({trace:o})=>{const r=oh.convertJaegerTraceToProfile(en.cloneDeep(o)),{colorMode:i}=kl();return M.createElement(nt,{className:"Flamegraph-wrapper",padding:"2px calc(1rem - 5px)",sx:{"input[type=search]":{background:"transparent",color:i==="light"?"black":"#fff !important"},".rc-menu-button":{background:"transparent"}}},M.createElement(oh.FlamegraphRenderer,{colorMode:i,profile:r}))});function s5(){return Rh("forbidNewPage")?"":"_blank"}const sh=Go.Option;function l5(o,r){return o.split(".").reduce((i,s)=>i?i[s]:null,r)}class c5 extends N.Component{constructor(r,i){super(r,i);const s=new Set,c=new Set,d=new Map;this.props.trace.spans.forEach(m=>{s.add(m.process.serviceName),c.add(m.operationName);const v=d.get(m.process.serviceName)||[];v.push(m.operationName),d.set(m.process.serviceName,v)}),this.state={searchText:"",searchedColumn:"",data:this.props.trace.spans,serviceNamesList:[...s],operationNamesList:[...c],serviceNameOperationsMap:d,filteredData:this.props.trace.spans,filtered:{},selectedServiceName:[],selectedOperationName:[]},this.handleResetFilter=this.handleResetFilter.bind(this),this.uniqueOperationNameOptions=this.uniqueOperationNameOptions.bind(this)}handleResetFilter(){this.setState(r=>({selectedServiceName:[],selectedOperationName:[],filteredData:r.data}))}uniqueOperationNameOptions(){let r=[];const i=this.state.serviceNameOperationsMap;return this.state.filtered["process.serviceName"]?this.state.filtered["process.serviceName"].forEach(s=>{r=r.concat(i.get(s)||[])}):r=this.state.operationNamesList,[...new Set(r)]}onFilteredChangeCustom(r,i){const s=this.state.filtered;s[i]=r;const c=this.state.data.filter(d=>{let m;return Object.keys(s).every(v=>{if(s[v].length){const w=l5(v,d);m=s[v].includes(w)}else m=!0;return m}),m});this.setState(d=>({...d,filtered:s,filteredData:c}))}render(){const r=[{title:"Service Name",width:"25%",sorter:(i,s)=>i.process.serviceName.localeCompare(s.process.serviceName),render:(i,s)=>M.createElement("span",null,s.process.serviceName)},{title:"Operation",dataIndex:"operationName",width:"25%",sorter:(i,s)=>i.operationName.localeCompare(s.operationName)},{title:"ID",dataIndex:"spanID",sorter:(i,s)=>i.spanID.localeCompare(s.spanID),render:(i,s)=>M.createElement(Fh,{href:window.location.pathname+`?search=${i}`,target:s5(),rel:"noopener noreferrer",color:"brand.600"},i)},{title:"Duration",dataIndex:"duration",sorter:(i,s)=>i.duration-s.duration,render:i=>mb(parseInt(i,10))},{title:"Start Time",dataIndex:"startTime",sorter:(i,s)=>i.startTime-s.startTime,render:i=>ab(i/1e3).format("yy-MM-DD HH:mm:ss")}];return M.createElement(nt,{className:"trace-span-table"},M.createElement(fo,{justifyContent:"space-between",alignItems:"center",py:"2"},M.createElement(Kt,null,M.createElement(Kt,null,M.createElement(Mt,{minWidth:"fit-content"},"Service name"),M.createElement(Go,{allowClear:!0,showSearch:!0,mode:"multiple",style:{width:"200px"},maxTagCount:4,value:this.state.selectedServiceName,maxTagPlaceholder:`+ ${this.state.selectedServiceName.length-4} Selected`,placeholder:"Please Select Service ",onChange:i=>{this.setState(s=>({...s,selectedServiceName:i})),this.onFilteredChangeCustom(i,"process.serviceName")}},this.state.serviceNamesList.map(i=>M.createElement(sh,{key:i},i," ")))),M.createElement(Kt,null,M.createElement(Mt,{minWidth:"fit-content"},"Operation name"),M.createElement(Go,{allowClear:!0,showSearch:!0,mode:"multiple",style:{width:"200px"},maxTagCount:4,value:this.state.selectedOperationName,maxTagPlaceholder:`+ ${this.state.selectedOperationName.length-4} Selected`,placeholder:"Please Select Operation",onChange:i=>{this.setState(s=>({...s,selectedOperationName:i})),this.onFilteredChangeCustom(i,"operationName")}},this.uniqueOperationNameOptions().map(i=>M.createElement(sh,{key:i},i," "))))),M.createElement(nr,{size:"sm",onClick:this.handleResetFilter},"Reset Filters")),M.createElement(u5,{columns:r,data:this.state.filteredData}))}}const u5=({columns:o,data:r})=>M.createElement(jh,{className:"span-table span-view-table",columns:o,dataSource:r,pagination:{total:r.length,pageSizeOptions:["10","20","50","100"],showSizeChanger:!0,showQuickJumper:!0},rowKey:"spanID",showSorterTooltip:!1,size:"small"});const ho="Service Name",is="Operation Name";function f5(o,r,i){const s=r.spans;let c=[];for(let v=0;v<o.length;v++)if(o[v].hasSubgroupValue)for(let w=0;w<s.length;w++)for(let E=0;E<s[w].tags.length;E++)i===s[w].tags[E].key&&c.push(s[w]);c=[...new Set(c)];const d=yi(c).map("tags").flatten().value();let m=yi(d).map("key").uniq().value();return m=yi.filter(m,function(w){return w!==i}),c=[],c.push(ho),c.push(is),c=c.concat(m),c}function h5(o,r){let i=[];const s=o.spans;r===ho?i.push(is):i.push(ho);for(let c=0;c<s.length;c++)for(let d=0;d<s[c].tags.length;d++)i.push(s[c].tags[d].key);return i=[...new Set(i)],i}function d5(o){const r=o.spans,i=yi(r).map("tags").flatten().value(),s=yi(i).map("key").uniq().value();return yi.concat(ho,is,s)}function p5(o,r,i){let s;return i!==ho&&i!==is?s=f5(o,r,i):s=h5(r,i),s}const pa="Service Name",Wa="Operation Name";function lh(o){let r;const i=en.minBy(o,function(c){return c.relativeStartTime});return i!==void 0?r={duration:i.duration,lowestStartTime:i.relativeStartTime}:r={duration:-1,lowestStartTime:-1},r}function m5(o,r,i){let s=r,c=!1;for(let m=0;m<i.length;m++)if(o+s>=i[m].relativeStartTime){o+s<i[m].relativeStartTime+i[m].duration&&(s=i[m].relativeStartTime+i[m].duration-o+s),i.splice(m,1),c=!0;break}return{allOverlay:i,duration:s,didDelete:c}}function ch(o,r,i,s){let c=i,d=0,m={allOverlay:o,duration:d,didDelete:!1};const v=en.difference(r,o);let w=0,E=0;const S=lh(o);w=S.lowestStartTime,d=S.duration;do if(m=m5(w,d,m.allOverlay),!m.didDelete&&m.allOverlay.length>0){E=m.duration;const O=lh(m.allOverlay);w=O.lowestStartTime,d=O.duration}while(m.allOverlay.length>1);d=m.duration+E;for(let O=0;O<v.length;O++)d+=v[O].duration;return c+=s.duration-d,c}function ma(o,r,i,s){const c=s;c.count+=1,c.total+=r.duration,c.min>r.duration&&(c.min=r.duration),c.max<r.duration&&(c.max=r.duration);let d=0,m=!1,v=!1,w=[];const E=[];if(r.hasChildren){const O=[];for(let V=0;V<i.length;V++)i[V].references.length===1&&r.spanID===i[V].references[0].spanID&&O.push(i[V]);if(O.length===1)r.relativeStartTime+r.duration>=O[0].relativeStartTime+O[0].duration?d=r.duration-O[0].duration:d=O[0].relativeStartTime-r.relativeStartTime;else{for(let V=0;V<O.length;V++)r.duration+r.relativeStartTime<O[V].duration+O[V].relativeStartTime&&(m=!0,E.push(O[V]));for(let V=0;V<O.length;V++)for(let X=0;X<O.length;X++)O[V].spanID!==O[X].spanID&&O[V].relativeStartTime<=O[X].relativeStartTime&&O[V].relativeStartTime+O[V].duration>=O[X].relativeStartTime&&(v=!0,w.push(O[V]),w.push(O[X]));if(w=[...new Set(w)],!m&&!v){d=r.duration;for(let V=0;V<O.length;V++)d-=O[V].duration}else if(m&&v)if(en.isEmpty(en.xor(w,E))){const V=en.minBy(E,function(Q){return Q.relativeStartTime}),X=en.difference(O,E);d=V.relativeStartTime-r.relativeStartTime;for(let q=0;q<X.length;q++)d-=X[q].duration}else{const V=en.difference(w,E),X=en.difference(O,E),q=en.minBy(E,function(pe){return pe.relativeStartTime}),Q=[];for(let $=0;$<V.length;$++)!q.relativeStartTime<=V[$].relativeStartTime&&Q.push(V[$]);for(let $=0;$<Q.length;$++)Q[$].relativeStartTime+Q[$].duration>q.relativeStartTime&&(Q[$].duration-=Q[$].relativeStartTime+Q[$].duration-q.relativeStartTime,Q[$].duration<0&&(Q[$].duration=0));d=ch(Q,X,d,r);const H=r.relativeStartTime+r.duration-q.relativeStartTime;d=Math.max(0,d-H)}else if(m){d=E[0].relativeStartTime-r.relativeStartTime;for(let V=0;V<O.length;V++)O[V].spanID!==E[0].spanID&&(d-=O[V].duration)}else d=ch(w,O,d,r)}}else d+=r.duration;c.selfMin>d&&(c.selfMin=d),c.selfMax<d&&(c.selfMax=d),c.selfTotal+=d;const S=100/o.duration;return c.percent=c.selfTotal*S,c}function Ko(o){const r=o;return r.total=Math.round(r.total/1e3*100)/100,r.avg=Math.round(r.avg/1e3*100)/100,r.min=Math.round(r.min/1e3*100)/100,r.max=Math.round(r.max/1e3*100)/100,r.selfTotal=Math.round(r.selfTotal/1e3*100)/100,r.selfAvg=Math.round(r.selfAvg/1e3*100)/100,r.selfMin=Math.round(r.selfMin/1e3*100)/100,r.selfMax=Math.round(r.selfMax/1e3*100)/100,r.percent=Math.round(r.percent/1*100)/100,r}function g5(o,r){let i="",s=[];const c=r.spans;if(o===pa){const v=en.chain(c).groupBy(w=>w.process.serviceName).map((w,E)=>({key:E})).uniq().value();for(let w=0;w<v.length;w++)s.push(v[w].key)}else if(o===Wa){const v=en.chain(c).groupBy(w=>w.operationName).map((w,E)=>({key:E})).uniq().value();for(let w=0;w<v.length;w++)s.push(v[w].key)}else{for(let v=0;v<c.length;v++)for(let w=0;w<c[v].tags.length;w++)c[v].tags[w].key===o&&s.push(c[v].tags[w].value);s=[...new Set(s)]}const d=[],m=[];for(let v=0;v<s.length;v++){let w={selfTotal:0,selfMin:r.duration,selfMax:0,selfAvg:0,total:0,avg:0,min:r.duration,max:0,count:0,percent:0};for(let S=0;S<c.length;S++)if(o===pa)c[S].process.serviceName===s[v]&&(w=ma(r,c[S],c,w),i=da.getColorByKey(c[S].process.serviceName));else if(o===Wa)c[S].operationName===s[v]&&(w=ma(r,c[S],c,w));else for(let O=0;O<c[S].tags.length;O++)c[S].tags[O].value===s[v]&&(w=ma(r,c[S],c,w));w.selfAvg=w.selfTotal/w.count,w.avg=w.total/w.count;let E={hasSubgroupValue:!0,name:s[v],count:w.count,total:w.total,avg:w.avg,min:w.min,max:w.max,isDetail:!1,selfTotal:w.selfTotal,selfAvg:w.selfAvg,selfMin:w.selfMin,selfMax:w.selfMax,percent:w.percent,color:i,searchColor:"",parentElement:"none",colorToPercent:"transparent",traceID:""};E=Ko(E),d.push(E)}if(o!==pa&&o!==Wa){for(let w=0;w<c.length;w++){let E=!1;for(let S=0;S<c[w].tags.length;S++)for(let O=0;O<s.length;O++)c[w].tags[S].value===s[O]&&(E=!0);E||m.push(c[w])}let v={selfTotal:0,selfAvg:0,selfMin:r.duration,selfMax:0,total:0,avg:0,min:r.duration,max:0,count:0,percent:0};for(let w=0;w<m.length;w++)v=ma(r,m[w],c,v);if(v.count!==0){v.selfAvg=v.selfTotal/v.count,v.avg=v.total/v.count;let w={hasSubgroupValue:!1,name:`Without Tag: ${o}`,count:v.count,total:v.total,avg:v.avg,min:v.min,max:v.max,isDetail:!1,selfTotal:v.selfTotal,selfAvg:v.selfAvg,selfMin:v.selfMin,selfMax:v.selfMax,percent:v.percent,color:"",searchColor:"transparent",parentElement:"",colorToPercent:"rgb(248,248,248)",traceID:""};w=Ko(w),d.push(w)}}return d}function uh(o,r,i,s,c,d,m){const v=[];for(let w=0;w<o.length;w++){let E="",S={selfTotal:0,selfAvg:0,selfMin:m.duration,selfMax:0,total:0,avg:0,min:m.duration,max:0,count:0,percent:0};for(let V=0;V<r.length;V++)if(d)for(let X=0;X<r[V].tags.length;X++)o[w]===r[V].tags[X].value&&(S=ma(m,r[V],i,S));else s===pa?o[w]===r[V].process.serviceName&&(S=ma(m,r[V],i,S),E=da.getColorByKey(r[V].process.serviceName)):o[w]===r[V].operationName&&(S=ma(m,r[V],i,S));S.selfAvg=S.selfTotal/S.count,S.avg=S.total/S.count;let O={hasSubgroupValue:!0,name:o[w],count:S.count,total:S.total,avg:S.avg,min:S.min,max:S.max,isDetail:!0,selfTotal:S.selfTotal,selfAvg:S.selfAvg,selfMin:S.selfMin,selfMax:S.selfMax,percent:S.percent,color:E,searchColor:"",parentElement:c,colorToPercent:"rgb(248,248,248)",traceID:""};O=Ko(O),v.push(O)}return v}function v5(o,r,i){const s=i.spans,c=[];for(let d=0;d<o.length;d++)if(c.push(o[d]),!o[d].isDetail){let m={selfTotal:0,selfAvg:0,selfMin:i.duration,selfMax:0,total:0,avg:0,min:i.duration,max:0,count:0,percent:0};for(let v=0;v<s.length;v++)if(o[d].name===s[v].process.serviceName||o[d].name===s[v].operationName){let w=!0;for(let E=0;E<s[v].tags.length;E++)if(s[v].tags[E].key===r){w=!1;break}w&&(m=ma(i,s[v],s,m))}if(m.avg=m.total/m.count,m.selfAvg=m.selfTotal/m.count,m.count!==0){let v={hasSubgroupValue:!1,name:`Without Tag: ${r}`,count:m.count,total:m.total,avg:m.avg,min:m.min,max:m.max,isDetail:!0,selfTotal:m.selfTotal,selfAvg:m.selfAvg,selfMin:m.selfMin,selfMax:m.selfMax,percent:m.percent,color:"",searchColor:"",parentElement:o[d].name,colorToPercent:"rgb(248,248,248)",traceID:""};v=Ko(v),c.push(v)}}return c}function b5(o,r,i,s){const c=s.spans,d=[];for(let m=0;m<o.length;m++)if(!o[m].isDetail){const v=[];let w=[];for(let S=0;S<c.length;S++)if(r===pa)o[m].name===c[S].process.serviceName&&(v.push(c[S]),w.push(c[S].operationName));else if(r===Wa)o[m].name===c[S].operationName&&(v.push(c[S]),w.push(c[S].process.serviceName));else for(let O=0;O<c[S].tags.length;O++)o[m].name===c[S].tags[O].value&&(v.push(c[S]),i===Wa?w.push(c[S].operationName):i===pa&&w.push(c[S].process.serviceName));let E=[];if(i===pa||i===Wa)w=[...new Set(w)],E=uh(w,v,c,i,o[m].name,!1,s);else{w=[];for(let S=0;S<v.length;S++)for(let O=0;O<v[S].tags.length;O++)v[S].tags[O].key===i&&w.push(v[S].tags[O].value);w=[...new Set(w)],E=uh(w,v,c,i,o[m].name,!0,s)}if(d.push(o[m]),E.length>0)for(let S=0;S<E.length;S++)d.push(E[S])}return i!==pa&&i!==Wa?v5(d,i,s):d}function $a(o,r){return g5(o,r)}function fh(o,r,i,s){return i!=="Reset"?b5(o,r,i,s):$a(r,s)}function yr(o,r,i){let s,c;const d=o;for(let m=0;m<d.length;m++)if(i)if(r==="percent")s=236-166*(d[m].percent/100),c=`rgb(248,${s},${s})`,d[m].colorToPercent=c;else{let v=0;for(let E=0;E<d.length;E++)v<d[E][r]&&(v=d[E][r]);const w=100/v/100;s=236-166*(d[m][r]*w),c=`rgb(248,${s},${s})`,d[m].colorToPercent=c}else d[m].isDetail?d[m].colorToPercent="rgb(248,248,248)":d[m].colorToPercent="transparent";return d}const ld=/\W*\w+\W*/g;function cd(o){const{className:r,text:i,wordRegexp:s=ld,style:c}=o;if(!i)return typeof i=="string"?i:null;const d=[];s.exec("");let m=s.exec(i)||[i];for(;m;)d.push(N.createElement("span",{key:`${i}-${d.length}`,className:r,style:{display:"inline-block",whiteSpace:"pre",...c}},m[0])),m=s.exec(i);return d}cd.defaultProps={className:"BreakableText",wordRegexp:ld};var y5=ib,w5=function(){return y5.Date.now()},E5=w5,x5=ob,fl=E5,hh=sb,S5="Expected a function",k5=Math.max,T5=Math.min;function _5(o,r,i){var s,c,d,m,v,w,E=0,S=!1,O=!1,V=!0;if(typeof o!="function")throw new TypeError(S5);r=hh(r)||0,x5(i)&&(S=!!i.leading,O="maxWait"in i,d=O?k5(hh(i.maxWait)||0,r):d,V="trailing"in i?!!i.trailing:V);function X(Z){var te=s,ae=c;return s=c=void 0,E=Z,m=o.apply(ae,te),m}function q(Z){return E=Z,v=setTimeout($,r),S?X(Z):m}function Q(Z){var te=Z-w,ae=Z-E,z=r-te;return O?T5(z,d-ae):z}function H(Z){var te=Z-w,ae=Z-E;return w===void 0||te>=r||te<0||O&&ae>=d}function $(){var Z=fl();if(H(Z))return pe(Z);v=setTimeout($,Q(Z))}function pe(Z){return v=void 0,V&&s?X(Z):(s=c=void 0,m)}function C(){v!==void 0&&clearTimeout(v),E=0,s=w=c=v=void 0}function p(){return v===void 0?m:pe(fl())}function W(){var Z=fl(),te=H(Z);if(s=arguments,c=this,w=Z,te){if(v===void 0)return q(w);if(O)return clearTimeout(v),v=setTimeout($,r),X(w)}return v===void 0&&(v=setTimeout($,r)),m}return W.cancel=C,W.flush=p,W}var C5=_5;const dh=ga(C5);function yl(){return yl=Object.assign?Object.assign.bind():function(o){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(o[s]=i[s])}return o},yl.apply(this,arguments)}var os={exports:{}},ud={:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"AE",:"A",:"A",:"A",:"C",:"C",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"I",:"I",:"D",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"U",:"U",:"U",:"U",:"Y",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"ae",:"a",:"a",:"a",:"c",:"c",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"i",:"i",:"d",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"u",:"u",:"u",:"u",:"y",:"y",:"A",:"a",:"A",:"a",:"A",:"a",:"C",:"c",:"C",:"c",:"C",:"c",:"C",:"c",C:"C",c:"c",:"D",:"d",:"D",:"d",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"G",:"G",:"g",:"g",:"G",:"g",:"G",:"g",:"G",:"g",:"H",:"h",:"H",:"h",:"H",:"h",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"IJ",:"ij",:"J",:"j",:"K",:"k",:"K",:"k",K:"K",k:"k",:"L",:"l",:"L",:"l",:"L",:"l",:"L",:"l",:"l",:"l",:"M",:"m",M:"M",m:"m",:"N",:"n",:"N",:"n",:"N",:"n",:"n",N:"N",n:"n",:"O",:"o",:"O",:"o",:"O",:"o",:"OE",:"oe",P:"P",p:"p",:"R",:"r",:"R",:"r",:"R",:"r",R:"R",r:"r",:"R",:"r",:"S",:"s",:"S",:"s",:"S",:"S",:"s",:"s",:"S",:"s",:"T",:"t",:"t",:"T",:"T",:"t",:"T",:"t",T:"T",t:"t",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",V:"V",v:"v",:"W",:"w",:"W",:"w",X:"X",x:"x",:"Y",:"y",:"Y",Y:"Y",y:"y",:"Z",:"z",:"Z",:"z",:"Z",:"z",:"s",:"f",:"O",:"o",:"U",:"u",:"A",:"a",:"I",:"i",:"O",:"o",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"A",:"a",:"AE",:"ae",:"O",:"o",:"TH",:"th",:"P",:"p",:"S",:"s",X:"X",x:"x",:"",:"",:"",:"",A:"A",a:"a",E:"E",e:"e",I:"I",i:"i",:"N",:"n",:"O",:"o",:"O",:"o",:"U",:"u",:"W",:"w",:"Y",:"y",:"A",:"a",:"E",:"e",:"I",:"i",:"O",:"o",:"R",:"r",:"U",:"u",B:"B",b:"b",:"C",:"c",:"E",:"e",F:"F",f:"f",:"G",:"g",:"H",:"h",J:"J",:"j",:"K",:"k",M:"M",m:"m",P:"P",p:"p",Q:"Q",q:"q",:"R",:"r",:"S",:"s",V:"V",v:"v",W:"W",w:"w",X:"X",x:"x",Y:"Y",y:"y",A:"A",a:"a",B:"B",b:"b",:"D",:"d",:"E",:"e",:"E",:"e",:"H",:"h",I:"I",i:"i",:"I",:"i",M:"M",m:"m",O:"O",o:"o",Q:"Q",q:"q",U:"U",u:"u",X:"X",x:"x",Z:"Z",z:"z"},fd=Object.keys(ud).join("|"),M5=new RegExp(fd,"g"),O5=new RegExp(fd,""),hd=function(o){return o.replace(M5,function(r){return ud[r]})},N5=function(o){return!!o.match(O5)};os.exports=hd;os.exports.has=N5;os.exports.remove=hd;var I5=os.exports;const D5=ga(I5);var sn={CASE_SENSITIVE_EQUAL:9,EQUAL:8,STARTS_WITH:7,WORD_STARTS_WITH:6,STRING_CASE:5,STRING_CASE_ACRONYM:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0},Tn={CAMEL:.8,PASCAL:.6,KEBAB:.4,SNAKE:.2,NO_CASE:0};Ml.rankings=sn;Ml.caseRankings=Tn;var R5=function(o,r){return String(o.rankedItem).localeCompare(r.rankedItem)};function Ml(o,r,i){i===void 0&&(i={});var s=i,c=s.keys,d=s.threshold,m=d===void 0?sn.MATCHES:d,v=s.baseSort,w=v===void 0?R5:v,E=o.reduce(S,[]);return E.sort(function(O,V){return V5(O,V,w)}).map(function(O){var V=O.item;return V});function S(O,V,X){var q=A5(V,c,r,i),Q=q.rankedItem,H=q.rank,$=q.keyIndex,pe=q.keyThreshold,C=pe===void 0?m:pe;return H>=C&&O.push({rankedItem:Q,item:V,rank:H,index:X,keyIndex:$}),O}}function A5(o,r,i,s){if(!r)return{rankedItem:o,rank:ph(o,i,s),keyIndex:-1,keyThreshold:s.threshold};var c=z5(o,r);return c.reduce(function(d,m,v){var w=d.rank,E=d.rankedItem,S=d.keyIndex,O=d.keyThreshold,V=m.itemValue,X=m.attributes,q=ph(V,i,s),Q=E,H=X.minRanking,$=X.maxRanking,pe=X.threshold;return q<H&&q>=sn.MATCHES?q=H:q>$&&(q=$),q>w&&(w=q,S=v,O=pe,Q=V),{rankedItem:Q,rank:w,keyIndex:S,keyThreshold:O}},{rank:sn.NO_MATCH,keyIndex:-1,keyThreshold:s.threshold})}function ph(o,r,i){if(o=mh(o,i),r=mh(r,i),r.length>o.length)return sn.NO_MATCH;if(o===r)return sn.CASE_SENSITIVE_EQUAL;var s=L5(o),c=j5(o,r,s),d=F5(o,r,s);return o=o.toLowerCase(),r=r.toLowerCase(),o===r?sn.EQUAL+s:o.indexOf(r)===0?sn.STARTS_WITH+s:o.indexOf(" "+r)!==-1?sn.WORD_STARTS_WITH+s:c?sn.STRING_CASE+s:s>0&&d?sn.STRING_CASE_ACRONYM+s:o.indexOf(r)!==-1?sn.CONTAINS+s:r.length===1?sn.NO_MATCH:P5(o).indexOf(r)!==-1?sn.ACRONYM+s:B5(o,r)}function P5(o){var r="",i=o.split(" ");return i.forEach(function(s){var c=s.split("-");c.forEach(function(d){r+=d.substr(0,1)})}),r}function L5(o){var r=o.toLowerCase()!==o,i=o.indexOf("-")>=0,s=o.indexOf("_")>=0;if(!r&&!s&&i)return Tn.KEBAB;if(!r&&s&&!i)return Tn.SNAKE;if(r&&!i&&!s){var c=o[0].toUpperCase()===o[0];return c?Tn.PASCAL:Tn.CAMEL}return Tn.NO_CASE}function j5(o,r,i){var s=o.toLowerCase().indexOf(r.toLowerCase());switch(i){case Tn.SNAKE:return o[s-1]==="_";case Tn.KEBAB:return o[s-1]==="-";case Tn.PASCAL:case Tn.CAMEL:return s!==-1&&o[s]===o[s].toUpperCase();default:return!1}}function F5(o,r,i){var s=null;switch(i){case Tn.SNAKE:s="_";break;case Tn.KEBAB:s="-";break;case Tn.PASCAL:case Tn.CAMEL:s=/(?=[A-Z])/;break;default:s=null}var c=o.split(s);return r.toLowerCase().split("").reduce(function(d,m,v){var w=c[v];return d&&w&&w[0].toLowerCase()===m},!0)}function B5(o,r){var i=0,s=0;function c(O,V,X){for(var q=X;q<V.length;q++){var Q=V[q];if(Q===O)return i+=1,q+1}return-1}function d(O){var V=i/r.length,X=sn.MATCHES+V*(1/O);return X}var m=c(r[0],o,0);if(m<0)return sn.NO_MATCH;s=m;for(var v=1;v<r.length;v++){var w=r[v];s=c(w,o,s);var E=s>-1;if(!E)return sn.NO_MATCH}var S=s-m;return d(S)}function V5(o,r,i){var s=-1,c=1,d=o.rank,m=o.keyIndex,v=r.rank,w=r.keyIndex;return d===v?m===w?i(o,r):m<w?s:c:d>v?s:c}function mh(o,r){var i=r.keepDiacritics;return o=""+o,i||(o=D5(o)),o}function $5(o,r){typeof r=="object"&&(r=r.key);var i;return typeof r=="function"?i=r(o):r.indexOf(".")!==-1?i=r.split(".").reduce(function(s,c){return s?s[c]:null},o):i=o[r],i!=null?[].concat(i):null}function z5(o,r){return r.reduce(function(i,s){var c=$5(o,s);return c&&c.forEach(function(d){i.push({itemValue:d,attributes:H5(s)})}),i},[])}function H5(o){return typeof o=="string"&&(o={key:o}),yl({maxRanking:1/0,minRanking:-1/0},o)}function wl(){return wl=Object.assign?Object.assign.bind():function(o){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(o[s]=i[s])}return o},wl.apply(this,arguments)}function El(o,r){return El=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,c){return s.__proto__=c,s},El(o,r)}function W5(o,r){o.prototype=Object.create(r.prototype),o.prototype.constructor=o,El(o,r)}function zo(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}var gh=Number.isNaN||function(r){return typeof r=="number"&&r!==r};function U5(o,r){return!!(o===r||gh(o)&&gh(r))}function Z5(o,r){if(o.length!==r.length)return!1;for(var i=0;i<o.length;i++)if(!U5(o[i],r[i]))return!1;return!0}function hl(o,r){r===void 0&&(r=Z5);var i,s=[],c,d=!1;function m(){for(var v=[],w=0;w<arguments.length;w++)v[w]=arguments[w];return d&&i===this&&r(v,s)||(c=o.apply(this,v),d=!0,i=this,s=v),c}return m}var G5=typeof performance=="object"&&typeof performance.now=="function",vh=G5?function(){return performance.now()}:function(){return Date.now()};function bh(o){cancelAnimationFrame(o.id)}function J5(o,r){var i=vh();function s(){vh()-i>=r?o.call(null):c.id=requestAnimationFrame(s)}var c={id:requestAnimationFrame(s)};return c}var pi=null;function yh(o){if(o===void 0&&(o=!1),pi===null||o){var r=document.createElement("div"),i=r.style;i.width="50px",i.height="50px",i.overflow="scroll",i.direction="rtl";var s=document.createElement("div"),c=s.style;return c.width="100px",c.height="100px",r.appendChild(s),document.body.appendChild(r),r.scrollLeft>0?pi="positive-descending":(r.scrollLeft=1,r.scrollLeft===0?pi="negative":pi="positive-ascending"),document.body.removeChild(r),pi}return pi}var q5=150,X5=function(r,i){return r};function Y5(o){var r,i,s=o.getItemOffset,c=o.getEstimatedTotalSize,d=o.getItemSize,m=o.getOffsetForIndexAndAlignment,v=o.getStartIndexForOffset,w=o.getStopIndexForStartIndex,E=o.initInstanceProps,S=o.shouldResetStyleCacheOnItemSizeChange,O=o.validateProps;return i=r=function(V){W5(X,V);function X(Q){var H;return H=V.call(this,Q)||this,H._instanceProps=E(H.props,zo(zo(H))),H._outerRef=void 0,H._resetIsScrollingTimeoutId=null,H.state={instance:zo(zo(H)),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof H.props.initialScrollOffset=="number"?H.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},H._callOnItemsRendered=void 0,H._callOnItemsRendered=hl(function($,pe,C,p){return H.props.onItemsRendered({overscanStartIndex:$,overscanStopIndex:pe,visibleStartIndex:C,visibleStopIndex:p})}),H._callOnScroll=void 0,H._callOnScroll=hl(function($,pe,C){return H.props.onScroll({scrollDirection:$,scrollOffset:pe,scrollUpdateWasRequested:C})}),H._getItemStyle=void 0,H._getItemStyle=function($){var pe=H.props,C=pe.direction,p=pe.itemSize,W=pe.layout,Z=H._getItemStyleCache(S&&p,S&&W,S&&C),te;if(Z.hasOwnProperty($))te=Z[$];else{var ae=s(H.props,$,H._instanceProps),z=d(H.props,$,H._instanceProps),ie=C==="horizontal"||W==="horizontal",J=C==="rtl",ue=ie?ae:0;Z[$]=te={position:"absolute",left:J?void 0:ue,right:J?ue:void 0,top:ie?0:ae,height:ie?"100%":z,width:ie?z:"100%"}}return te},H._getItemStyleCache=void 0,H._getItemStyleCache=hl(function($,pe,C){return{}}),H._onScrollHorizontal=function($){var pe=$.currentTarget,C=pe.clientWidth,p=pe.scrollLeft,W=pe.scrollWidth;H.setState(function(Z){if(Z.scrollOffset===p)return null;var te=H.props.direction,ae=p;if(te==="rtl")switch(yh()){case"negative":ae=-p;break;case"positive-descending":ae=W-C-p;break}return ae=Math.max(0,Math.min(ae,W-C)),{isScrolling:!0,scrollDirection:Z.scrollOffset<p?"forward":"backward",scrollOffset:ae,scrollUpdateWasRequested:!1}},H._resetIsScrollingDebounced)},H._onScrollVertical=function($){var pe=$.currentTarget,C=pe.clientHeight,p=pe.scrollHeight,W=pe.scrollTop;H.setState(function(Z){if(Z.scrollOffset===W)return null;var te=Math.max(0,Math.min(W,p-C));return{isScrolling:!0,scrollDirection:Z.scrollOffset<te?"forward":"backward",scrollOffset:te,scrollUpdateWasRequested:!1}},H._resetIsScrollingDebounced)},H._outerRefSetter=function($){var pe=H.props.outerRef;H._outerRef=$,typeof pe=="function"?pe($):pe!=null&&typeof pe=="object"&&pe.hasOwnProperty("current")&&(pe.current=$)},H._resetIsScrollingDebounced=function(){H._resetIsScrollingTimeoutId!==null&&bh(H._resetIsScrollingTimeoutId),H._resetIsScrollingTimeoutId=J5(H._resetIsScrolling,q5)},H._resetIsScrolling=function(){H._resetIsScrollingTimeoutId=null,H.setState({isScrolling:!1},function(){H._getItemStyleCache(-1,null)})},H}X.getDerivedStateFromProps=function(H,$){return Q5(H,$),O(H),null};var q=X.prototype;return q.scrollTo=function(H){H=Math.max(0,H),this.setState(function($){return $.scrollOffset===H?null:{scrollDirection:$.scrollOffset<H?"forward":"backward",scrollOffset:H,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},q.scrollToItem=function(H,$){$===void 0&&($="auto");var pe=this.props.itemCount,C=this.state.scrollOffset;H=Math.max(0,Math.min(H,pe-1)),this.scrollTo(m(this.props,H,$,C,this._instanceProps))},q.componentDidMount=function(){var H=this.props,$=H.direction,pe=H.initialScrollOffset,C=H.layout;if(typeof pe=="number"&&this._outerRef!=null){var p=this._outerRef;$==="horizontal"||C==="horizontal"?p.scrollLeft=pe:p.scrollTop=pe}this._callPropsCallbacks()},q.componentDidUpdate=function(){var H=this.props,$=H.direction,pe=H.layout,C=this.state,p=C.scrollOffset,W=C.scrollUpdateWasRequested;if(W&&this._outerRef!=null){var Z=this._outerRef;if($==="horizontal"||pe==="horizontal")if($==="rtl")switch(yh()){case"negative":Z.scrollLeft=-p;break;case"positive-ascending":Z.scrollLeft=p;break;default:var te=Z.clientWidth,ae=Z.scrollWidth;Z.scrollLeft=ae-te-p;break}else Z.scrollLeft=p;else Z.scrollTop=p}this._callPropsCallbacks()},q.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&bh(this._resetIsScrollingTimeoutId)},q.render=function(){var H=this.props,$=H.children,pe=H.className,C=H.direction,p=H.height,W=H.innerRef,Z=H.innerElementType,te=H.innerTagName,ae=H.itemCount,z=H.itemData,ie=H.itemKey,J=ie===void 0?X5:ie,ue=H.layout,ve=H.outerElementType,T=H.outerTagName,R=H.style,A=H.useIsScrolling,L=H.width,j=this.state.isScrolling,_=C==="horizontal"||ue==="horizontal",D=_?this._onScrollHorizontal:this._onScrollVertical,B=this._getRangeToRender(),K=B[0],we=B[1],qe=[];if(ae>0)for(var Qe=K;Qe<=we;Qe++)qe.push(N.createElement($,{data:z,key:J(Qe,z),index:Qe,isScrolling:A?j:void 0,style:this._getItemStyle(Qe)}));var me=c(this.props,this._instanceProps);return N.createElement(ve||T||"div",{className:pe,onScroll:D,ref:this._outerRefSetter,style:wl({position:"relative",height:p,width:L,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:C},R)},N.createElement(Z||te||"div",{children:qe,ref:W,style:{height:_?"100%":me,pointerEvents:j?"none":void 0,width:_?me:"100%"}}))},q._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var H=this.props.itemCount;if(H>0){var $=this._getRangeToRender(),pe=$[0],C=$[1],p=$[2],W=$[3];this._callOnItemsRendered(pe,C,p,W)}}if(typeof this.props.onScroll=="function"){var Z=this.state,te=Z.scrollDirection,ae=Z.scrollOffset,z=Z.scrollUpdateWasRequested;this._callOnScroll(te,ae,z)}},q._getRangeToRender=function(){var H=this.props,$=H.itemCount,pe=H.overscanCount,C=this.state,p=C.isScrolling,W=C.scrollDirection,Z=C.scrollOffset;if($===0)return[0,0,0,0];var te=v(this.props,Z,this._instanceProps),ae=w(this.props,te,Z,this._instanceProps),z=!p||W==="backward"?Math.max(1,pe):1,ie=!p||W==="forward"?Math.max(1,pe):1;return[Math.max(0,te-z),Math.max(0,Math.min($-1,ae+ie)),te,ae]},X}(N.PureComponent),r.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},i}var Q5=function(r,i){r.children,r.direction,r.height,r.layout,r.innerTagName,r.outerTagName,r.width,i.instance},K5=Y5({getItemOffset:function(r,i){var s=r.itemSize;return i*s},getItemSize:function(r,i){var s=r.itemSize;return s},getEstimatedTotalSize:function(r){var i=r.itemCount,s=r.itemSize;return s*i},getOffsetForIndexAndAlignment:function(r,i,s,c){var d=r.direction,m=r.height,v=r.itemCount,w=r.itemSize,E=r.layout,S=r.width,O=d==="horizontal"||E==="horizontal",V=O?S:m,X=Math.max(0,v*w-V),q=Math.min(X,i*w),Q=Math.max(0,i*w-V+w);switch(s==="smart"&&(c>=Q-V&&c<=q+V?s="auto":s="center"),s){case"start":return q;case"end":return Q;case"center":{var H=Math.round(Q+(q-Q)/2);return H<Math.ceil(V/2)?0:H>X+Math.floor(V/2)?X:H}case"auto":default:return c>=Q&&c<=q?c:c<Q?Q:q}},getStartIndexForOffset:function(r,i){var s=r.itemCount,c=r.itemSize;return Math.max(0,Math.min(s-1,Math.floor(i/c)))},getStopIndexForStartIndex:function(r,i,s){var c=r.direction,d=r.height,m=r.itemCount,v=r.itemSize,w=r.layout,E=r.width,S=c==="horizontal"||w==="horizontal",O=i*v,V=S?E:d,X=Math.ceil((V+s-O)/v);return Math.max(0,Math.min(m-1,i+X-1))},initInstanceProps:function(r){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(r){r.itemSize}}),za={};(function(o){Object.defineProperty(o,"__esModule",{value:!0}),function(r){r.Unidentified="Unidentified",r.Alt="Alt",r.AltGraph="AltGraph",r.CapsLock="CapsLock",r.Control="Control",r.Fn="Fn",r.FnLock="FnLock",r.Hyper="Hyper",r.Meta="Meta",r.NumLock="NumLock",r.ScrollLock="ScrollLock",r.Shift="Shift",r.Super="Super",r.Symbol="Symbol",r.SymbolLock="SymbolLock",r.Enter="Enter",r.Tab="Tab",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.ArrowUp="ArrowUp",r.End="End",r.Home="Home",r.PageDown="PageDown",r.PageUp="PageUp",r.Backspace="Backspace",r.Clear="Clear",r.Copy="Copy",r.CrSel="CrSel",r.Cut="Cut",r.Delete="Delete",r.EraseEof="EraseEof",r.ExSel="ExSel",r.Insert="Insert",r.Paste="Paste",r.Redo="Redo",r.Undo="Undo",r.Accept="Accept",r.Again="Again",r.Attn="Attn",r.Cancel="Cancel",r.ContextMenu="ContextMenu",r.Escape="Escape",r.Execute="Execute",r.Find="Find",r.Finish="Finish",r.Help="Help",r.Pause="Pause",r.Play="Play",r.Props="Props",r.Select="Select",r.ZoomIn="ZoomIn",r.ZoomOut="ZoomOut",r.BrightnessDown="BrightnessDown",r.BrightnessUp="BrightnessUp",r.Eject="Eject",r.LogOff="LogOff",r.Power="Power",r.PowerOff="PowerOff",r.PrintScreen="PrintScreen",r.Hibernate="Hibernate",r.Standby="Standby",r.WakeUp="WakeUp",r.AllCandidates="AllCandidates",r.Alphanumeric="Alphanumeric",r.CodeInput="CodeInput",r.Compose="Compose",r.Convert="Convert",r.Dead="Dead",r.FinalMode="FinalMode",r.GroupFirst="GroupFirst",r.GroupLast="GroupLast",r.GroupNext="GroupNext",r.GroupPrevious="GroupPrevious",r.ModeChange="ModeChange",r.NextCandidate="NextCandidate",r.NonConvert="NonConvert",r.PreviousCandidate="PreviousCandidate",r.Process="Process",r.SingleCandidate="SingleCandidate",r.HangulMode="HangulMode",r.HanjaMode="HanjaMode",r.JunjaMode="JunjaMode",r.Eisu="Eisu",r.Hankaku="Hankaku",r.Hiragana="Hiragana",r.HiraganaKatakana="HiraganaKatakana",r.KanaMode="KanaMode",r.KanjiMode="KanjiMode",r.Katakana="Katakana",r.Romaji="Romaji",r.Zenkaku="Zenkaku",r.ZenkakuHanaku="ZenkakuHanaku",r.F1="F1",r.F2="F2",r.F3="F3",r.F4="F4",r.F5="F5",r.F6="F6",r.F7="F7",r.F8="F8",r.F9="F9",r.F10="F10",r.F11="F11",r.F12="F12",r.F13="F13",r.F14="F14",r.F15="F15",r.F16="F16",r.F17="F17",r.F18="F18",r.F19="F19",r.F20="F20",r.Soft1="Soft1",r.Soft2="Soft2",r.Soft3="Soft3",r.Soft4="Soft4",r.AppSwitch="AppSwitch",r.Call="Call",r.Camera="Camera",r.CameraFocus="CameraFocus",r.EndCall="EndCall",r.GoBack="GoBack",r.GoHome="GoHome",r.HeadsetHook="HeadsetHook",r.LastNumberRedial="LastNumberRedial",r.Notification="Notification",r.MannerMode="MannerMode",r.VoiceDial="VoiceDial",r.ChannelDown="ChannelDown",r.ChannelUp="ChannelUp",r.MediaFastForward="MediaFastForward",r.MediaPause="MediaPause",r.MediaPlay="MediaPlay",r.MediaPlayPause="MediaPlayPause",r.MediaRecord="MediaRecord",r.MediaRewind="MediaRewind",r.MediaStop="MediaStop",r.MediaTrackNext="MediaTrackNext",r.MediaTrackPrevious="MediaTrackPrevious",r.AudioBalanceLeft="AudioBalanceLeft",r.AudioBalanceRight="AudioBalanceRight",r.AudioBassDown="AudioBassDown",r.AudioBassBoostDown="AudioBassBoostDown",r.AudioBassBoostToggle="AudioBassBoostToggle",r.AudioBassBoostUp="AudioBassBoostUp",r.AudioBassUp="AudioBassUp",r.AudioFaderFront="AudioFaderFront",r.AudioFaderRear="AudioFaderRear",r.AudioSurroundModeNext="AudioSurroundModeNext",r.AudioTrebleDown="AudioTrebleDown",r.AudioTrebleUp="AudioTrebleUp",r.AudioVolumeDown="AudioVolumeDown",r.AudioVolumeMute="AudioVolumeMute",r.AudioVolumeUp="AudioVolumeUp",r.MicrophoneToggle="MicrophoneToggle",r.MicrophoneVolumeDown="MicrophoneVolumeDown",r.MicrophoneVolumeMute="MicrophoneVolumeMute",r.MicrophoneVolumeUp="MicrophoneVolumeUp",r.TV="TV",r.TV3DMode="TV3DMode",r.TVAntennaCable="TVAntennaCable",r.TVAudioDescription="TVAudioDescription",r.TVAudioDescriptionMixDown="TVAudioDescriptionMixDown",r.TVAudioDescriptionMixUp="TVAudioDescriptionMixUp",r.TVContentsMenu="TVContentsMenu",r.TVDataService="TVDataService",r.TVInput="TVInput",r.TVInputComponent1="TVInputComponent1",r.TVInputComponent2="TVInputComponent2",r.TVInputComposite1="TVInputComposite1",r.TVInputComposite2="TVInputComposite2",r.TVInputHDMI1="TVInputHDMI1",r.TVInputHDMI2="TVInputHDMI2",r.TVInputHDMI3="TVInputHDMI3",r.TVInputHDMI4="TVInputHDMI4",r.TVInputVGA1="TVInputVGA1",r.TVMediaContext="TVMediaContext",r.TVNetwork="TVNetwork",r.TVNumberEntry="TVNumberEntry",r.TVPower="TVPower",r.TVRadioService="TVRadioService",r.TVSatellite="TVSatellite",r.TVSatelliteBS="TVSatelliteBS",r.TVSatelliteCS="TVSatelliteCS",r.TVSatelliteToggle="TVSatelliteToggle",r.TVTerrestrialAnalog="TVTerrestrialAnalog",r.TVTerrestrialDigital="TVTerrestrialDigital",r.TVTimer="TVTimer",r.AVRInput="AVRInput",r.AVRPower="AVRPower",r.ColorF0Red="ColorF0Red",r.ColorF1Green="ColorF1Green",r.ColorF2Yellow="ColorF2Yellow",r.ColorF3Blue="ColorF3Blue",r.ColorF4Grey="ColorF4Grey",r.ColorF5Brown="ColorF5Brown",r.ClosedCaptionToggle="ClosedCaptionToggle",r.Dimmer="Dimmer",r.DisplaySwap="DisplaySwap",r.DVR="DVR",r.Exit="Exit",r.FavoriteClear0="FavoriteClear0",r.FavoriteClear1="FavoriteClear1",r.FavoriteClear2="FavoriteClear2",r.FavoriteClear3="FavoriteClear3",r.FavoriteRecall0="FavoriteRecall0",r.FavoriteRecall1="FavoriteRecall1",r.FavoriteRecall2="FavoriteRecall2",r.FavoriteRecall3="FavoriteRecall3",r.FavoriteStore0="FavoriteStore0",r.FavoriteStore1="FavoriteStore1",r.FavoriteStore2="FavoriteStore2",r.FavoriteStore3="FavoriteStore3",r.Guide="Guide",r.GuideNextDay="GuideNextDay",r.GuidePreviousDay="GuidePreviousDay",r.Info="Info",r.InstantReplay="InstantReplay",r.Link="Link",r.ListProgram="ListProgram",r.LiveContent="LiveContent",r.Lock="Lock",r.MediaApps="MediaApps",r.MediaAudioTrack="MediaAudioTrack",r.MediaLast="MediaLast",r.MediaSkipBackward="MediaSkipBackward",r.MediaSkipForward="MediaSkipForward",r.MediaStepBackward="MediaStepBackward",r.MediaStepForward="MediaStepForward",r.MediaTopMenu="MediaTopMenu",r.NavigateIn="NavigateIn",r.NavigateNext="NavigateNext",r.NavigateOut="NavigateOut",r.NavigatePrevious="NavigatePrevious",r.NextFavoriteChannel="NextFavoriteChannel",r.NextUserProfile="NextUserProfile",r.OnDemand="OnDemand",r.Pairing="Pairing",r.PinPDown="PinPDown",r.PinPMove="PinPMove",r.PinPToggle="PinPToggle",r.PinPUp="PinPUp",r.PlaySpeedDown="PlaySpeedDown",r.PlaySpeedReset="PlaySpeedReset",r.PlaySpeedUp="PlaySpeedUp",r.RandomToggle="RandomToggle",r.RcLowBattery="RcLowBattery",r.RecordSpeedNext="RecordSpeedNext",r.RfBypass="RfBypass",r.ScanChannelsToggle="ScanChannelsToggle",r.ScreenModeNext="ScreenModeNext",r.Settings="Settings",r.SplitScreenToggle="SplitScreenToggle",r.STBInput="STBInput",r.STBPower="STBPower",r.Subtitle="Subtitle",r.Teletext="Teletext",r.VideoModeNext="VideoModeNext",r.Wink="Wink",r.ZoomToggle="ZoomToggle",r.SpeechCorrectionList="SpeechCorrectionList",r.SpeechInputToggle="SpeechInputToggle",r.Close="Close",r.New="New",r.Open="Open",r.Print="Print",r.Save="Save",r.SpellCheck="SpellCheck",r.MailForward="MailForward",r.MailReply="MailReply",r.MailSend="MailSend",r.LaunchCalculator="LaunchCalculator",r.LaunchCalendar="LaunchCalendar",r.LaunchContacts="LaunchContacts",r.LaunchMail="LaunchMail",r.LaunchMediaPlayer="LaunchMediaPlayer",r.LaunchMusicPlayer="LaunchMusicPlayer",r.LaunchMyComputer="LaunchMyComputer",r.LaunchPhone="LaunchPhone",r.LaunchScreenSaver="LaunchScreenSaver",r.LaunchSpreadsheet="LaunchSpreadsheet",r.LaunchWebBrowser="LaunchWebBrowser",r.LaunchWebCam="LaunchWebCam",r.LaunchWordProcessor="LaunchWordProcessor",r.LaunchApplication1="LaunchApplication1",r.LaunchApplication2="LaunchApplication2",r.LaunchApplication3="LaunchApplication3",r.LaunchApplication4="LaunchApplication4",r.LaunchApplication5="LaunchApplication5",r.LaunchApplication6="LaunchApplication6",r.LaunchApplication7="LaunchApplication7",r.LaunchApplication8="LaunchApplication8",r.LaunchApplication9="LaunchApplication9",r.LaunchApplication10="LaunchApplication10",r.LaunchApplication11="LaunchApplication11",r.LaunchApplication12="LaunchApplication12",r.LaunchApplication13="LaunchApplication13",r.LaunchApplication14="LaunchApplication14",r.LaunchApplication15="LaunchApplication15",r.LaunchApplication16="LaunchApplication16",r.BrowserBack="BrowserBack",r.BrowserFavorites="BrowserFavorites",r.BrowserForward="BrowserForward",r.BrowserHome="BrowserHome",r.BrowserRefresh="BrowserRefresh",r.BrowserSearch="BrowserSearch",r.BrowserStop="BrowserStop",r.Decimal="Decimal",r.Key11="Key11",r.Key12="Key12",r.Multiply="Multiply",r.Add="Add",r.Divide="Divide",r.Subtract="Subtract",r.Separator="Separator"}(o.Key||(o.Key={}))})(za);function dd(o,r){const i=r.map((s,c)=>c===0||!s?null:o(c)?M.createElement("mark",{key:`${s+c}`},s):s).filter(Boolean);return M.createElement("span",null,i)}const Ho=dd.bind(null,o=>o%2===0),eE=dd.bind(null,o=>o===1),mi="(.*?)",lo="(.*)";function tE(o){return`(\\b${o}|${o.toUpperCase()})`}function nE(o){return`[${o}${o.toUpperCase()}]`}class Ol{constructor(r){U(this,"matchers");if(this.query=r,!r){this.matchers=[];return}const i=r.toLowerCase(),s=`${i[0].toUpperCase()}${i.slice(1)}`,c=i.split(""),d=`^(${i})`,m=`(\\b${c.map(nE).join("")}|${s})`,v=c.map(S=>tE(S)).join(mi),w=`(${i})`,E=c.map(S=>`(${S})`).join(mi);this.matchers=[[new RegExp(`${d}${lo}`,"i"),eE],[new RegExp(`${mi}${m}${lo}`),Ho],[new RegExp(`${mi}${v}${lo}`),Ho],[new RegExp(`${mi}${w}${lo}`,"i"),Ho],[new RegExp(`${mi}${E}${lo}`,"i"),Ho]]}static make(r){return new Ol(r)}highlightMatches(r){if(!r)return r;for(let i=0;i<this.matchers.length;i++){const[s,c]=this.matchers[i],d=r.match(s);if(d)return c(d)}return r}}const rE=as(30)(Ol.make);function aE(o,r){return o?rE(o).highlightMatches(r):r}const iE=as(200)(aE);class oE extends N.PureComponent{constructor(){super(...arguments);U(this,"isSelected",()=>{const{data:i,index:s}=this.props,{options:c,selectedValue:d}=i;return typeof d=="string"||!d?c[s]===d:d.has(c[s])});U(this,"onClicked",()=>{const{data:i,index:s}=this.props,{addValues:c,multi:d,options:m,removeValues:v,setValue:w}=i,E=m[s];d&&c&&v?this.isSelected()?v([E]):c([E]):w(E)})}render(){const{data:i,index:s,style:c}=this.props,{width:d,...m}=c,{focusedIndex:v,highlightQuery:w,multi:E,options:S}=i,O=this.isSelected(),V=Xt("FilteredList--ListItem",{"is-focused":s===v,"is-selected":O,"is-striped":s%2});return N.createElement("div",{className:V,style:m,onClick:this.onClicked,role:"switch","aria-checked":s===v?"true":"false"},E&&N.createElement(Tl,{className:"FilteredList--ListItem--Checkbox",checked:O}),iE(w,S[s]))}}const wh=35,sE=375;class lE extends N.PureComponent{constructor(){super(...arguments);U(this,"inputRef",N.createRef());U(this,"vlistRef",N.createRef());U(this,"wrapperRef",N.createRef());U(this,"state",{filterText:"",focusedIndex:null,visibleStartIndex:0,visibleStopIndex:0});U(this,"focusInput",()=>{const{current:i}=this.inputRef;i&&i.focus()});U(this,"getFilteredOptions",()=>{const{options:i}=this.props,{filterText:s}=this.state;return s?Ml(i,s):i});U(this,"setValue",i=>{this.props.setValue(i),this.setState({filterText:"",focusedIndex:null})});U(this,"onKeyDown",i=>{const{focusedIndex:s}=this.state;switch(i.key){case za.Key.Escape:{const{cancel:c}=this.props;this.setState({filterText:"",focusedIndex:null}),c&&c();break}case za.Key.ArrowUp:case za.Key.ArrowDown:{const{visibleStartIndex:c,visibleStopIndex:d}=this.state;let m;if(s==null)m=i.key===za.Key.ArrowDown?c:d,this.setState({focusedIndex:m});else{const w=i.key===za.Key.ArrowDown?1:-1,E=this.getFilteredOptions(),S=s+w;m=S>-1?S%E.length:E.length+S,this.setState({focusedIndex:m})}const v=this.vlistRef.current;v&&(m<c+1||m>d-1)&&v.scrollToItem(m);break}case za.Key.Enter:{const c=this.getFilteredOptions();s!==null?this.setValue(c[s]):c.length===1&&this.setValue(c[0]);break}}});U(this,"onListScrolled",dh(i=>{i.scrollUpdateWasRequested||this.setState({focusedIndex:null})},80));U(this,"onListItemsRendered",dh(i=>{const{visibleStartIndex:s,visibleStopIndex:c}=i;this.setState({visibleStartIndex:s,visibleStopIndex:c})},80));U(this,"onFilterChanged",i=>{this.setState({filterText:i.target.value,focusedIndex:null})})}componentDidUpdate(){this.focusInput()}isMouseWithin(){const{current:i}=this.wrapperRef;return i!=null&&i.matches(":hover")}getFilteredCheckbox(i){const{addValues:s,removeValues:c,options:d,value:m}=this.props;if(!s||!c)return null;const v=typeof m=="string"||!m?new Set([m]):m;let w=0,E=!1;for(let V=0;V<i.length;V++)if(v.has(i[V])&&w++,w&&w<=V){E=!0;break}const S=!!w&&w===i.length,O=`Click to ${S?"unselect":"select"} all ${i.length<d.length?"filtered ":""}options`;return N.createElement(Lh,{title:O},N.createElement(Tl,{className:"FilteredList--filterCheckbox",checked:S,disabled:!i.length,onChange:({target:{checked:V}})=>{V?s(i.filter(X=>!v.has(X))):c(i)},indeterminate:E}))}render(){const{addValues:i,multi:s,options:c,removeValues:d,value:m}=this.props,{filterText:v,focusedIndex:w}=this.state,E=this.getFilteredOptions(),S=s&&this.getFilteredCheckbox(E),O={addValues:i,focusedIndex:w,highlightQuery:v,multi:s,options:E,removeValues:d,selectedValue:m,setValue:this.setValue};return N.createElement("div",{ref:this.wrapperRef},N.createElement(nt,null,S,N.createElement("label",null,N.createElement(Ch,{placeholder:"Filter...",onChange:this.onFilterChanged,onKeyDown:this.onKeyDown,ref:this.inputRef,type:"text",value:v}))),N.createElement(K5,{key:v,className:"FilteredList--list u-simple-scrollbars",height:Math.min(c.length*wh,sE),itemCount:E.length,itemData:O,itemSize:wh,width:650,overscanCount:25,onItemsRendered:this.onListItemsRendered,onScroll:this.onListScrolled,ref:this.vlistRef},oE))}}const cE="Select a value";class dl extends N.PureComponent{constructor(){super(...arguments);U(this,"listRef",N.createRef());U(this,"state",{popoverVisible:!1});U(this,"clearValue",i=>{if(this.props.required)throw new Error("Cannot clear value of required NameSelector");i.stopPropagation(),this.props.clearValue()});U(this,"setValue",i=>{this.props.setValue(i),this.changeVisible(!1)});U(this,"onBodyClicked",()=>{this.listRef.current&&!this.listRef.current.isMouseWithin()&&this.changeVisible(!1)});U(this,"onFilterCancelled",()=>{this.changeVisible(!1)});U(this,"onPopoverVisibleChanged",i=>{this.changeVisible(i)})}componentDidUpdate(){this.listRef.current&&this.state.popoverVisible&&this.listRef.current.focusInput()}changeVisible(i){this.setState({popoverVisible:i}),setTimeout(()=>{i?window.document.body.addEventListener("click",this.onBodyClicked):window.document.body.removeEventListener("click",this.onBodyClicked)})}render(){const{label:i,options:s,placeholder:c=!1,required:d=!1,value:m}=this.props,{popoverVisible:v}=this.state,w=Xt("NameSelector",{"is-active":v,"is-invalid":d&&!m});let E=!0,S=m||"";return!m&&c&&(E=!1,S=typeof c=="string"?c:cE),N.createElement($h,{overlayClassName:"NameSelector--overlay u-rm-popover-content-padding",onOpenChange:this.onPopoverVisibleChanged,placement:"bottomLeft",content:N.createElement(lE,{ref:this.listRef,cancel:this.onFilterCancelled,options:s,value:m,setValue:this.setValue}),trigger:"click",open:v},N.createElement("h2",{className:w},E&&N.createElement("span",{className:"NameSelector--label",style:{opacity:.7,fontSize:"0.9rem"}},i,":"),N.createElement(cd,{className:"NameSelector--value",text:S,style:{fontSize:"0.9rem",fontWeight:550}}),N.createElement(po,{style:{display:"inline-block"},className:"NameSelector--chevron"}),!d&&m&&N.createElement(Dh,{style:{display:"inline-block",marginBottom:"-2px",opacity:.7,fontSize:"0.9rem"},onClick:this.clearValue})))}}const pl=new Map([["Count","count"],["Total","total"],["Avg","avg"],["Min","min"],["Max","max"],["ST Total","selfTotal"],["ST Avg","selfAvg"],["ST Min","selfMin"],["ST Max","selfMax"],["ST in Duration","percent"]]);class uE extends N.Component{constructor(r){super(r),this.props.handler($a("Service Name",this.props.trace),$a("Service Name",this.props.trace),"Service Name",null),this.state={valueNameSelector1:"Service Name",valueNameSelector2:null,valueNameSelector3:"Count",checkboxStatus:!1},this.setValueNameSelector1=this.setValueNameSelector1.bind(this),this.setValueNameSelector2=this.setValueNameSelector2.bind(this),this.setValueNameSelector3=this.setValueNameSelector3.bind(this),this.checkboxButton=this.checkboxButton.bind(this),this.clearValue=this.clearValue.bind(this)}getValue(){let r=pl.get(this.state.valueNameSelector3);return r===void 0&&(r=""),r}setValueNameSelector1(r){this.setState({valueNameSelector1:r,valueNameSelector2:null});const i=yr($a(r,this.props.trace),this.getValue(),this.state.checkboxStatus),s=yr($a(r,this.props.trace),this.getValue(),this.state.checkboxStatus);this.props.handler(i,s,r,null)}setValueNameSelector2(r){this.setState({valueNameSelector2:r});const i=yr(fh(this.props.tableValue,this.state.valueNameSelector1,r,this.props.trace),this.getValue(),this.state.checkboxStatus),s=yr(fh(this.props.wholeTable,this.state.valueNameSelector1,r,this.props.trace),this.getValue(),this.state.checkboxStatus);this.props.handler(i,s,this.state.valueNameSelector1,r)}setValueNameSelector3(r){this.setState({valueNameSelector3:r});let i=pl.get(r);i===void 0&&(i="");const s=yr(this.props.tableValue,i,this.state.checkboxStatus),c=yr(this.props.wholeTable,i,this.state.checkboxStatus);this.props.handler(s,c,this.state.valueNameSelector1,this.state.valueNameSelector2)}checkboxButton(r){this.setState({checkboxStatus:r.target.checked});const i=yr(this.props.tableValue,this.getValue(),r.target.checked),s=yr(this.props.wholeTable,this.getValue(),r.target.checked);this.props.handler(i,s,this.state.valueNameSelector1,this.state.valueNameSelector2)}clearValue(){this.setState({valueNameSelector2:null});const r=yr($a(this.state.valueNameSelector1,this.props.trace),this.getValue(),this.state.checkboxStatus),i=yr($a(this.state.valueNameSelector1,this.props.trace),this.getValue(),this.state.checkboxStatus);this.props.handler(r,i,this.state.valueNameSelector1,null)}render(){const r=d5(this.props.trace),i=p5(this.props.wholeTable,this.props.trace,this.state.valueNameSelector1);return M.createElement(nt,{className:"TraceStatisticsHeader",py:"3"},M.createElement(dl,{label:"Group By",placeholder:!1,options:r,value:this.state.valueNameSelector1,setValue:this.setValueNameSelector1,required:!0}),M.createElement(dl,{label:"Sub-Group",placeholder:"No item selected",options:i,value:this.state.valueNameSelector2,setValue:this.setValueNameSelector2,clearValue:this.clearValue,required:!1}),M.createElement("div",{className:"colorDropdown--TraceStatisticsHeader"},M.createElement(dl,{label:"Color by",placeholder:!1,options:Array.from(pl.keys()),value:this.state.valueNameSelector3,setValue:this.setValueNameSelector3,required:!0})),M.createElement("div",{className:"checkbox--TraceStatisticsHeader"},M.createElement(Tl,{onChange:this.checkboxButton})))}}function fE(o){const r=`"${o.popupContent}"`;return M.createElement("div",{className:"PopupSQL"},M.createElement("div",{className:"PopupSQL--inner"},M.createElement("h3",{className:"PopupSQL--header"},'Tag: "SQL" '," "),M.createElement("textarea",{readOnly:!0,className:"PopupSQL--sqlContent",value:r}),M.createElement(nr,{className:"PopupSQL--closeButton",onClick:()=>o.closePopup("")},"close"," ")))}const hE=[{title:"Name",attribute:"name",suffix:""},{title:"Count",attribute:"count",suffix:""},{title:"Total",attribute:"total",suffix:"ms"},{title:"Avg",attribute:"avg",suffix:"ms"},{title:"Min",attribute:"min",suffix:"ms"},{title:"Max",attribute:"max",suffix:"ms"},{title:"ST Total",attribute:"selfTotal",suffix:"ms"},{title:"ST Avg",attribute:"selfAvg",suffix:"ms"},{title:"ST Min",attribute:"selfMin",suffix:"ms"},{title:"ST Max",attribute:"selfMax",suffix:"ms"},{title:"ST in Duration",attribute:"percent",suffix:"%"}];class dE extends N.Component{constructor(i){super(i);U(this,"searchInTable",(i,s,c)=>{const d=s,m="rgb(255,243,215)",v="rgb(248,248,248)";for(let w=0;w<d.length;w++)!d[w].isDetail&&d[w].hasSubgroupValue?d[w].searchColor="transparent":(d[w].hasSubgroupValue,d[w].searchColor=v);if(typeof i<"u"&&i.forEach(function(E){const S=E.split("\v");for(let O=0;O<d.length;O++)S[S.length-1].indexOf(d[O].name)!==-1&&(d[O].parentElement==="none"||S[S.length-1].indexOf(d[O].parentElement)!==-1)&&(d[O].searchColor=m)}),c){const w=c.toLowerCase();for(let E=0;E<d.length;E++)if(d[E].name.toLowerCase().indexOf(w)!==-1){d[E].searchColor=m;for(let S=0;S<d.length;S++)d[S].parentElement===d[E].name&&(d[S].searchColor=m);if(d[E].isDetail)for(let S=0;S<d.length;S++)d[E].parentElement===d[S].name&&(d[S].searchColor=m)}}return d});this.state={tableValue:[],sortIndex:1,sortAsc:!1,showPopup:!1,popupContent:"",wholeTable:[],valueNameSelector1:"Service Name",valueNameSelector2:null},this.handler=this.handler.bind(this),this.togglePopup=this.togglePopup.bind(this),this.searchInTable(this.props.uiFindVertexKeys,this.state.tableValue,this.props.uiFind)}componentDidUpdate(i){this.props.uiFindVertexKeys!==i.uiFindVertexKeys&&this.changeTableValueSearch()}changeTableValueSearch(){this.searchInTable(this.props.uiFindVertexKeys,this.state.tableValue,this.props.uiFind);const i=this.state.tableValue;this.setState(s=>({...s,tableValue:i}))}handler(i,s,c,d){this.setState(m=>({...m,tableValue:this.searchInTable(this.props.uiFindVertexKeys,i,this.props.uiFind),sortIndex:1,sortAsc:!1,valueNameSelector1:c,valueNameSelector2:d,wholeTable:s}))}togglePopup(i){const s=this.state.showPopup;this.setState(c=>({...c,showPopup:!s,popupContent:i}))}render(){const i=(w,E)=>{this.state.valueNameSelector1==="sql.query"&&w&&this.togglePopup(E)},s=w=>(S,O)=>S.hasSubgroupValue?O.hasSubgroupValue?w==="name"?S[w].localeCompare(O[w]):S[w]-O[w]:-1:0,c=w=>{const E=this.props.uiFind&&w.searchColor!=="transparent"?w.searchColor:w.colorToPercent,S={background:E,borderColor:E};return E=="rgb(248,248,248)"?(S.background="rgb(0,0,0,0.04)",S.borderColor="rgb(0,0,0,0.04)"):E!="transparent"&&(S.color="black"),{style:S}},d=hE.map(w=>{const E=(O,V)=>w.attribute==="name"?M.createElement("span",{onClick:()=>i(V.hasSubgroupValue,V.name),style:{borderLeft:`4px solid ${V.color||"transparent"}`,padding:"7px 0px 7px 10px",cursor:"default"}},O):`${O}${w.suffix}`,S={title:w.title,dataIndex:w.attribute,sorter:s(w.attribute),render:E,onCell:c};return w.attribute==="count"?{...S,defaultSortOrder:"ascend"}:S}),v=(w=>{const E=w.filter(O=>O.isDetail),S=w.filter(O=>!O.isDetail);for(let O=0;O<S.length;O++){let V=E.filter(q=>q.parentElement===S[O].name);V=V.map((q,Q)=>{const H={key:`${O}-${Q}`};return{...q,...H}});const X={key:O.toString(),children:V};S[O]={...S[O],...X}}return S})(this.state.tableValue);return M.createElement(nt,{sx:{".ant-table-row-expand-icon":{background:"transparent",borderColor:"initial"}}},M.createElement(uE,{trace:this.props.trace,tableValue:this.state.tableValue,wholeTable:this.state.wholeTable,handler:this.handler}),this.state.showPopup?M.createElement(fE,{closePopup:this.togglePopup,popupContent:this.state.popupContent}):null,M.createElement(jh,{className:"span-table span-view-table",columns:d,dataSource:v,pagination:{total:v.length,pageSizeOptions:["10","20","50","100"],showSizeChanger:!0,showQuickJumper:!0},rowClassName:w=>w.hasSubgroupValue?"MainTableData--TraceStatistics":"undefClass--TraceStatistics",key:v.length,defaultExpandAllRows:!0,sortDirections:["ascend","descend","ascend"],showSorterTooltip:!1}))}}const pE=({trace:o,scrollManager:r})=>{const i=Af("search"),s=Af("view");gb(),console.log("here333333 trace search:",i);const[c,d]=N.useState(s??qt.TraceTimelineViewer),[m,v]=N.useState({time:{current:[0,1]}}),[w,E]=N.useState(!0),[S]=ts(ns);vb(),N.useEffect(()=>{r.setTrace(o)},[]);const O=W=>{Mh({view:W}),d(W)},V=W=>{const Z={...m.time,...W};v({...m,time:Z})},X=(W,Z,te)=>{v({...m,time:{current:[W,Z]}})},q=()=>{r.scrollToPrevVisibleSpan()},Q=()=>{r.scrollToNextVisibleSpan()},H=en.memoize(Ah,W=>`${W} ${o.traceID} ${o.spans.length}`),$=N.useMemo(()=>Gw(o),[o]);let pe=0;const C=N.useMemo(()=>{let W;return i&&(c===qt.TraceGraph?(W=Sb(i,en.get($,"vertices",[])),pe=W?W.size:0):(W=H(i,o.spans),pe=W?W.size:0)),W},[i]);let p;switch(c){case qt.TraceTimelineViewer:p=M.createElement(Vw,{registerAccessors:r.setAccessors,scrollToFirstVisibleSpan:r.scrollToFirstVisibleSpan,findMatchesIDs:C,trace:o,updateNextViewRangeTime:V,updateViewRangeTime:X,viewRange:m,search:i});break;case qt.TraceGraph:p=M.createElement(a5,{ev:$,search:i,uiFindVertexKeys:C});break;case qt.TraceJSON:p=M.createElement(i5,{trace:o});break;case qt.TraceFlamegraph:p=M.createElement(o5,{trace:o});break;case qt.TraceSpansView:p=M.createElement(c5,{trace:o,uiFindVertexKeys:C,uiFind:i});break;case qt.TraceStatistics:p=M.createElement(dE,{trace:o,uiFindVertexKeys:C,uiFind:i});break;default:p=M.createElement(M.Fragment,null);break}return M.createElement(nt,{position:"absolute",minH:"100vh",width:"100%"},M.createElement(nt,{position:"fixed",width:"100%",bg:Ot("#fff",pn.bodyBg.dark),zIndex:"1000"},M.createElement(Kb,{trace:o,viewRange:m,updateNextViewRangeTime:V,updateViewRangeTime:X,onGraphCollapsed:()=>E(!w),collapsed:w,searchCount:pe,prevResult:q,nextResult:Q,onViewTypeChange:O,viewType:c,search:i})),M.createElement(nt,{mt:w?S?"60px":"52px":S?"136px":"146px"},p))};function Eh(o,r,i){const s=new Set;let{references:c}=o,d;const m=v=>v.refType==="CHILD_OF"||v.refType==="FOLLOWS_FROM"?(d=v.spanID,s.add(d),r.has(d)):!1;for(;Array.isArray(c)&&c.length;){const v=c.some(m);if(v)return{isHidden:v,parentIDs:s};if(!d)break;const w=i.get(d);d=void 0,c=w&&w.references}return{parentIDs:s,isHidden:!1}}class xh{constructor(r,i){U(this,"_trace");U(this,"_scroller");U(this,"_accessors");U(this,"setAccessors",r=>{this._accessors=r});U(this,"scrollPageDown",()=>{!this._scroller||!this._accessors||this._scroller.scrollBy(.95*this._accessors.getViewHeight(),!0)});U(this,"scrollPageUp",()=>{!this._scroller||!this._accessors||this._scroller.scrollBy(-.95*this._accessors.getViewHeight(),!0)});U(this,"scrollToNextVisibleSpan",()=>{this._scrollToVisibleSpan(1)});U(this,"scrollToPrevVisibleSpan",()=>{this._scrollToVisibleSpan(-1)});U(this,"scrollToFirstVisibleSpan",()=>{this._scrollToVisibleSpan(1,0)});this._trace=r,this._scroller=i,this._accessors=void 0}_scrollPast(r,i){const s=this._accessors;if(!s)throw new Error("Accessors not set");const c=i<0,d=s.getRowPosition(r);if(!d){console.warn("Invalid row index");return}let{y:m}=d;const v=s.getViewHeight();c||(m+=d.height,m-=v),m+=i*.5*v,this._scroller.scrollTo(m)}_scrollToVisibleSpan(r,i){const s=this._accessors;if(!s)throw new Error("Accessors not set");if(!this._trace)return;const{duration:c,spans:d,startTime:m}=this._trace,v=r<0;let w;i!=null?w=i:v?w=s.getTopRowIndexVisible():w=s.getBottomRowIndexVisible();const E=s.mapRowIndexToSpanIndex(w);if(E===0&&v||E===d.length-1&&!v)return;let S=E;E!==0&&E!==d.length-1&&(S-=r);const[O,V]=s.getViewRange(),X=O!==0||V!==1,q=X?m+c*O:NaN,Q=X?m+c*V:NaN,H=s.getSearchedSpanIDs(),$=s.getCollapsedChildren(),pe=$?new Set($):null,C=pe?new Map(d.map(te=>[te.spanID,te])):new Map,p=r<0?-1:d.length;let W;for(let te=S+r;te!==p;te+=r){const ae=d[te],{duration:z,spanID:ie,startTime:J}=ae,ue=J+z;if(!(X&&(J>Q||ue<q))&&!(H&&!H.has(ie))){if(pe){const{isHidden:ve,parentIDs:T}=Eh(ae,pe,C);if(ve){T.forEach(R=>pe.add(R));continue}}W=te;break}}if((!W||W===p)&&(W=p-r,pe)){let te;do{const{isHidden:ae,parentIDs:z}=Eh(d[W],pe,C);ae&&(z.forEach(ie=>pe.add(ie)),W--),te=ae}while(te)}const Z=s.mapSpanIndexToRowIndex(W);this._scrollPast(Z,r)}setTrace(r){this._trace=r}destroy(){this._trace=void 0,this._scroller=void 0,this._accessors=void 0}}var Uo={linear:function(o,r,i,s){var c=i-r;return c*o/s+r},easeInQuad:function(o,r,i,s){var c=i-r;return c*(o/=s)*o+r},easeOutQuad:function(o,r,i,s){var c=i-r;return-c*(o/=s)*(o-2)+r},easeInOutQuad:function(o,r,i,s){var c=i-r;return(o/=s/2)<1?c/2*o*o+r:-c/2*(--o*(o-2)-1)+r},easeInCubic:function(o,r,i,s){var c=i-r;return c*(o/=s)*o*o+r},easeOutCubic:function(o,r,i,s){var c=i-r;return c*((o=o/s-1)*o*o+1)+r},easeInOutCubic:function(o,r,i,s){var c=i-r;return(o/=s/2)<1?c/2*o*o*o+r:c/2*((o-=2)*o*o+2)+r},easeInQuart:function(o,r,i,s){var c=i-r;return c*(o/=s)*o*o*o+r},easeOutQuart:function(o,r,i,s){var c=i-r;return-c*((o=o/s-1)*o*o*o-1)+r},easeInOutQuart:function(o,r,i,s){var c=i-r;return(o/=s/2)<1?c/2*o*o*o*o+r:-c/2*((o-=2)*o*o*o-2)+r},easeInQuint:function(o,r,i,s){var c=i-r;return c*(o/=s)*o*o*o*o+r},easeOutQuint:function(o,r,i,s){var c=i-r;return c*((o=o/s-1)*o*o*o*o+1)+r},easeInOutQuint:function(o,r,i,s){var c=i-r;return(o/=s/2)<1?c/2*o*o*o*o*o+r:c/2*((o-=2)*o*o*o*o+2)+r},easeInSine:function(o,r,i,s){var c=i-r;return-c*Math.cos(o/s*(Math.PI/2))+c+r},easeOutSine:function(o,r,i,s){var c=i-r;return c*Math.sin(o/s*(Math.PI/2))+r},easeInOutSine:function(o,r,i,s){var c=i-r;return-c/2*(Math.cos(Math.PI*o/s)-1)+r},easeInExpo:function(o,r,i,s){var c=i-r;return o==0?r:c*Math.pow(2,10*(o/s-1))+r},easeOutExpo:function(o,r,i,s){var c=i-r;return o==s?r+c:c*(-Math.pow(2,-10*o/s)+1)+r},easeInOutExpo:function(o,r,i,s){var c=i-r;return o===0?r:o===s?r+c:(o/=s/2)<1?c/2*Math.pow(2,10*(o-1))+r:c/2*(-Math.pow(2,-10*--o)+2)+r},easeInCirc:function(o,r,i,s){var c=i-r;return-c*(Math.sqrt(1-(o/=s)*o)-1)+r},easeOutCirc:function(o,r,i,s){var c=i-r;return c*Math.sqrt(1-(o=o/s-1)*o)+r},easeInOutCirc:function(o,r,i,s){var c=i-r;return(o/=s/2)<1?-c/2*(Math.sqrt(1-o*o)-1)+r:c/2*(Math.sqrt(1-(o-=2)*o)+1)+r},easeInElastic:function(o,r,i,s){var c=i-r,d,m,v;return v=1.70158,m=0,d=c,o===0?r:(o/=s)===1?r+c:(m||(m=s*.3),d<Math.abs(c)?(d=c,v=m/4):v=m/(2*Math.PI)*Math.asin(c/d),-(d*Math.pow(2,10*(o-=1))*Math.sin((o*s-v)*(2*Math.PI)/m))+r)},easeOutElastic:function(o,r,i,s){var c=i-r,d,m,v;return v=1.70158,m=0,d=c,o===0?r:(o/=s)===1?r+c:(m||(m=s*.3),d<Math.abs(c)?(d=c,v=m/4):v=m/(2*Math.PI)*Math.asin(c/d),d*Math.pow(2,-10*o)*Math.sin((o*s-v)*(2*Math.PI)/m)+c+r)},easeInOutElastic:function(o,r,i,s){var c=i-r,d,m,v;return v=1.70158,m=0,d=c,o===0?r:(o/=s/2)===2?r+c:(m||(m=s*(.3*1.5)),d<Math.abs(c)?(d=c,v=m/4):v=m/(2*Math.PI)*Math.asin(c/d),o<1?-.5*(d*Math.pow(2,10*(o-=1))*Math.sin((o*s-v)*(2*Math.PI)/m))+r:d*Math.pow(2,-10*(o-=1))*Math.sin((o*s-v)*(2*Math.PI)/m)*.5+c+r)},easeInBack:function(o,r,i,s,c){var d=i-r;return c===void 0&&(c=1.70158),d*(o/=s)*o*((c+1)*o-c)+r},easeOutBack:function(o,r,i,s,c){var d=i-r;return c===void 0&&(c=1.70158),d*((o=o/s-1)*o*((c+1)*o+c)+1)+r},easeInOutBack:function(o,r,i,s,c){var d=i-r;return c===void 0&&(c=1.70158),(o/=s/2)<1?d/2*(o*o*(((c*=1.525)+1)*o-c))+r:d/2*((o-=2)*o*(((c*=1.525)+1)*o+c)+2)+r},easeInBounce:function(o,r,i,s){var c=i-r,d;return d=Uo.easeOutBounce(s-o,0,c,s),c-d+r},easeOutBounce:function(o,r,i,s){var c=i-r;return(o/=s)<1/2.75?c*(7.5625*o*o)+r:o<2/2.75?c*(7.5625*(o-=1.5/2.75)*o+.75)+r:o<2.5/2.75?c*(7.5625*(o-=2.25/2.75)*o+.9375)+r:c*(7.5625*(o-=2.625/2.75)*o+.984375)+r},easeInOutBounce:function(o,r,i,s){var c=i-r,d;return o<s/2?(d=Uo.easeInBounce(o*2,0,c,s),d*.5+r):(d=Uo.easeOutBounce(o*2-s,0,c,s),d*.5+c*.5+r)}},mE=Uo;const gE=ga(mE);class pd{constructor({duration:r,from:i,to:s,delay:c,onUpdate:d,onComplete:m}){U(this,"callbackComplete");U(this,"callbackUpdate");U(this,"delay");U(this,"duration");U(this,"from");U(this,"requestID");U(this,"startTime");U(this,"timeoutID");U(this,"to");U(this,"_frameCallback",()=>{this.timeoutID=void 0,this.requestID=void 0;const r=Object.freeze(this.getCurrent());this.callbackUpdate&&this.callbackUpdate(r),this.callbackComplete&&r.done&&this.callbackComplete(r),r.done?(this.callbackComplete=void 0,this.callbackUpdate=void 0):this.requestID=window.requestAnimationFrame(this._frameCallback)});this.startTime=Date.now()+(c||0),this.duration=r,this.from=i,this.to=s,!d&&!m?(this.callbackComplete=void 0,this.callbackUpdate=void 0,this.timeoutID=void 0,this.requestID=void 0):(this.callbackComplete=m,this.callbackUpdate=d,c?(this.timeoutID=window.setTimeout(this._frameCallback,c),this.requestID=void 0):(this.requestID=window.requestAnimationFrame(this._frameCallback),this.timeoutID=void 0))}cancel(){this.timeoutID!=null&&(clearTimeout(this.timeoutID),this.timeoutID=void 0),this.requestID!=null&&(window.cancelAnimationFrame(this.requestID),this.requestID=void 0),this.callbackComplete=void 0,this.callbackUpdate=void 0}getCurrent(){const r=Date.now()-this.startTime;return r<=0?{done:!1,value:this.from}:r>=this.duration?{done:!0,value:this.to}:{done:!1,value:gE.easeOutQuint(r,this.from,this.to,this.duration)}}}const md=350;let bi;function gd({done:o,value:r}){window.scrollTo(window.scrollX,r),o&&(bi=void 0)}function Sh(o,r=!1){const{scrollY:i}=window;let s=i;if(r&&bi){const d=bi.to<i?"up":"down",m=o<0?"up":"down";d===m&&(s=bi.to)}const c=s+o;bi=new pd({to:c,duration:md,from:i,onUpdate:gd})}function kh(o){const{scrollY:r}=window;bi=new pd({duration:md,from:r,to:o,onUpdate:gd})}const vE=({id:o,dsId:r})=>{const[i,s]=N.useState(null),[c,d]=N.useState(null),m=lb(r);N.useEffect(()=>(v(),()=>{c!=null&&c.current&&(c.current.destroy(),c.current=new xh(void 0,{scrollBy:Sh,scrollTo:kh}))}),[]);const v=async()=>{let w;switch(m.type){case Pf.Jaeger:const S=await cb(r,o);S.length>0&&(w=jf(S[0]));break;case Pf.TestData:const O=bb(o);O&&(w=jf(O));break}s(w);const E=new xh(w,{scrollBy:Sh,scrollTo:kh});d(E)};return M.createElement(M.Fragment,null,i&&c&&M.createElement(pE,{trace:i,scrollManager:c}))},SE=()=>{const o=ub();return o.id&&o.datasourceId&&M.createElement(vE,{id:o.id,dsId:o.datasourceId})};export{SE as default};
